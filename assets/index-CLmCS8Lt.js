var vj=Object.defineProperty;var xj=(t,e,n)=>e in t?vj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ze=(t,e,n)=>xj(t,typeof e!="symbol"?e+"":e,n);function mL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gL={exports:{}},Zg={},yL={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.element"),bj=Symbol.for("react.portal"),Sj=Symbol.for("react.fragment"),wj=Symbol.for("react.strict_mode"),Tj=Symbol.for("react.profiler"),Ej=Symbol.for("react.provider"),Cj=Symbol.for("react.context"),kj=Symbol.for("react.forward_ref"),Aj=Symbol.for("react.suspense"),Rj=Symbol.for("react.memo"),_j=Symbol.for("react.lazy"),pE=Symbol.iterator;function Lj(t){return t===null||typeof t!="object"?null:(t=pE&&t[pE]||t["@@iterator"],typeof t=="function"?t:null)}var vL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xL=Object.assign,bL={};function bu(t,e,n){this.props=t,this.context=e,this.refs=bL,this.updater=n||vL}bu.prototype.isReactComponent={};bu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SL(){}SL.prototype=bu.prototype;function iS(t,e,n){this.props=t,this.context=e,this.refs=bL,this.updater=n||vL}var sS=iS.prototype=new SL;sS.constructor=iS;xL(sS,bu.prototype);sS.isPureReactComponent=!0;var mE=Array.isArray,wL=Object.prototype.hasOwnProperty,oS={current:null},TL={key:!0,ref:!0,__self:!0,__source:!0};function EL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)wL.call(e,r)&&!TL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nh,type:t,key:s,ref:o,props:i,_owner:oS.current}}function Ij(t,e){return{$$typeof:nh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aS(t){return typeof t=="object"&&t!==null&&t.$$typeof===nh}function Pj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gE=/\/+/g;function Cy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Pj(""+t.key):e.toString(36)}function zp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nh:case bj:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cy(o,0):r,mE(i)?(n="",t!=null&&(n=t.replace(gE,"$&/")+"/"),zp(i,e,n,"",function(c){return c})):i!=null&&(aS(i)&&(i=Ij(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cy(s,a);o+=zp(s,e,n,l,i)}else if(l=Lj(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cy(s,a++),o+=zp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dh(t,e,n){if(t==null)return t;var r=[],i=0;return zp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Dj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fr={current:null},Up={transition:null},Mj={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Up,ReactCurrentOwner:oS};function CL(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Dh,forEach:function(t,e,n){Dh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dh(t,function(){e++}),e},toArray:function(t){return Dh(t,function(e){return e})||[]},only:function(t){if(!aS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=bu;Ke.Fragment=Sj;Ke.Profiler=Tj;Ke.PureComponent=iS;Ke.StrictMode=wj;Ke.Suspense=Aj;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mj;Ke.act=CL;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=oS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wL.call(e,l)&&!TL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:nh,type:t.type,key:i,ref:s,props:r,_owner:o}};Ke.createContext=function(t){return t={$$typeof:Cj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ej,_context:t},t.Consumer=t};Ke.createElement=EL;Ke.createFactory=function(t){var e=EL.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:kj,render:t}};Ke.isValidElement=aS;Ke.lazy=function(t){return{$$typeof:_j,_payload:{_status:-1,_result:t},_init:Dj}};Ke.memo=function(t,e){return{$$typeof:Rj,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=Up.transition;Up.transition={};try{t()}finally{Up.transition=e}};Ke.unstable_act=CL;Ke.useCallback=function(t,e){return fr.current.useCallback(t,e)};Ke.useContext=function(t){return fr.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return fr.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return fr.current.useEffect(t,e)};Ke.useId=function(){return fr.current.useId()};Ke.useImperativeHandle=function(t,e,n){return fr.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return fr.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return fr.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return fr.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return fr.current.useReducer(t,e,n)};Ke.useRef=function(t){return fr.current.useRef(t)};Ke.useState=function(t){return fr.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return fr.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return fr.current.useTransition()};Ke.version="18.3.1";yL.exports=Ke;var w=yL.exports;const wr=xu(w),_x=mL({__proto__:null,default:wr},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj=w,Fj=Symbol.for("react.element"),jj=Symbol.for("react.fragment"),Nj=Object.prototype.hasOwnProperty,Bj=Oj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$j={key:!0,ref:!0,__self:!0,__source:!0};function kL(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Nj.call(e,r)&&!$j.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Fj,type:t,key:s,ref:o,props:i,_owner:Bj.current}}Zg.Fragment=jj;Zg.jsx=kL;Zg.jsxs=kL;gL.exports=Zg;var g=gL.exports,Lx={},AL={exports:{}},Jr={},RL={exports:{}},_L={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,I){var $=B.length;B.push(I);e:for(;0<$;){var G=$-1>>>1,Y=B[G];if(0<i(Y,I))B[G]=I,B[$]=Y,$=G;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var I=B[0],$=B.pop();if($!==I){B[0]=$;e:for(var G=0,Y=B.length,q=Y>>>1;G<q;){var te=2*(G+1)-1,ae=B[te],le=te+1,Te=B[le];if(0>i(ae,$))le<Y&&0>i(Te,ae)?(B[G]=Te,B[le]=$,G=le):(B[G]=ae,B[te]=$,G=te);else if(le<Y&&0>i(Te,$))B[G]=Te,B[le]=$,G=le;else break e}}return I}function i(B,I){var $=B.sortIndex-I.sortIndex;return $!==0?$:B.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=B)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function S(B){if(m=!1,x(B),!p)if(n(l)!==null)p=!0,F(T);else{var I=n(c);I!==null&&O(S,I.startTime-B)}}function T(B,I){p=!1,m&&(m=!1,v(k),k=-1),h=!0;var $=f;try{for(x(I),d=n(l);d!==null&&(!(d.expirationTime>I)||B&&!L());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var Y=G(d.expirationTime<=I);I=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),x(I)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var te=n(c);te!==null&&O(S,te.startTime-I),q=!1}return q}finally{d=null,f=$,h=!1}}var C=!1,E=null,k=-1,A=5,R=-1;function L(){return!(t.unstable_now()-R<A)}function D(){if(E!==null){var B=t.unstable_now();R=B;var I=!0;try{I=E(!0,B)}finally{I?P():(C=!1,E=null)}}else C=!1}var P;if(typeof b=="function")P=function(){b(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,j=M.port2;M.port1.onmessage=D,P=function(){j.postMessage(null)}}else P=function(){y(D,0)};function F(B){E=B,C||(C=!0,P())}function O(B,I){k=y(function(){B(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,F(T))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var $=f;f=I;try{return B()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=f;f=B;try{return I()}finally{f=$}},t.unstable_scheduleCallback=function(B,I,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,B={id:u++,callback:I,priorityLevel:B,startTime:$,expirationTime:Y,sortIndex:-1},$>G?(B.sortIndex=$,e(c,B),n(l)===null&&B===n(c)&&(m?(v(k),k=-1):m=!0,O(S,$-G))):(B.sortIndex=Y,e(l,B),p||h||(p=!0,F(T))),B},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(B){var I=f;return function(){var $=f;f=I;try{return B.apply(this,arguments)}finally{f=$}}}})(_L);RL.exports=_L;var zj=RL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj=w,qr=zj;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LL=new Set,af={};function Tl(t,e){Hc(t,e),Hc(t+"Capture",e)}function Hc(t,e){for(af[t]=e,t=0;t<e.length;t++)LL.add(e[t])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ix=Object.prototype.hasOwnProperty,Vj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yE={},vE={};function Hj(t){return Ix.call(vE,t)?!0:Ix.call(yE,t)?!1:Vj.test(t)?vE[t]=!0:(yE[t]=!0,!1)}function Wj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gj(t,e,n,r){if(e===null||typeof e>"u"||Wj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wn[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wn[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wn[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wn[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wn[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wn[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wn[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wn[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wn[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var lS=/[\-:]([a-z])/g;function cS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lS,cS);Wn[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lS,cS);Wn[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lS,cS);Wn[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wn[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wn[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function uS(t,e,n,r){var i=Wn.hasOwnProperty(e)?Wn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gj(e,n,i,r)&&(n=null),r||i===null?Hj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mo=Uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mh=Symbol.for("react.element"),nc=Symbol.for("react.portal"),rc=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),IL=Symbol.for("react.provider"),PL=Symbol.for("react.context"),fS=Symbol.for("react.forward_ref"),Dx=Symbol.for("react.suspense"),Mx=Symbol.for("react.suspense_list"),hS=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),DL=Symbol.for("react.offscreen"),xE=Symbol.iterator;function Nu(t){return t===null||typeof t!="object"?null:(t=xE&&t[xE]||t["@@iterator"],typeof t=="function"?t:null)}var Xt=Object.assign,ky;function dd(t){if(ky===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ky=e&&e[1]||""}return`
`+ky+t}var Ay=!1;function Ry(t,e){if(!t||Ay)return"";Ay=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ay=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dd(t):""}function Kj(t){switch(t.tag){case 5:return dd(t.type);case 16:return dd("Lazy");case 13:return dd("Suspense");case 19:return dd("SuspenseList");case 0:case 2:case 15:return t=Ry(t.type,!1),t;case 11:return t=Ry(t.type.render,!1),t;case 1:return t=Ry(t.type,!0),t;default:return""}}function Ox(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rc:return"Fragment";case nc:return"Portal";case Px:return"Profiler";case dS:return"StrictMode";case Dx:return"Suspense";case Mx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PL:return(t.displayName||"Context")+".Consumer";case IL:return(t._context.displayName||"Context")+".Provider";case fS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hS:return e=t.displayName||null,e!==null?e:Ox(t.type)||"Memo";case Lo:e=t._payload,t=t._init;try{return Ox(t(e))}catch{}}return null}function Yj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ox(e);case 8:return e===dS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ML(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qj(t){var e=ML(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oh(t){t._valueTracker||(t._valueTracker=qj(t))}function OL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ML(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Om(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fx(t,e){var n=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FL(t,e){e=e.checked,e!=null&&uS(t,"checked",e,!1)}function jx(t,e){FL(t,e);var n=Jo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nx(t,e.type,Jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nx(t,e,n){(e!=="number"||Om(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fd=Array.isArray;function Cc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(fd(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jo(n)}}function jL(t,e){var n=Jo(e.value),r=Jo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function TE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $x(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fh,BL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fh=Fh||document.createElement("div"),Fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xj=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(t){Xj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Id[e]=Id[t]})});function $L(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Id.hasOwnProperty(t)&&Id[t]?(""+e).trim():e+"px"}function zL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$L(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Qj=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zx(t,e){if(e){if(Qj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Ux(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vx=null;function pS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hx=null,kc=null,Ac=null;function EE(t){if(t=sh(t)){if(typeof Hx!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=r0(e),Hx(t.stateNode,t.type,e))}}function UL(t){kc?Ac?Ac.push(t):Ac=[t]:kc=t}function VL(){if(kc){var t=kc,e=Ac;if(Ac=kc=null,EE(t),e)for(t=0;t<e.length;t++)EE(e[t])}}function HL(t,e){return t(e)}function WL(){}var _y=!1;function GL(t,e,n){if(_y)return t(e,n);_y=!0;try{return HL(t,e,n)}finally{_y=!1,(kc!==null||Ac!==null)&&(WL(),VL())}}function cf(t,e){var n=t.stateNode;if(n===null)return null;var r=r0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var Wx=!1;if(ao)try{var Bu={};Object.defineProperty(Bu,"passive",{get:function(){Wx=!0}}),window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{Wx=!1}function Zj(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Pd=!1,Fm=null,jm=!1,Gx=null,Jj={onError:function(t){Pd=!0,Fm=t}};function e6(t,e,n,r,i,s,o,a,l){Pd=!1,Fm=null,Zj.apply(Jj,arguments)}function t6(t,e,n,r,i,s,o,a,l){if(e6.apply(this,arguments),Pd){if(Pd){var c=Fm;Pd=!1,Fm=null}else throw Error(oe(198));jm||(jm=!0,Gx=c)}}function El(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CE(t){if(El(t)!==t)throw Error(oe(188))}function n6(t){var e=t.alternate;if(!e){if(e=El(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return CE(i),t;if(s===r)return CE(i),e;s=s.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function YL(t){return t=n6(t),t!==null?qL(t):null}function qL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qL(t);if(e!==null)return e;t=t.sibling}return null}var XL=qr.unstable_scheduleCallback,kE=qr.unstable_cancelCallback,r6=qr.unstable_shouldYield,i6=qr.unstable_requestPaint,an=qr.unstable_now,s6=qr.unstable_getCurrentPriorityLevel,mS=qr.unstable_ImmediatePriority,QL=qr.unstable_UserBlockingPriority,Nm=qr.unstable_NormalPriority,o6=qr.unstable_LowPriority,ZL=qr.unstable_IdlePriority,Jg=null,ys=null;function a6(t){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Jg,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:u6,l6=Math.log,c6=Math.LN2;function u6(t){return t>>>=0,t===0?32:31-(l6(t)/c6|0)|0}var jh=64,Nh=4194304;function hd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=hd(a):(s&=o,s!==0&&(r=hd(s)))}else o=n&~i,o!==0?r=hd(o):s!==0&&(r=hd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wi(e),i=1<<n,r|=t[n],e&=~i;return r}function d6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=d6(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JL(){var t=jh;return jh<<=1,!(jh&4194240)&&(jh=64),t}function Ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=n}function h6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var yt=0;function eI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tI,yS,nI,rI,iI,Yx=!1,Bh=[],Uo=null,Vo=null,Ho=null,uf=new Map,df=new Map,Oo=[],p6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AE(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":uf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(e.pointerId)}}function $u(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sh(e),e!==null&&yS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function m6(t,e,n,r,i){switch(e){case"focusin":return Uo=$u(Uo,t,e,n,r,i),!0;case"dragenter":return Vo=$u(Vo,t,e,n,r,i),!0;case"mouseover":return Ho=$u(Ho,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return uf.set(s,$u(uf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,df.set(s,$u(df.get(s)||null,t,e,n,r,i)),!0}return!1}function sI(t){var e=Ba(t.target);if(e!==null){var n=El(e);if(n!==null){if(e=n.tag,e===13){if(e=KL(n),e!==null){t.blockedOn=e,iI(t.priority,function(){nI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vx=r,n.target.dispatchEvent(r),Vx=null}else return e=sh(n),e!==null&&yS(e),t.blockedOn=n,!1;e.shift()}return!0}function RE(t,e,n){Vp(t)&&n.delete(e)}function g6(){Yx=!1,Uo!==null&&Vp(Uo)&&(Uo=null),Vo!==null&&Vp(Vo)&&(Vo=null),Ho!==null&&Vp(Ho)&&(Ho=null),uf.forEach(RE),df.forEach(RE)}function zu(t,e){t.blockedOn===e&&(t.blockedOn=null,Yx||(Yx=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,g6)))}function ff(t){function e(i){return zu(i,t)}if(0<Bh.length){zu(Bh[0],t);for(var n=1;n<Bh.length;n++){var r=Bh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&zu(Uo,t),Vo!==null&&zu(Vo,t),Ho!==null&&zu(Ho,t),uf.forEach(e),df.forEach(e),n=0;n<Oo.length;n++)r=Oo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Oo.length&&(n=Oo[0],n.blockedOn===null);)sI(n),n.blockedOn===null&&Oo.shift()}var Rc=mo.ReactCurrentBatchConfig,$m=!0;function y6(t,e,n,r){var i=yt,s=Rc.transition;Rc.transition=null;try{yt=1,vS(t,e,n,r)}finally{yt=i,Rc.transition=s}}function v6(t,e,n,r){var i=yt,s=Rc.transition;Rc.transition=null;try{yt=4,vS(t,e,n,r)}finally{yt=i,Rc.transition=s}}function vS(t,e,n,r){if($m){var i=qx(t,e,n,r);if(i===null)$y(t,e,r,zm,n),AE(t,r);else if(m6(i,t,e,n,r))r.stopPropagation();else if(AE(t,r),e&4&&-1<p6.indexOf(t)){for(;i!==null;){var s=sh(i);if(s!==null&&tI(s),s=qx(t,e,n,r),s===null&&$y(t,e,r,zm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $y(t,e,r,null,n)}}var zm=null;function qx(t,e,n,r){if(zm=null,t=pS(r),t=Ba(t),t!==null)if(e=El(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zm=t,null}function oI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s6()){case mS:return 1;case QL:return 4;case Nm:case o6:return 16;case ZL:return 536870912;default:return 16}default:return 16}}var No=null,xS=null,Hp=null;function aI(){if(Hp)return Hp;var t,e=xS,n=e.length,r,i="value"in No?No.value:No.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hp=i.slice(t,1<r?1-r:void 0)}function Wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $h(){return!0}function _E(){return!1}function ei(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$h:_E,this.isPropagationStopped=_E,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$h)},persist:function(){},isPersistent:$h}),e}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bS=ei(Su),ih=Xt({},Su,{view:0,detail:0}),x6=ei(ih),Iy,Py,Uu,e0=Xt({},ih,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uu&&(Uu&&t.type==="mousemove"?(Iy=t.screenX-Uu.screenX,Py=t.screenY-Uu.screenY):Py=Iy=0,Uu=t),Iy)},movementY:function(t){return"movementY"in t?t.movementY:Py}}),LE=ei(e0),b6=Xt({},e0,{dataTransfer:0}),S6=ei(b6),w6=Xt({},ih,{relatedTarget:0}),Dy=ei(w6),T6=Xt({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),E6=ei(T6),C6=Xt({},Su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k6=ei(C6),A6=Xt({},Su,{data:0}),IE=ei(A6),R6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L6[t])?!!e[t]:!1}function SS(){return I6}var P6=Xt({},ih,{key:function(t){if(t.key){var e=R6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SS,charCode:function(t){return t.type==="keypress"?Wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D6=ei(P6),M6=Xt({},e0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PE=ei(M6),O6=Xt({},ih,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SS}),F6=ei(O6),j6=Xt({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),N6=ei(j6),B6=Xt({},e0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$6=ei(B6),z6=[9,13,27,32],wS=ao&&"CompositionEvent"in window,Dd=null;ao&&"documentMode"in document&&(Dd=document.documentMode);var U6=ao&&"TextEvent"in window&&!Dd,lI=ao&&(!wS||Dd&&8<Dd&&11>=Dd),DE=" ",ME=!1;function cI(t,e){switch(t){case"keyup":return z6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ic=!1;function V6(t,e){switch(t){case"compositionend":return uI(e);case"keypress":return e.which!==32?null:(ME=!0,DE);case"textInput":return t=e.data,t===DE&&ME?null:t;default:return null}}function H6(t,e){if(ic)return t==="compositionend"||!wS&&cI(t,e)?(t=aI(),Hp=xS=No=null,ic=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lI&&e.locale!=="ko"?null:e.data;default:return null}}var W6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W6[t.type]:e==="textarea"}function dI(t,e,n,r){UL(r),e=Um(e,"onChange"),0<e.length&&(n=new bS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Md=null,hf=null;function G6(t){wI(t,0)}function t0(t){var e=ac(t);if(OL(e))return t}function K6(t,e){if(t==="change")return e}var fI=!1;if(ao){var My;if(ao){var Oy="oninput"in document;if(!Oy){var FE=document.createElement("div");FE.setAttribute("oninput","return;"),Oy=typeof FE.oninput=="function"}My=Oy}else My=!1;fI=My&&(!document.documentMode||9<document.documentMode)}function jE(){Md&&(Md.detachEvent("onpropertychange",hI),hf=Md=null)}function hI(t){if(t.propertyName==="value"&&t0(hf)){var e=[];dI(e,hf,t,pS(t)),GL(G6,e)}}function Y6(t,e,n){t==="focusin"?(jE(),Md=e,hf=n,Md.attachEvent("onpropertychange",hI)):t==="focusout"&&jE()}function q6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return t0(hf)}function X6(t,e){if(t==="click")return t0(e)}function Q6(t,e){if(t==="input"||t==="change")return t0(e)}function Z6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qi=typeof Object.is=="function"?Object.is:Z6;function pf(t,e){if(qi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ix.call(e,i)||!qi(t[i],e[i]))return!1}return!0}function NE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BE(t,e){var n=NE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NE(n)}}function pI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mI(){for(var t=window,e=Om();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Om(t.document)}return e}function TS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J6(t){var e=mI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pI(n.ownerDocument.documentElement,n)){if(r!==null&&TS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=BE(n,s);var o=BE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e8=ao&&"documentMode"in document&&11>=document.documentMode,sc=null,Xx=null,Od=null,Qx=!1;function $E(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qx||sc==null||sc!==Om(r)||(r=sc,"selectionStart"in r&&TS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Od&&pf(Od,r)||(Od=r,r=Um(Xx,"onSelect"),0<r.length&&(e=new bS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sc)))}function zh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oc={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},Fy={},gI={};ao&&(gI=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function n0(t){if(Fy[t])return Fy[t];if(!oc[t])return t;var e=oc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gI)return Fy[t]=e[n];return t}var yI=n0("animationend"),vI=n0("animationiteration"),xI=n0("animationstart"),bI=n0("transitionend"),SI=new Map,zE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){SI.set(t,e),Tl(e,[t])}for(var jy=0;jy<zE.length;jy++){var Ny=zE[jy],t8=Ny.toLowerCase(),n8=Ny[0].toUpperCase()+Ny.slice(1);sa(t8,"on"+n8)}sa(yI,"onAnimationEnd");sa(vI,"onAnimationIteration");sa(xI,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(bI,"onTransitionEnd");Hc("onMouseEnter",["mouseout","mouseover"]);Hc("onMouseLeave",["mouseout","mouseover"]);Hc("onPointerEnter",["pointerout","pointerover"]);Hc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r8=new Set("cancel close invalid load scroll toggle".split(" ").concat(pd));function UE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t6(r,e,void 0,t),t.currentTarget=null}function wI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;UE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;UE(i,a,c),s=l}}}if(jm)throw t=Gx,jm=!1,Gx=null,t}function Pt(t,e){var n=e[nb];n===void 0&&(n=e[nb]=new Set);var r=t+"__bubble";n.has(r)||(TI(e,t,2,!1),n.add(r))}function By(t,e,n){var r=0;e&&(r|=4),TI(n,t,r,e)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[Uh]){t[Uh]=!0,LL.forEach(function(n){n!=="selectionchange"&&(r8.has(n)||By(n,!1,t),By(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uh]||(e[Uh]=!0,By("selectionchange",!1,e))}}function TI(t,e,n,r){switch(oI(e)){case 1:var i=y6;break;case 4:i=v6;break;default:i=vS}n=i.bind(null,e,n,t),i=void 0,!Wx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $y(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ba(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}GL(function(){var c=s,u=pS(n),d=[];e:{var f=SI.get(t);if(f!==void 0){var h=bS,p=t;switch(t){case"keypress":if(Wp(n)===0)break e;case"keydown":case"keyup":h=D6;break;case"focusin":p="focus",h=Dy;break;case"focusout":p="blur",h=Dy;break;case"beforeblur":case"afterblur":h=Dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=LE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=S6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=F6;break;case yI:case vI:case xI:h=E6;break;case bI:h=N6;break;case"scroll":h=x6;break;case"wheel":h=$6;break;case"copy":case"cut":case"paste":h=k6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=PE}var m=(e&4)!==0,y=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,x;b!==null;){x=b;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,v!==null&&(S=cf(b,v),S!=null&&m.push(gf(b,S,x)))),y)break;b=b.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Vx&&(p=n.relatedTarget||n.fromElement)&&(Ba(p)||p[lo]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Ba(p):null,p!==null&&(y=El(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=LE,S="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=PE,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=h==null?f:ac(h),x=p==null?f:ac(p),f=new m(S,b+"leave",h,n,u),f.target=y,f.relatedTarget=x,S=null,Ba(u)===c&&(m=new m(v,b+"enter",p,n,u),m.target=x,m.relatedTarget=y,S=m),y=S,h&&p)t:{for(m=h,v=p,b=0,x=m;x;x=$l(x))b++;for(x=0,S=v;S;S=$l(S))x++;for(;0<b-x;)m=$l(m),b--;for(;0<x-b;)v=$l(v),x--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=$l(m),v=$l(v)}m=null}else m=null;h!==null&&VE(d,f,h,m,!1),p!==null&&y!==null&&VE(d,y,p,m,!0)}}e:{if(f=c?ac(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=K6;else if(OE(f))if(fI)T=Q6;else{T=q6;var C=Y6}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=X6);if(T&&(T=T(t,c))){dI(d,T,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Nx(f,"number",f.value)}switch(C=c?ac(c):window,t){case"focusin":(OE(C)||C.contentEditable==="true")&&(sc=C,Xx=c,Od=null);break;case"focusout":Od=Xx=sc=null;break;case"mousedown":Qx=!0;break;case"contextmenu":case"mouseup":case"dragend":Qx=!1,$E(d,n,u);break;case"selectionchange":if(e8)break;case"keydown":case"keyup":$E(d,n,u)}var E;if(wS)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ic?cI(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(lI&&n.locale!=="ko"&&(ic||k!=="onCompositionStart"?k==="onCompositionEnd"&&ic&&(E=aI()):(No=u,xS="value"in No?No.value:No.textContent,ic=!0)),C=Um(c,k),0<C.length&&(k=new IE(k,t,null,n,u),d.push({event:k,listeners:C}),E?k.data=E:(E=uI(n),E!==null&&(k.data=E)))),(E=U6?V6(t,n):H6(t,n))&&(c=Um(c,"onBeforeInput"),0<c.length&&(u=new IE("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}wI(d,e)})}function gf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Um(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cf(t,n),s!=null&&r.unshift(gf(t,s,i)),s=cf(t,e),s!=null&&r.push(gf(t,s,i))),t=t.return}return r}function $l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=cf(n,s),l!=null&&o.unshift(gf(n,l,a))):i||(l=cf(n,s),l!=null&&o.push(gf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var i8=/\r\n?/g,s8=/\u0000|\uFFFD/g;function HE(t){return(typeof t=="string"?t:""+t).replace(i8,`
`).replace(s8,"")}function Vh(t,e,n){if(e=HE(e),HE(t)!==e&&n)throw Error(oe(425))}function Vm(){}var Zx=null,Jx=null;function eb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tb=typeof setTimeout=="function"?setTimeout:void 0,o8=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,a8=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(t){return WE.resolve(null).then(t).catch(l8)}:tb;function l8(t){setTimeout(function(){throw t})}function zy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ff(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ff(e)}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wu=Math.random().toString(36).slice(2),fs="__reactFiber$"+wu,yf="__reactProps$"+wu,lo="__reactContainer$"+wu,nb="__reactEvents$"+wu,c8="__reactListeners$"+wu,u8="__reactHandles$"+wu;function Ba(t){var e=t[fs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lo]||n[fs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GE(t);t!==null;){if(n=t[fs])return n;t=GE(t)}return e}t=n,n=t.parentNode}return null}function sh(t){return t=t[fs]||t[lo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ac(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function r0(t){return t[yf]||null}var rb=[],lc=-1;function oa(t){return{current:t}}function Ft(t){0>lc||(t.current=rb[lc],rb[lc]=null,lc--)}function Rt(t,e){lc++,rb[lc]=t.current,t.current=e}var ea={},nr=oa(ea),Tr=oa(!1),cl=ea;function Wc(t,e){var n=t.type.contextTypes;if(!n)return ea;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Er(t){return t=t.childContextTypes,t!=null}function Hm(){Ft(Tr),Ft(nr)}function KE(t,e,n){if(nr.current!==ea)throw Error(oe(168));Rt(nr,e),Rt(Tr,n)}function EI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,Yj(t)||"Unknown",i));return Xt({},n,r)}function Wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,cl=nr.current,Rt(nr,t),Rt(Tr,Tr.current),!0}function YE(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=EI(t,e,cl),r.__reactInternalMemoizedMergedChildContext=t,Ft(Tr),Ft(nr),Rt(nr,t)):Ft(Tr),Rt(Tr,n)}var Ws=null,i0=!1,Uy=!1;function CI(t){Ws===null?Ws=[t]:Ws.push(t)}function d8(t){i0=!0,CI(t)}function aa(){if(!Uy&&Ws!==null){Uy=!0;var t=0,e=yt;try{var n=Ws;for(yt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ws=null,i0=!1}catch(i){throw Ws!==null&&(Ws=Ws.slice(t+1)),XL(mS,aa),i}finally{yt=e,Uy=!1}}return null}var cc=[],uc=0,Gm=null,Km=0,fi=[],hi=0,ul=null,Xs=1,Qs="";function Ra(t,e){cc[uc++]=Km,cc[uc++]=Gm,Gm=t,Km=e}function kI(t,e,n){fi[hi++]=Xs,fi[hi++]=Qs,fi[hi++]=ul,ul=t;var r=Xs;t=Qs;var i=32-Wi(r)-1;r&=~(1<<i),n+=1;var s=32-Wi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xs=1<<32-Wi(e)+i|n<<i|r,Qs=s+t}else Xs=1<<s|n<<i|r,Qs=t}function ES(t){t.return!==null&&(Ra(t,1),kI(t,1,0))}function CS(t){for(;t===Gm;)Gm=cc[--uc],cc[uc]=null,Km=cc[--uc],cc[uc]=null;for(;t===ul;)ul=fi[--hi],fi[hi]=null,Qs=fi[--hi],fi[hi]=null,Xs=fi[--hi],fi[hi]=null}var Wr=null,Vr=null,Wt=!1,zi=null;function AI(t,e){var n=gi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,Vr=Wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ul!==null?{id:Xs,overflow:Qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wr=t,Vr=null,!0):!1;default:return!1}}function ib(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sb(t){if(Wt){var e=Vr;if(e){var n=e;if(!qE(t,e)){if(ib(t))throw Error(oe(418));e=Wo(n.nextSibling);var r=Wr;e&&qE(t,e)?AI(r,n):(t.flags=t.flags&-4097|2,Wt=!1,Wr=t)}}else{if(ib(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Wt=!1,Wr=t}}}function XE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function Hh(t){if(t!==Wr)return!1;if(!Wt)return XE(t),Wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eb(t.type,t.memoizedProps)),e&&(e=Vr)){if(ib(t))throw RI(),Error(oe(418));for(;e;)AI(t,e),e=Wo(e.nextSibling)}if(XE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vr=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Wr?Wo(t.stateNode.nextSibling):null;return!0}function RI(){for(var t=Vr;t;)t=Wo(t.nextSibling)}function Gc(){Vr=Wr=null,Wt=!1}function kS(t){zi===null?zi=[t]:zi.push(t)}var f8=mo.ReactCurrentBatchConfig;function Vu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Wh(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QE(t){var e=t._init;return e(t._payload)}function _I(t){function e(v,b){if(t){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=qo(v,b),v.index=0,v.sibling=null,v}function s(v,b,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,b,x,S){return b===null||b.tag!==6?(b=qy(x,v.mode,S),b.return=v,b):(b=i(b,x),b.return=v,b)}function l(v,b,x,S){var T=x.type;return T===rc?u(v,b,x.props.children,S,x.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Lo&&QE(T)===b.type)?(S=i(b,x.props),S.ref=Vu(v,b,x),S.return=v,S):(S=Zp(x.type,x.key,x.props,null,v.mode,S),S.ref=Vu(v,b,x),S.return=v,S)}function c(v,b,x,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Xy(x,v.mode,S),b.return=v,b):(b=i(b,x.children||[]),b.return=v,b)}function u(v,b,x,S,T){return b===null||b.tag!==7?(b=Za(x,v.mode,S,T),b.return=v,b):(b=i(b,x),b.return=v,b)}function d(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qy(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mh:return x=Zp(b.type,b.key,b.props,null,v.mode,x),x.ref=Vu(v,null,b),x.return=v,x;case nc:return b=Xy(b,v.mode,x),b.return=v,b;case Lo:var S=b._init;return d(v,S(b._payload),x)}if(fd(b)||Nu(b))return b=Za(b,v.mode,x,null),b.return=v,b;Wh(v,b)}return null}function f(v,b,x,S){var T=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(v,b,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mh:return x.key===T?l(v,b,x,S):null;case nc:return x.key===T?c(v,b,x,S):null;case Lo:return T=x._init,f(v,b,T(x._payload),S)}if(fd(x)||Nu(x))return T!==null?null:u(v,b,x,S,null);Wh(v,x)}return null}function h(v,b,x,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(x)||null,a(b,v,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mh:return v=v.get(S.key===null?x:S.key)||null,l(b,v,S,T);case nc:return v=v.get(S.key===null?x:S.key)||null,c(b,v,S,T);case Lo:var C=S._init;return h(v,b,x,C(S._payload),T)}if(fd(S)||Nu(S))return v=v.get(x)||null,u(b,v,S,T,null);Wh(b,S)}return null}function p(v,b,x,S){for(var T=null,C=null,E=b,k=b=0,A=null;E!==null&&k<x.length;k++){E.index>k?(A=E,E=null):A=E.sibling;var R=f(v,E,x[k],S);if(R===null){E===null&&(E=A);break}t&&E&&R.alternate===null&&e(v,E),b=s(R,b,k),C===null?T=R:C.sibling=R,C=R,E=A}if(k===x.length)return n(v,E),Wt&&Ra(v,k),T;if(E===null){for(;k<x.length;k++)E=d(v,x[k],S),E!==null&&(b=s(E,b,k),C===null?T=E:C.sibling=E,C=E);return Wt&&Ra(v,k),T}for(E=r(v,E);k<x.length;k++)A=h(E,v,k,x[k],S),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?k:A.key),b=s(A,b,k),C===null?T=A:C.sibling=A,C=A);return t&&E.forEach(function(L){return e(v,L)}),Wt&&Ra(v,k),T}function m(v,b,x,S){var T=Nu(x);if(typeof T!="function")throw Error(oe(150));if(x=T.call(x),x==null)throw Error(oe(151));for(var C=T=null,E=b,k=b=0,A=null,R=x.next();E!==null&&!R.done;k++,R=x.next()){E.index>k?(A=E,E=null):A=E.sibling;var L=f(v,E,R.value,S);if(L===null){E===null&&(E=A);break}t&&E&&L.alternate===null&&e(v,E),b=s(L,b,k),C===null?T=L:C.sibling=L,C=L,E=A}if(R.done)return n(v,E),Wt&&Ra(v,k),T;if(E===null){for(;!R.done;k++,R=x.next())R=d(v,R.value,S),R!==null&&(b=s(R,b,k),C===null?T=R:C.sibling=R,C=R);return Wt&&Ra(v,k),T}for(E=r(v,E);!R.done;k++,R=x.next())R=h(E,v,k,R.value,S),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?k:R.key),b=s(R,b,k),C===null?T=R:C.sibling=R,C=R);return t&&E.forEach(function(D){return e(v,D)}),Wt&&Ra(v,k),T}function y(v,b,x,S){if(typeof x=="object"&&x!==null&&x.type===rc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Mh:e:{for(var T=x.key,C=b;C!==null;){if(C.key===T){if(T=x.type,T===rc){if(C.tag===7){n(v,C.sibling),b=i(C,x.props.children),b.return=v,v=b;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Lo&&QE(T)===C.type){n(v,C.sibling),b=i(C,x.props),b.ref=Vu(v,C,x),b.return=v,v=b;break e}n(v,C);break}else e(v,C);C=C.sibling}x.type===rc?(b=Za(x.props.children,v.mode,S,x.key),b.return=v,v=b):(S=Zp(x.type,x.key,x.props,null,v.mode,S),S.ref=Vu(v,b,x),S.return=v,v=S)}return o(v);case nc:e:{for(C=x.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(v,b.sibling),b=i(b,x.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=Xy(x,v.mode,S),b.return=v,v=b}return o(v);case Lo:return C=x._init,y(v,b,C(x._payload),S)}if(fd(x))return p(v,b,x,S);if(Nu(x))return m(v,b,x,S);Wh(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,x),b.return=v,v=b):(n(v,b),b=qy(x,v.mode,S),b.return=v,v=b),o(v)):n(v,b)}return y}var Kc=_I(!0),LI=_I(!1),Ym=oa(null),qm=null,dc=null,AS=null;function RS(){AS=dc=qm=null}function _S(t){var e=Ym.current;Ft(Ym),t._currentValue=e}function ob(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _c(t,e){qm=t,AS=dc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sr=!0),t.firstContext=null)}function wi(t){var e=t._currentValue;if(AS!==t)if(t={context:t,memoizedValue:e,next:null},dc===null){if(qm===null)throw Error(oe(308));dc=t,qm.dependencies={lanes:0,firstContext:t}}else dc=dc.next=t;return e}var $a=null;function LS(t){$a===null?$a=[t]:$a.push(t)}function II(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,LS(e)):(n.next=i.next,i.next=n),e.interleaved=n,co(t,r)}function co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Io=!1;function IS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function no(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,co(t,n)}return i=r.interleaved,i===null?(e.next=e,LS(r)):(e.next=i.next,i.next=e),r.interleaved=e,co(t,n)}function Gp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gS(t,n)}}function ZE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xm(t,e,n,r){var i=t.updateQueue;Io=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Xt({},d,f);break e;case 2:Io=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fl|=o,t.lanes=o,t.memoizedState=d}}function JE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var oh={},vs=oa(oh),vf=oa(oh),xf=oa(oh);function za(t){if(t===oh)throw Error(oe(174));return t}function PS(t,e){switch(Rt(xf,e),Rt(vf,t),Rt(vs,oh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$x(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$x(e,t)}Ft(vs),Rt(vs,e)}function Yc(){Ft(vs),Ft(vf),Ft(xf)}function DI(t){za(xf.current);var e=za(vs.current),n=$x(e,t.type);e!==n&&(Rt(vf,t),Rt(vs,n))}function DS(t){vf.current===t&&(Ft(vs),Ft(vf))}var Kt=oa(0);function Qm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vy=[];function MS(){for(var t=0;t<Vy.length;t++)Vy[t]._workInProgressVersionPrimary=null;Vy.length=0}var Kp=mo.ReactCurrentDispatcher,Hy=mo.ReactCurrentBatchConfig,dl=0,qt=null,Tn=null,_n=null,Zm=!1,Fd=!1,bf=0,h8=0;function Gn(){throw Error(oe(321))}function OS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qi(t[n],e[n]))return!1;return!0}function FS(t,e,n,r,i,s){if(dl=s,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kp.current=t===null||t.memoizedState===null?y8:v8,t=n(r,i),Fd){s=0;do{if(Fd=!1,bf=0,25<=s)throw Error(oe(301));s+=1,_n=Tn=null,e.updateQueue=null,Kp.current=x8,t=n(r,i)}while(Fd)}if(Kp.current=Jm,e=Tn!==null&&Tn.next!==null,dl=0,_n=Tn=qt=null,Zm=!1,e)throw Error(oe(300));return t}function jS(){var t=bf!==0;return bf=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?qt.memoizedState=_n=t:_n=_n.next=t,_n}function Ti(){if(Tn===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=Tn.next;var e=_n===null?qt.memoizedState:_n.next;if(e!==null)_n=e,Tn=t;else{if(t===null)throw Error(oe(310));Tn=t,t={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},_n===null?qt.memoizedState=_n=t:_n=_n.next=t}return _n}function Sf(t,e){return typeof e=="function"?e(t):e}function Wy(t){var e=Ti(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=Tn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((dl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,qt.lanes|=u,fl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,qi(r,e.memoizedState)||(Sr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qt.lanes|=s,fl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gy(t){var e=Ti(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qi(s,e.memoizedState)||(Sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MI(){}function OI(t,e){var n=qt,r=Ti(),i=e(),s=!qi(r.memoizedState,i);if(s&&(r.memoizedState=i,Sr=!0),r=r.queue,NS(NI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,wf(9,jI.bind(null,n,r,i,e),void 0,null),Pn===null)throw Error(oe(349));dl&30||FI(n,e,i)}return i}function FI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jI(t,e,n,r){e.value=n,e.getSnapshot=r,BI(e)&&$I(t)}function NI(t,e,n){return n(function(){BI(e)&&$I(t)})}function BI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qi(t,n)}catch{return!0}}function $I(t){var e=co(t,1);e!==null&&Gi(e,t,1,-1)}function e2(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:t},e.queue=t,t=t.dispatch=g8.bind(null,qt,t),[e.memoizedState,t]}function wf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zI(){return Ti().memoizedState}function Yp(t,e,n,r){var i=ss();qt.flags|=t,i.memoizedState=wf(1|e,n,void 0,r===void 0?null:r)}function s0(t,e,n,r){var i=Ti();r=r===void 0?null:r;var s=void 0;if(Tn!==null){var o=Tn.memoizedState;if(s=o.destroy,r!==null&&OS(r,o.deps)){i.memoizedState=wf(e,n,s,r);return}}qt.flags|=t,i.memoizedState=wf(1|e,n,s,r)}function t2(t,e){return Yp(8390656,8,t,e)}function NS(t,e){return s0(2048,8,t,e)}function UI(t,e){return s0(4,2,t,e)}function VI(t,e){return s0(4,4,t,e)}function HI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WI(t,e,n){return n=n!=null?n.concat([t]):null,s0(4,4,HI.bind(null,e,t),n)}function BS(){}function GI(t,e){var n=Ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KI(t,e){var n=Ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YI(t,e,n){return dl&21?(qi(n,e)||(n=JL(),qt.lanes|=n,fl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sr=!0),t.memoizedState=n)}function p8(t,e){var n=yt;yt=n!==0&&4>n?n:4,t(!0);var r=Hy.transition;Hy.transition={};try{t(!1),e()}finally{yt=n,Hy.transition=r}}function qI(){return Ti().memoizedState}function m8(t,e,n){var r=Yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XI(t))QI(e,n);else if(n=II(t,e,n,r),n!==null){var i=ur();Gi(n,t,r,i),ZI(n,e,r)}}function g8(t,e,n){var r=Yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XI(t))QI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qi(a,o)){var l=e.interleaved;l===null?(i.next=i,LS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=II(t,e,i,r),n!==null&&(i=ur(),Gi(n,t,r,i),ZI(n,e,r))}}function XI(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function QI(t,e){Fd=Zm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gS(t,n)}}var Jm={readContext:wi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},y8={readContext:wi,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:wi,useEffect:t2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yp(4194308,4,HI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yp(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=m8.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:e2,useDebugValue:BS,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=e2(!1),e=t[0];return t=p8.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,i=ss();if(Wt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Pn===null)throw Error(oe(349));dl&30||FI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,t2(NI.bind(null,r,s,t),[t]),r.flags|=2048,wf(9,jI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ss(),e=Pn.identifierPrefix;if(Wt){var n=Qs,r=Xs;n=(r&~(1<<32-Wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=h8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v8={readContext:wi,useCallback:GI,useContext:wi,useEffect:NS,useImperativeHandle:WI,useInsertionEffect:UI,useLayoutEffect:VI,useMemo:KI,useReducer:Wy,useRef:zI,useState:function(){return Wy(Sf)},useDebugValue:BS,useDeferredValue:function(t){var e=Ti();return YI(e,Tn.memoizedState,t)},useTransition:function(){var t=Wy(Sf)[0],e=Ti().memoizedState;return[t,e]},useMutableSource:MI,useSyncExternalStore:OI,useId:qI,unstable_isNewReconciler:!1},x8={readContext:wi,useCallback:GI,useContext:wi,useEffect:NS,useImperativeHandle:WI,useInsertionEffect:UI,useLayoutEffect:VI,useMemo:KI,useReducer:Gy,useRef:zI,useState:function(){return Gy(Sf)},useDebugValue:BS,useDeferredValue:function(t){var e=Ti();return Tn===null?e.memoizedState=t:YI(e,Tn.memoizedState,t)},useTransition:function(){var t=Gy(Sf)[0],e=Ti().memoizedState;return[t,e]},useMutableSource:MI,useSyncExternalStore:OI,useId:qI,unstable_isNewReconciler:!1};function Ni(t,e){if(t&&t.defaultProps){e=Xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ab(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var o0={isMounted:function(t){return(t=t._reactInternals)?El(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Yo(t),s=no(r,i);s.payload=e,n!=null&&(s.callback=n),e=Go(t,s,i),e!==null&&(Gi(e,t,i,r),Gp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Yo(t),s=no(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Go(t,s,i),e!==null&&(Gi(e,t,i,r),Gp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ur(),r=Yo(t),i=no(n,r);i.tag=2,e!=null&&(i.callback=e),e=Go(t,i,r),e!==null&&(Gi(e,t,r,n),Gp(e,t,r))}};function n2(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!pf(n,r)||!pf(i,s):!0}function JI(t,e,n){var r=!1,i=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=wi(s):(i=Er(e)?cl:nr.current,r=e.contextTypes,s=(r=r!=null)?Wc(t,i):ea),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=o0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function r2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&o0.enqueueReplaceState(e,e.state,null)}function lb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},IS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wi(s):(s=Er(e)?cl:nr.current,i.context=Wc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ab(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&o0.enqueueReplaceState(i,i.state,null),Xm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qc(t,e){try{var n="",r=e;do n+=Kj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ky(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b8=typeof WeakMap=="function"?WeakMap:Map;function eP(t,e,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tg||(tg=!0,xb=r),cb(t,e)},n}function tP(t,e,n){n=no(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cb(t,e),typeof r!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function i2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=M8.bind(null,t,e,n),e.then(t,t))}function s2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function o2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=no(-1,1),e.tag=2,Go(n,e,1))),n.lanes|=1),t)}var S8=mo.ReactCurrentOwner,Sr=!1;function lr(t,e,n,r){e.child=t===null?LI(e,null,n,r):Kc(e,t.child,n,r)}function a2(t,e,n,r,i){n=n.render;var s=e.ref;return _c(e,i),r=FS(t,e,n,r,s,i),n=jS(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uo(t,e,i)):(Wt&&n&&ES(e),e.flags|=1,lr(t,e,r,i),e.child)}function l2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!KS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nP(t,e,s,r,i)):(t=Zp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pf,n(o,r)&&t.ref===e.ref)return uo(t,e,i)}return e.flags|=1,t=qo(s,r),t.ref=e.ref,t.return=e,e.child=t}function nP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(pf(s,r)&&t.ref===e.ref)if(Sr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Sr=!0);else return e.lanes=t.lanes,uo(t,e,i)}return ub(t,e,n,r,i)}function rP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(hc,$r),$r|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(hc,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rt(hc,$r),$r|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rt(hc,$r),$r|=r;return lr(t,e,i,n),e.child}function iP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ub(t,e,n,r,i){var s=Er(n)?cl:nr.current;return s=Wc(e,s),_c(e,i),n=FS(t,e,n,r,s,i),r=jS(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uo(t,e,i)):(Wt&&r&&ES(e),e.flags|=1,lr(t,e,n,i),e.child)}function c2(t,e,n,r,i){if(Er(n)){var s=!0;Wm(e)}else s=!1;if(_c(e,i),e.stateNode===null)qp(t,e),JI(e,n,r),lb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wi(c):(c=Er(n)?cl:nr.current,c=Wc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&r2(e,o,r,c),Io=!1;var f=e.memoizedState;o.state=f,Xm(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Tr.current||Io?(typeof u=="function"&&(ab(e,n,u,r),l=e.memoizedState),(a=Io||n2(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ni(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wi(l):(l=Er(n)?cl:nr.current,l=Wc(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&r2(e,o,r,l),Io=!1,f=e.memoizedState,o.state=f,Xm(e,r,o,i);var p=e.memoizedState;a!==d||f!==p||Tr.current||Io?(typeof h=="function"&&(ab(e,n,h,r),p=e.memoizedState),(c=Io||n2(e,n,c,r,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return db(t,e,n,r,s,i)}function db(t,e,n,r,i,s){iP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&YE(e,n,!1),uo(t,e,s);r=e.stateNode,S8.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kc(e,t.child,null,s),e.child=Kc(e,null,a,s)):lr(t,e,a,s),e.memoizedState=r.state,i&&YE(e,n,!0),e.child}function sP(t){var e=t.stateNode;e.pendingContext?KE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KE(t,e.context,!1),PS(t,e.containerInfo)}function u2(t,e,n,r,i){return Gc(),kS(i),e.flags|=256,lr(t,e,n,r),e.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function hb(t){return{baseLanes:t,cachePool:null,transitions:null}}function oP(t,e,n){var r=e.pendingProps,i=Kt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(Kt,i&1),t===null)return sb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=c0(o,r,0,null),t=Za(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hb(n),e.memoizedState=fb,t):$S(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return w8(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qo(a,s):(s=Za(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?hb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fb,r}return s=t.child,t=s.sibling,r=qo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $S(t,e){return e=c0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gh(t,e,n,r){return r!==null&&kS(r),Kc(e,t.child,null,n),t=$S(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function w8(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ky(Error(oe(422))),Gh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=c0({mode:"visible",children:r.children},i,0,null),s=Za(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kc(e,t.child,null,o),e.child.memoizedState=hb(o),e.memoizedState=fb,s);if(!(e.mode&1))return Gh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(oe(419)),r=Ky(s,r,void 0),Gh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Sr||a){if(r=Pn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,co(t,i),Gi(r,t,i,-1))}return GS(),r=Ky(Error(oe(421))),Gh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=O8.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vr=Wo(i.nextSibling),Wr=e,Wt=!0,zi=null,t!==null&&(fi[hi++]=Xs,fi[hi++]=Qs,fi[hi++]=ul,Xs=t.id,Qs=t.overflow,ul=e),e=$S(e,r.children),e.flags|=4096,e)}function d2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ob(t.return,e,n)}function Yy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(lr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d2(t,n,e);else if(t.tag===19)d2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yy(e,!0,n,null,s);break;case"together":Yy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T8(t,e,n){switch(e.tag){case 3:sP(e),Gc();break;case 5:DI(e);break;case 1:Er(e.type)&&Wm(e);break;case 4:PS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(Ym,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?oP(t,e,n):(Rt(Kt,Kt.current&1),t=uo(t,e,n),t!==null?t.sibling:null);Rt(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,rP(t,e,n)}return uo(t,e,n)}var lP,pb,cP,uP;lP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pb=function(){};cP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,za(vs.current);var s=null;switch(n){case"input":i=Fx(t,i),r=Fx(t,r),s=[];break;case"select":i=Xt({},i,{value:void 0}),r=Xt({},r,{value:void 0}),s=[];break;case"textarea":i=Bx(t,i),r=Bx(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vm)}zx(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(af.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(af.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};uP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hu(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E8(t,e,n){var r=e.pendingProps;switch(CS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(e),null;case 1:return Er(e.type)&&Hm(),Kn(e),null;case 3:return r=e.stateNode,Yc(),Ft(Tr),Ft(nr),MS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zi!==null&&(wb(zi),zi=null))),pb(t,e),Kn(e),null;case 5:DS(e);var i=za(xf.current);if(n=e.type,t!==null&&e.stateNode!=null)cP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Kn(e),null}if(t=za(vs.current),Hh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fs]=e,r[yf]=s,t=(e.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<pd.length;i++)Pt(pd[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":bE(r,s),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",r);break;case"textarea":wE(r,s),Pt("invalid",r)}zx(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vh(r.textContent,a,t),i=["children",""+a]):af.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pt("scroll",r)}switch(n){case"input":Oh(r),SE(r,s,!0);break;case"textarea":Oh(r),TE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fs]=e,t[yf]=r,lP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ux(n,r),n){case"dialog":Pt("cancel",t),Pt("close",t),i=r;break;case"iframe":case"object":case"embed":Pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<pd.length;i++)Pt(pd[i],t);i=r;break;case"source":Pt("error",t),i=r;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),i=r;break;case"details":Pt("toggle",t),i=r;break;case"input":bE(t,r),i=Fx(t,r),Pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xt({},r,{value:void 0}),Pt("invalid",t);break;case"textarea":wE(t,r),i=Bx(t,r),Pt("invalid",t);break;default:i=r}zx(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lf(t,l):typeof l=="number"&&lf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(af.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pt("scroll",t):l!=null&&uS(t,s,l,o))}switch(n){case"input":Oh(t),SE(t,r,!1);break;case"textarea":Oh(t),TE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Cc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Cc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kn(e),null;case 6:if(t&&e.stateNode!=null)uP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=za(xf.current),za(vs.current),Hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[fs]=e,(s=r.nodeValue!==n)&&(t=Wr,t!==null))switch(t.tag){case 3:Vh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fs]=e,e.stateNode=r}return Kn(e),null;case 13:if(Ft(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wt&&Vr!==null&&e.mode&1&&!(e.flags&128))RI(),Gc(),e.flags|=98560,s=!1;else if(s=Hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[fs]=e}else Gc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kn(e),s=!1}else zi!==null&&(wb(zi),zi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?En===0&&(En=3):GS())),e.updateQueue!==null&&(e.flags|=4),Kn(e),null);case 4:return Yc(),pb(t,e),t===null&&mf(e.stateNode.containerInfo),Kn(e),null;case 10:return _S(e.type._context),Kn(e),null;case 17:return Er(e.type)&&Hm(),Kn(e),null;case 19:if(Ft(Kt),s=e.memoizedState,s===null)return Kn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hu(s,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qm(t),o!==null){for(e.flags|=128,Hu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Kt,Kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&an()>Xc&&(e.flags|=128,r=!0,Hu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Qm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Wt)return Kn(e),null}else 2*an()-s.renderingStartTime>Xc&&n!==1073741824&&(e.flags|=128,r=!0,Hu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=an(),e.sibling=null,n=Kt.current,Rt(Kt,r?n&1|2:n&1),e):(Kn(e),null);case 22:case 23:return WS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$r&1073741824&&(Kn(e),e.subtreeFlags&6&&(e.flags|=8192)):Kn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function C8(t,e){switch(CS(e),e.tag){case 1:return Er(e.type)&&Hm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yc(),Ft(Tr),Ft(nr),MS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DS(e),null;case 13:if(Ft(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Gc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Kt),null;case 4:return Yc(),null;case 10:return _S(e.type._context),null;case 22:case 23:return WS(),null;case 24:return null;default:return null}}var Kh=!1,Zn=!1,k8=typeof WeakSet=="function"?WeakSet:Set,ye=null;function fc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function mb(t,e,n){try{n()}catch(r){tn(t,e,r)}}var f2=!1;function A8(t,e){if(Zx=$m,t=mI(),TS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jx={focusedElem:t,selectionRange:n},$m=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ni(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(S){tn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return p=f2,f2=!1,p}function jd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mb(e,n,s)}i=i.next}while(i!==r)}}function a0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dP(t){var e=t.alternate;e!==null&&(t.alternate=null,dP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fs],delete e[yf],delete e[nb],delete e[c8],delete e[u8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fP(t){return t.tag===5||t.tag===3||t.tag===4}function h2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vm));else if(r!==4&&(t=t.child,t!==null))for(yb(t,e,n),t=t.sibling;t!==null;)yb(t,e,n),t=t.sibling}function vb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vb(t,e,n),t=t.sibling;t!==null;)vb(t,e,n),t=t.sibling}var Bn=null,Bi=!1;function bo(t,e,n){for(n=n.child;n!==null;)hP(t,e,n),n=n.sibling}function hP(t,e,n){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Jg,n)}catch{}switch(n.tag){case 5:Zn||fc(n,e);case 6:var r=Bn,i=Bi;Bn=null,bo(t,e,n),Bn=r,Bi=i,Bn!==null&&(Bi?(t=Bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bn.removeChild(n.stateNode));break;case 18:Bn!==null&&(Bi?(t=Bn,n=n.stateNode,t.nodeType===8?zy(t.parentNode,n):t.nodeType===1&&zy(t,n),ff(t)):zy(Bn,n.stateNode));break;case 4:r=Bn,i=Bi,Bn=n.stateNode.containerInfo,Bi=!0,bo(t,e,n),Bn=r,Bi=i;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mb(n,e,o),i=i.next}while(i!==r)}bo(t,e,n);break;case 1:if(!Zn&&(fc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tn(n,e,a)}bo(t,e,n);break;case 21:bo(t,e,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,bo(t,e,n),Zn=r):bo(t,e,n);break;default:bo(t,e,n)}}function p2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k8),e.forEach(function(r){var i=F8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bn=a.stateNode,Bi=!1;break e;case 3:Bn=a.stateNode.containerInfo,Bi=!0;break e;case 4:Bn=a.stateNode.containerInfo,Bi=!0;break e}a=a.return}if(Bn===null)throw Error(oe(160));hP(s,o,i),Bn=null,Bi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pP(e,t),e=e.sibling}function pP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mi(e,t),Ji(t),r&4){try{jd(3,t,t.return),a0(3,t)}catch(m){tn(t,t.return,m)}try{jd(5,t,t.return)}catch(m){tn(t,t.return,m)}}break;case 1:Mi(e,t),Ji(t),r&512&&n!==null&&fc(n,n.return);break;case 5:if(Mi(e,t),Ji(t),r&512&&n!==null&&fc(n,n.return),t.flags&32){var i=t.stateNode;try{lf(i,"")}catch(m){tn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FL(i,s),Ux(a,o);var c=Ux(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?zL(i,d):u==="dangerouslySetInnerHTML"?BL(i,d):u==="children"?lf(i,d):uS(i,u,d,c)}switch(a){case"input":jx(i,s);break;case"textarea":jL(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Cc(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Cc(i,!!s.multiple,s.defaultValue,!0):Cc(i,!!s.multiple,s.multiple?[]:"",!1))}i[yf]=s}catch(m){tn(t,t.return,m)}}break;case 6:if(Mi(e,t),Ji(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){tn(t,t.return,m)}}break;case 3:if(Mi(e,t),Ji(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ff(e.containerInfo)}catch(m){tn(t,t.return,m)}break;case 4:Mi(e,t),Ji(t);break;case 13:Mi(e,t),Ji(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(VS=an())),r&4&&p2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(c=Zn)||u,Mi(e,t),Zn=c):Mi(e,t),Ji(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ye=t,u=t.child;u!==null;){for(d=ye=u;ye!==null;){switch(f=ye,h=f.child,f.tag){case 0:case 11:case 14:case 15:jd(4,f,f.return);break;case 1:fc(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){tn(r,n,m)}}break;case 5:fc(f,f.return);break;case 22:if(f.memoizedState!==null){g2(d);continue}}h!==null?(h.return=f,ye=h):g2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$L("display",o))}catch(m){tn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){tn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mi(e,t),Ji(t),r&4&&p2(t);break;case 21:break;default:Mi(e,t),Ji(t)}}function Ji(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fP(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lf(i,""),r.flags&=-33);var s=h2(t);vb(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h2(t);yb(t,a,o);break;default:throw Error(oe(161))}}catch(l){tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R8(t,e,n){ye=t,mP(t)}function mP(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Kh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zn;a=Kh;var c=Zn;if(Kh=o,(Zn=l)&&!c)for(ye=i;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?y2(i):l!==null?(l.return=o,ye=l):y2(i);for(;s!==null;)ye=s,mP(s),s=s.sibling;ye=i,Kh=a,Zn=c}m2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):m2(t)}}function m2(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||a0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&JE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}JE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ff(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Zn||e.flags&512&&gb(e)}catch(f){tn(e,e.return,f)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function g2(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function y2(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{a0(4,e)}catch(l){tn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tn(e,i,l)}}var s=e.return;try{gb(e)}catch(l){tn(e,s,l)}break;case 5:var o=e.return;try{gb(e)}catch(l){tn(e,o,l)}}}catch(l){tn(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var _8=Math.ceil,eg=mo.ReactCurrentDispatcher,zS=mo.ReactCurrentOwner,bi=mo.ReactCurrentBatchConfig,rt=0,Pn=null,mn=null,Vn=0,$r=0,hc=oa(0),En=0,Tf=null,fl=0,l0=0,US=0,Nd=null,yr=null,VS=0,Xc=1/0,Us=null,tg=!1,xb=null,Ko=null,Yh=!1,Bo=null,ng=0,Bd=0,bb=null,Xp=-1,Qp=0;function ur(){return rt&6?an():Xp!==-1?Xp:Xp=an()}function Yo(t){return t.mode&1?rt&2&&Vn!==0?Vn&-Vn:f8.transition!==null?(Qp===0&&(Qp=JL()),Qp):(t=yt,t!==0||(t=window.event,t=t===void 0?16:oI(t.type)),t):1}function Gi(t,e,n,r){if(50<Bd)throw Bd=0,bb=null,Error(oe(185));rh(t,n,r),(!(rt&2)||t!==Pn)&&(t===Pn&&(!(rt&2)&&(l0|=n),En===4&&Fo(t,Vn)),Cr(t,r),n===1&&rt===0&&!(e.mode&1)&&(Xc=an()+500,i0&&aa()))}function Cr(t,e){var n=t.callbackNode;f6(t,e);var r=Bm(t,t===Pn?Vn:0);if(r===0)n!==null&&kE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kE(n),e===1)t.tag===0?d8(v2.bind(null,t)):CI(v2.bind(null,t)),a8(function(){!(rt&6)&&aa()}),n=null;else{switch(eI(r)){case 1:n=mS;break;case 4:n=QL;break;case 16:n=Nm;break;case 536870912:n=ZL;break;default:n=Nm}n=TP(n,gP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gP(t,e){if(Xp=-1,Qp=0,rt&6)throw Error(oe(327));var n=t.callbackNode;if(Lc()&&t.callbackNode!==n)return null;var r=Bm(t,t===Pn?Vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rg(t,r);else{e=r;var i=rt;rt|=2;var s=vP();(Pn!==t||Vn!==e)&&(Us=null,Xc=an()+500,Qa(t,e));do try{P8();break}catch(a){yP(t,a)}while(!0);RS(),eg.current=s,rt=i,mn!==null?e=0:(Pn=null,Vn=0,e=En)}if(e!==0){if(e===2&&(i=Kx(t),i!==0&&(r=i,e=Sb(t,i))),e===1)throw n=Tf,Qa(t,0),Fo(t,r),Cr(t,an()),n;if(e===6)Fo(t,r);else{if(i=t.current.alternate,!(r&30)&&!L8(i)&&(e=rg(t,r),e===2&&(s=Kx(t),s!==0&&(r=s,e=Sb(t,s))),e===1))throw n=Tf,Qa(t,0),Fo(t,r),Cr(t,an()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:_a(t,yr,Us);break;case 3:if(Fo(t,r),(r&130023424)===r&&(e=VS+500-an(),10<e)){if(Bm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tb(_a.bind(null,t,yr,Us),e);break}_a(t,yr,Us);break;case 4:if(Fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_8(r/1960))-r,10<r){t.timeoutHandle=tb(_a.bind(null,t,yr,Us),r);break}_a(t,yr,Us);break;case 5:_a(t,yr,Us);break;default:throw Error(oe(329))}}}return Cr(t,an()),t.callbackNode===n?gP.bind(null,t):null}function Sb(t,e){var n=Nd;return t.current.memoizedState.isDehydrated&&(Qa(t,e).flags|=256),t=rg(t,e),t!==2&&(e=yr,yr=n,e!==null&&wb(e)),t}function wb(t){yr===null?yr=t:yr.push.apply(yr,t)}function L8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~US,e&=~l0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wi(e),r=1<<n;t[n]=-1,e&=~r}}function v2(t){if(rt&6)throw Error(oe(327));Lc();var e=Bm(t,0);if(!(e&1))return Cr(t,an()),null;var n=rg(t,e);if(t.tag!==0&&n===2){var r=Kx(t);r!==0&&(e=r,n=Sb(t,r))}if(n===1)throw n=Tf,Qa(t,0),Fo(t,e),Cr(t,an()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_a(t,yr,Us),Cr(t,an()),null}function HS(t,e){var n=rt;rt|=1;try{return t(e)}finally{rt=n,rt===0&&(Xc=an()+500,i0&&aa())}}function hl(t){Bo!==null&&Bo.tag===0&&!(rt&6)&&Lc();var e=rt;rt|=1;var n=bi.transition,r=yt;try{if(bi.transition=null,yt=1,t)return t()}finally{yt=r,bi.transition=n,rt=e,!(rt&6)&&aa()}}function WS(){$r=hc.current,Ft(hc)}function Qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,o8(n)),mn!==null)for(n=mn.return;n!==null;){var r=n;switch(CS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hm();break;case 3:Yc(),Ft(Tr),Ft(nr),MS();break;case 5:DS(r);break;case 4:Yc();break;case 13:Ft(Kt);break;case 19:Ft(Kt);break;case 10:_S(r.type._context);break;case 22:case 23:WS()}n=n.return}if(Pn=t,mn=t=qo(t.current,null),Vn=$r=e,En=0,Tf=null,US=l0=fl=0,yr=Nd=null,$a!==null){for(e=0;e<$a.length;e++)if(n=$a[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$a=null}return t}function yP(t,e){do{var n=mn;try{if(RS(),Kp.current=Jm,Zm){for(var r=qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zm=!1}if(dl=0,_n=Tn=qt=null,Fd=!1,bf=0,zS.current=null,n===null||n.return===null){En=1,Tf=e,mn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=s2(o);if(h!==null){h.flags&=-257,o2(h,o,a,s,e),h.mode&1&&i2(s,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){i2(s,c,e),GS();break e}l=Error(oe(426))}}else if(Wt&&a.mode&1){var y=s2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),o2(y,o,a,s,e),kS(qc(l,a));break e}}s=l=qc(l,a),En!==4&&(En=2),Nd===null?Nd=[s]:Nd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=eP(s,l,e);ZE(s,v);break e;case 1:a=l;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ko===null||!Ko.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=tP(s,a,e);ZE(s,S);break e}}s=s.return}while(s!==null)}bP(n)}catch(T){e=T,mn===n&&n!==null&&(mn=n=n.return);continue}break}while(!0)}function vP(){var t=eg.current;return eg.current=Jm,t===null?Jm:t}function GS(){(En===0||En===3||En===2)&&(En=4),Pn===null||!(fl&268435455)&&!(l0&268435455)||Fo(Pn,Vn)}function rg(t,e){var n=rt;rt|=2;var r=vP();(Pn!==t||Vn!==e)&&(Us=null,Qa(t,e));do try{I8();break}catch(i){yP(t,i)}while(!0);if(RS(),rt=n,eg.current=r,mn!==null)throw Error(oe(261));return Pn=null,Vn=0,En}function I8(){for(;mn!==null;)xP(mn)}function P8(){for(;mn!==null&&!r6();)xP(mn)}function xP(t){var e=wP(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?bP(t):mn=e,zS.current=null}function bP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C8(n,e),n!==null){n.flags&=32767,mn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,mn=null;return}}else if(n=E8(n,e,$r),n!==null){mn=n;return}if(e=e.sibling,e!==null){mn=e;return}mn=e=t}while(e!==null);En===0&&(En=5)}function _a(t,e,n){var r=yt,i=bi.transition;try{bi.transition=null,yt=1,D8(t,e,n,r)}finally{bi.transition=i,yt=r}return null}function D8(t,e,n,r){do Lc();while(Bo!==null);if(rt&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(h6(t,s),t===Pn&&(mn=Pn=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yh||(Yh=!0,TP(Nm,function(){return Lc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bi.transition,bi.transition=null;var o=yt;yt=1;var a=rt;rt|=4,zS.current=null,A8(t,n),pP(n,t),J6(Jx),$m=!!Zx,Jx=Zx=null,t.current=n,R8(n),i6(),rt=a,yt=o,bi.transition=s}else t.current=n;if(Yh&&(Yh=!1,Bo=t,ng=i),s=t.pendingLanes,s===0&&(Ko=null),a6(n.stateNode),Cr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tg)throw tg=!1,t=xb,xb=null,t;return ng&1&&t.tag!==0&&Lc(),s=t.pendingLanes,s&1?t===bb?Bd++:(Bd=0,bb=t):Bd=0,aa(),null}function Lc(){if(Bo!==null){var t=eI(ng),e=bi.transition,n=yt;try{if(bi.transition=null,yt=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,ng=0,rt&6)throw Error(oe(331));var i=rt;for(rt|=4,ye=t.current;ye!==null;){var s=ye,o=s.child;if(ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:jd(8,u,s)}var d=u.child;if(d!==null)d.return=u,ye=d;else for(;ye!==null;){u=ye;var f=u.sibling,h=u.return;if(dP(u),u===c){ye=null;break}if(f!==null){f.return=h,ye=f;break}ye=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ye=o;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ye=v;break e}ye=s.return}}var b=t.current;for(ye=b;ye!==null;){o=ye;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ye=x;else e:for(o=b;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:a0(9,a)}}catch(T){tn(a,a.return,T)}if(a===o){ye=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ye=S;break e}ye=a.return}}if(rt=i,aa(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Jg,t)}catch{}r=!0}return r}finally{yt=n,bi.transition=e}}return!1}function x2(t,e,n){e=qc(n,e),e=eP(t,e,1),t=Go(t,e,1),e=ur(),t!==null&&(rh(t,1,e),Cr(t,e))}function tn(t,e,n){if(t.tag===3)x2(t,t,n);else for(;e!==null;){if(e.tag===3){x2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ko===null||!Ko.has(r))){t=qc(n,t),t=tP(e,t,1),e=Go(e,t,1),t=ur(),e!==null&&(rh(e,1,t),Cr(e,t));break}}e=e.return}}function M8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&n,Pn===t&&(Vn&n)===n&&(En===4||En===3&&(Vn&130023424)===Vn&&500>an()-VS?Qa(t,0):US|=n),Cr(t,e)}function SP(t,e){e===0&&(t.mode&1?(e=Nh,Nh<<=1,!(Nh&130023424)&&(Nh=4194304)):e=1);var n=ur();t=co(t,e),t!==null&&(rh(t,e,n),Cr(t,n))}function O8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SP(t,n)}function F8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),SP(t,n)}var wP;wP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tr.current)Sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sr=!1,T8(t,e,n);Sr=!!(t.flags&131072)}else Sr=!1,Wt&&e.flags&1048576&&kI(e,Km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qp(t,e),t=e.pendingProps;var i=Wc(e,nr.current);_c(e,n),i=FS(null,e,r,t,i,n);var s=jS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Er(r)?(s=!0,Wm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,IS(e),i.updater=o0,e.stateNode=i,i._reactInternals=e,lb(e,r,t,n),e=db(null,e,r,!0,s,n)):(e.tag=0,Wt&&s&&ES(e),lr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=N8(r),t=Ni(r,t),i){case 0:e=ub(null,e,r,t,n);break e;case 1:e=c2(null,e,r,t,n);break e;case 11:e=a2(null,e,r,t,n);break e;case 14:e=l2(null,e,r,Ni(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),ub(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),c2(t,e,r,i,n);case 3:e:{if(sP(e),t===null)throw Error(oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PI(t,e),Xm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qc(Error(oe(423)),e),e=u2(t,e,r,n,i);break e}else if(r!==i){i=qc(Error(oe(424)),e),e=u2(t,e,r,n,i);break e}else for(Vr=Wo(e.stateNode.containerInfo.firstChild),Wr=e,Wt=!0,zi=null,n=LI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gc(),r===i){e=uo(t,e,n);break e}lr(t,e,r,n)}e=e.child}return e;case 5:return DI(e),t===null&&sb(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,eb(r,i)?o=null:s!==null&&eb(r,s)&&(e.flags|=32),iP(t,e),lr(t,e,o,n),e.child;case 6:return t===null&&sb(e),null;case 13:return oP(t,e,n);case 4:return PS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kc(e,null,r,n):lr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),a2(t,e,r,i,n);case 7:return lr(t,e,e.pendingProps,n),e.child;case 8:return lr(t,e,e.pendingProps.children,n),e.child;case 12:return lr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rt(Ym,r._currentValue),r._currentValue=o,s!==null)if(qi(s.value,o)){if(s.children===i.children&&!Tr.current){e=uo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=no(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ob(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ob(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}lr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_c(e,n),i=wi(i),r=r(i),e.flags|=1,lr(t,e,r,n),e.child;case 14:return r=e.type,i=Ni(r,e.pendingProps),i=Ni(r.type,i),l2(t,e,r,i,n);case 15:return nP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),qp(t,e),e.tag=1,Er(r)?(t=!0,Wm(e)):t=!1,_c(e,n),JI(e,r,i),lb(e,r,i,n),db(null,e,r,!0,t,n);case 19:return aP(t,e,n);case 22:return rP(t,e,n)}throw Error(oe(156,e.tag))};function TP(t,e){return XL(t,e)}function j8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(t,e,n,r){return new j8(t,e,n,r)}function KS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N8(t){if(typeof t=="function")return KS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fS)return 11;if(t===hS)return 14}return 2}function qo(t,e){var n=t.alternate;return n===null?(n=gi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")KS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rc:return Za(n.children,i,s,e);case dS:o=8,i|=8;break;case Px:return t=gi(12,n,e,i|2),t.elementType=Px,t.lanes=s,t;case Dx:return t=gi(13,n,e,i),t.elementType=Dx,t.lanes=s,t;case Mx:return t=gi(19,n,e,i),t.elementType=Mx,t.lanes=s,t;case DL:return c0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IL:o=10;break e;case PL:o=9;break e;case fS:o=11;break e;case hS:o=14;break e;case Lo:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=gi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Za(t,e,n,r){return t=gi(7,t,r,e),t.lanes=n,t}function c0(t,e,n,r){return t=gi(22,t,r,e),t.elementType=DL,t.lanes=n,t.stateNode={isHidden:!1},t}function qy(t,e,n){return t=gi(6,t,null,e),t.lanes=n,t}function Xy(t,e,n){return e=gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ly(0),this.expirationTimes=Ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ly(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YS(t,e,n,r,i,s,o,a,l){return t=new B8(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},IS(s),t}function $8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EP(t){if(!t)return ea;t=t._reactInternals;e:{if(El(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Er(n))return EI(t,n,e)}return e}function CP(t,e,n,r,i,s,o,a,l){return t=YS(n,r,!0,t,i,s,o,a,l),t.context=EP(null),n=t.current,r=ur(),i=Yo(n),s=no(r,i),s.callback=e??null,Go(n,s,i),t.current.lanes=i,rh(t,i,r),Cr(t,r),t}function u0(t,e,n,r){var i=e.current,s=ur(),o=Yo(i);return n=EP(n),e.context===null?e.context=n:e.pendingContext=n,e=no(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Go(i,e,o),t!==null&&(Gi(t,i,o,s),Gp(t,i,o)),o}function ig(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qS(t,e){b2(t,e),(t=t.alternate)&&b2(t,e)}function z8(){return null}var kP=typeof reportError=="function"?reportError:function(t){console.error(t)};function XS(t){this._internalRoot=t}d0.prototype.render=XS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));u0(t,e,null,null)};d0.prototype.unmount=XS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hl(function(){u0(null,t,null,null)}),e[lo]=null}};function d0(t){this._internalRoot=t}d0.prototype.unstable_scheduleHydration=function(t){if(t){var e=rI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oo.length&&e!==0&&e<Oo[n].priority;n++);Oo.splice(n,0,t),n===0&&sI(t)}};function QS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S2(){}function U8(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ig(o);s.call(c)}}var o=CP(e,r,t,0,null,!1,!1,"",S2);return t._reactRootContainer=o,t[lo]=o.current,mf(t.nodeType===8?t.parentNode:t),hl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ig(l);a.call(c)}}var l=YS(t,0,!1,null,null,!1,!1,"",S2);return t._reactRootContainer=l,t[lo]=l.current,mf(t.nodeType===8?t.parentNode:t),hl(function(){u0(e,l,n,r)}),l}function h0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ig(o);a.call(l)}}u0(e,o,t,i)}else o=U8(n,e,t,i,r);return ig(o)}tI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hd(e.pendingLanes);n!==0&&(gS(e,n|1),Cr(e,an()),!(rt&6)&&(Xc=an()+500,aa()))}break;case 13:hl(function(){var r=co(t,1);if(r!==null){var i=ur();Gi(r,t,1,i)}}),qS(t,1)}};yS=function(t){if(t.tag===13){var e=co(t,134217728);if(e!==null){var n=ur();Gi(e,t,134217728,n)}qS(t,134217728)}};nI=function(t){if(t.tag===13){var e=Yo(t),n=co(t,e);if(n!==null){var r=ur();Gi(n,t,e,r)}qS(t,e)}};rI=function(){return yt};iI=function(t,e){var n=yt;try{return yt=t,e()}finally{yt=n}};Hx=function(t,e,n){switch(e){case"input":if(jx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r0(r);if(!i)throw Error(oe(90));OL(r),jx(r,i)}}}break;case"textarea":jL(t,n);break;case"select":e=n.value,e!=null&&Cc(t,!!n.multiple,e,!1)}};HL=HS;WL=hl;var V8={usingClientEntryPoint:!1,Events:[sh,ac,r0,UL,VL,HS]},Wu={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H8={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YL(t),t===null?null:t.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||z8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Jg=qh.inject(H8),ys=qh}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V8;Jr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QS(e))throw Error(oe(200));return $8(t,e,null,n)};Jr.createRoot=function(t,e){if(!QS(t))throw Error(oe(299));var n=!1,r="",i=kP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YS(t,1,!1,null,null,n,!1,r,i),t[lo]=e.current,mf(t.nodeType===8?t.parentNode:t),new XS(e)};Jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=YL(e),t=t===null?null:t.stateNode,t};Jr.flushSync=function(t){return hl(t)};Jr.hydrate=function(t,e,n){if(!f0(e))throw Error(oe(200));return h0(null,t,e,!0,n)};Jr.hydrateRoot=function(t,e,n){if(!QS(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CP(e,null,t,1,n??null,i,!1,s,o),t[lo]=e.current,mf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new d0(e)};Jr.render=function(t,e,n){if(!f0(e))throw Error(oe(200));return h0(null,t,e,!1,n)};Jr.unmountComponentAtNode=function(t){if(!f0(t))throw Error(oe(40));return t._reactRootContainer?(hl(function(){h0(null,null,t,!1,function(){t._reactRootContainer=null,t[lo]=null})}),!0):!1};Jr.unstable_batchedUpdates=HS;Jr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!f0(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return h0(t,e,n,!1,r)};Jr.version="18.3.1-next-f1338f8080-20240426";function AP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AP)}catch(t){console.error(t)}}AP(),AL.exports=Jr;var ah=AL.exports;const W8=xu(ah),G8=mL({__proto__:null,default:W8},[ah]);var w2=ah;Lx.createRoot=w2.createRoot,Lx.hydrateRoot=w2.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ht(){return Ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ht.apply(this,arguments)}var hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hn||(hn={}));const T2="popstate";function K8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ef("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pl(i)}return q8(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y8(){return Math.random().toString(36).substr(2,8)}function E2(t,e){return{usr:t.state,key:t.key,idx:e}}function Ef(t,e,n,r){return n===void 0&&(n=null),Ht({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?la(e):e,{state:n,key:e&&e.key||r||Y8()})}function pl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function la(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function q8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ht({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=hn.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:v})}function f(y,v){a=hn.Push;let b=Ef(m.location,y,v);c=u()+1;let x=E2(b,c),S=m.createHref(b);try{o.pushState(x,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function h(y,v){a=hn.Replace;let b=Ef(m.location,y,v);c=u();let x=E2(b,c),S=m.createHref(b);o.replaceState(x,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function p(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:pl(y);return b=b.replace(/ $/,"%20"),Ge(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let m={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(T2,d),l=y,()=>{i.removeEventListener(T2,d),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let v=p(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(y){return o.go(y)}};return m}var wt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wt||(wt={}));const X8=new Set(["lazy","caseSensitive","path","id","index","children"]);function Q8(t){return t.index===!0}function sg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Q8(i)){let l=Ht({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ht({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=sg(i.children,e,o,r)),l}})}function Fa(t,e,n){return n===void 0&&(n="/"),Jp(t,e,n,!1)}function Jp(t,e,n,r){let i=typeof e=="string"?la(e):e,s=Tu(i.pathname||"/",n);if(s==null)return null;let o=RP(t);J8(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=uN(s);a=lN(o[l],c,r)}return a}function Z8(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function RP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ro([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RP(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:oN(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _P(s.path))i(s,o,l)}),e}function _P(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_P(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function J8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eN=/^:[\w-]+$/,tN=3,nN=2,rN=1,iN=10,sN=-2,C2=t=>t==="*";function oN(t,e){let n=t.split("/"),r=n.length;return n.some(C2)&&(r+=sN),e&&(r+=nN),n.filter(i=>!C2(i)).reduce((i,s)=>i+(eN.test(s)?tN:s===""?rN:iN),r)}function aN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lN(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=k2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=k2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ro([s,d.pathname]),pathnameBase:hN(ro([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=ro([s,d.pathnameBase]))}return o}function k2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function cN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?la(t):t;return{pathname:n?n.startsWith("/")?n:fN(n,e):e,search:pN(r),hash:mN(i)}}function fN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function p0(t,e){let n=LP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function m0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=la(t):(i=Ht({},t),Ge(!i.pathname||!i.pathname.includes("?"),Qy("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),Qy("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),Qy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=dN(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ro=t=>t.join("/").replace(/\/\/+/g,"/"),hN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class og{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function g0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IP=["post","put","patch","delete"],gN=new Set(IP),yN=["get",...IP],vN=new Set(yN),xN=new Set([301,302,303,307,308]),bN=new Set([307,308]),Zy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),PP="remix-router-transitions";function TN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;i=W=>({hasErrorBoundary:z(W)})}else i=wN;let s={},o=sg(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||AN,u=t.patchRoutesOnNavigation,d=Ht({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=null,m=null,y=null,v=t.hydrationData!=null,b=Fa(o,t.history.location,l),x=null;if(b==null&&!u){let z=gr(404,{pathname:t.history.location.pathname}),{matches:W,route:Q}=j2(o);b=W,x={[Q.id]:z}}b&&!t.hydrationData&&jl(b,o,t.history.location.pathname).active&&(b=null);let S;if(b)if(b.some(z=>z.route.lazy))S=!1;else if(!b.some(z=>z.route.loader))S=!0;else if(d.v7_partialHydration){let z=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null;if(W){let Q=b.findIndex(ie=>W[ie.route.id]!==void 0);S=b.slice(0,Q+1).every(ie=>!Eb(ie.route,z,W))}else S=b.every(Q=>!Eb(Q.route,z,W))}else S=t.hydrationData!=null;else if(S=!1,b=[],d.v7_partialHydration){let z=jl(null,o,t.history.location.pathname);z.active&&z.matches&&(b=z.matches)}let T,C={historyAction:t.history.action,location:t.history.location,matches:b,initialized:S,navigation:Zy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},E=hn.Pop,k=!1,A,R=!1,L=new Map,D=null,P=!1,M=!1,j=[],F=new Set,O=new Map,B=0,I=-1,$=new Map,G=new Set,Y=new Map,q=new Map,te=new Set,ae=new Map,le=new Map,Te;function Fe(){if(f=t.history.listen(z=>{let{action:W,location:Q,delta:ie}=z;if(Te){Te(),Te=void 0;return}Qc(le.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=Fl({currentLocation:C.location,nextLocation:Q,historyAction:W});if(pe&&ie!=null){let Se=new Promise(Oe=>{Te=Oe});t.history.go(ie*-1),Ps(pe,{state:"blocked",location:Q,proceed(){Ps(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Se.then(()=>t.history.go(ie))},reset(){let Oe=new Map(C.blockers);Oe.set(pe,Gu),Me({blockers:Oe})}});return}return Ee(W,Q)}),n){zN(e,L);let z=()=>UN(e,L);e.addEventListener("pagehide",z),D=()=>e.removeEventListener("pagehide",z)}return C.initialized||Ee(hn.Pop,C.location,{initialHydration:!0}),T}function Qe(){f&&f(),D&&D(),h.clear(),A&&A.abort(),C.fetchers.forEach((z,W)=>Is(W)),C.blockers.forEach((z,W)=>Ol(W))}function it(z){return h.add(z),()=>h.delete(z)}function Me(z,W){W===void 0&&(W={}),C=Ht({},C,z);let Q=[],ie=[];d.v7_fetcherPersist&&C.fetchers.forEach((pe,Se)=>{pe.state==="idle"&&(te.has(Se)?ie.push(Se):Q.push(Se))}),[...h].forEach(pe=>pe(C,{deletedFetchers:ie,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),d.v7_fetcherPersist&&(Q.forEach(pe=>C.fetchers.delete(pe)),ie.forEach(pe=>Is(pe)))}function De(z,W,Q){var ie,pe;let{flushSync:Se}=Q===void 0?{}:Q,Oe=C.actionData!=null&&C.navigation.formMethod!=null&&$i(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ie=z.state)==null?void 0:ie._isRedirect)!==!0,xe;W.actionData?Object.keys(W.actionData).length>0?xe=W.actionData:xe=null:Oe?xe=C.actionData:xe=null;let be=W.loaderData?O2(C.loaderData,W.loaderData,W.matches||[],W.errors):C.loaderData,me=C.blockers;me.size>0&&(me=new Map(me),me.forEach((Ye,bn)=>me.set(bn,Gu)));let Ce=k===!0||C.navigation.formMethod!=null&&$i(C.navigation.formMethod)&&((pe=z.state)==null?void 0:pe._isRedirect)!==!0;a&&(o=a,a=void 0),P||E===hn.Pop||(E===hn.Push?t.history.push(z,z.state):E===hn.Replace&&t.history.replace(z,z.state));let je;if(E===hn.Pop){let Ye=L.get(C.location.pathname);Ye&&Ye.has(z.pathname)?je={currentLocation:C.location,nextLocation:z}:L.has(z.pathname)&&(je={currentLocation:z,nextLocation:C.location})}else if(R){let Ye=L.get(C.location.pathname);Ye?Ye.add(z.pathname):(Ye=new Set([z.pathname]),L.set(C.location.pathname,Ye)),je={currentLocation:C.location,nextLocation:z}}Me(Ht({},W,{actionData:xe,loaderData:be,historyAction:E,location:z,initialized:!0,navigation:Zy,revalidation:"idle",restoreScrollPosition:_h(z,W.matches||C.matches),preventScrollReset:Ce,blockers:me}),{viewTransitionOpts:je,flushSync:Se===!0}),E=hn.Pop,k=!1,R=!1,P=!1,M=!1,j=[]}async function bt(z,W){if(typeof z=="number"){t.history.go(z);return}let Q=Tb(C.location,C.matches,l,d.v7_prependBasename,z,d.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ie,submission:pe,error:Se}=A2(d.v7_normalizeFormMethod,!1,Q,W),Oe=C.location,xe=Ef(C.location,ie,W&&W.state);xe=Ht({},xe,t.history.encodeLocation(xe));let be=W&&W.replace!=null?W.replace:void 0,me=hn.Push;be===!0?me=hn.Replace:be===!1||pe!=null&&$i(pe.formMethod)&&pe.formAction===C.location.pathname+C.location.search&&(me=hn.Replace);let Ce=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,je=(W&&W.flushSync)===!0,Ye=Fl({currentLocation:Oe,nextLocation:xe,historyAction:me});if(Ye){Ps(Ye,{state:"blocked",location:xe,proceed(){Ps(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),bt(z,W)},reset(){let bn=new Map(C.blockers);bn.set(Ye,Gu),Me({blockers:bn})}});return}return await Ee(me,xe,{submission:pe,pendingError:Se,preventScrollReset:Ce,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:je})}function yn(){if(Fr(),Me({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Ee(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Ee(E||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:R===!0})}}async function Ee(z,W,Q){A&&A.abort(),A=null,E=z,P=(Q&&Q.startUninterruptedRevalidation)===!0,py(C.location,C.matches),k=(Q&&Q.preventScrollReset)===!0,R=(Q&&Q.enableViewTransition)===!0;let ie=a||o,pe=Q&&Q.overrideNavigation,Se=Fa(ie,W,l),Oe=(Q&&Q.flushSync)===!0,xe=jl(Se,ie,W.pathname);if(xe.active&&xe.matches&&(Se=xe.matches),!Se){let{error:St,notFoundMatches:nt,route:Bt}=Be(W.pathname);De(W,{matches:nt,loaderData:{},errors:{[Bt.id]:St}},{flushSync:Oe});return}if(C.initialized&&!M&&DN(C.location,W)&&!(Q&&Q.submission&&$i(Q.submission.formMethod))){De(W,{matches:Se},{flushSync:Oe});return}A=new AbortController;let be=zl(t.history,W,A.signal,Q&&Q.submission),me;if(Q&&Q.pendingError)me=[ja(Se).route.id,{type:wt.error,error:Q.pendingError}];else if(Q&&Q.submission&&$i(Q.submission.formMethod)){let St=await Ve(be,W,Q.submission,Se,xe.active,{replace:Q.replace,flushSync:Oe});if(St.shortCircuited)return;if(St.pendingActionResult){let[nt,Bt]=St.pendingActionResult;if(zr(Bt)&&g0(Bt.error)&&Bt.error.status===404){A=null,De(W,{matches:St.matches,loaderData:{},errors:{[nt]:Bt.error}});return}}Se=St.matches||Se,me=St.pendingActionResult,pe=Jy(W,Q.submission),Oe=!1,xe.active=!1,be=zl(t.history,be.url,be.signal)}let{shortCircuited:Ce,matches:je,loaderData:Ye,errors:bn}=await fe(be,W,Se,xe.active,pe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Oe,me);Ce||(A=null,De(W,Ht({matches:je||Se},F2(me),{loaderData:Ye,errors:bn})))}async function Ve(z,W,Q,ie,pe,Se){Se===void 0&&(Se={}),Fr();let Oe=BN(W,Q);if(Me({navigation:Oe},{flushSync:Se.flushSync===!0}),pe){let me=await Nl(ie,W.pathname,z.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let Ce=ja(me.partialMatches).route.id;return{matches:me.partialMatches,pendingActionResult:[Ce,{type:wt.error,error:me.error}]}}else if(me.matches)ie=me.matches;else{let{notFoundMatches:Ce,error:je,route:Ye}=Be(W.pathname);return{matches:Ce,pendingActionResult:[Ye.id,{type:wt.error,error:je}]}}}let xe,be=md(ie,W);if(!be.route.action&&!be.route.lazy)xe={type:wt.error,error:gr(405,{method:z.method,pathname:W.pathname,routeId:be.route.id})};else if(xe=(await An("action",C,z,[be],ie,null))[be.route.id],z.signal.aborted)return{shortCircuited:!0};if(Ua(xe)){let me;return Se&&Se.replace!=null?me=Se.replace:me=P2(xe.response.headers.get("Location"),new URL(z.url),l)===C.location.pathname+C.location.search,await pt(z,xe,!0,{submission:Q,replace:me}),{shortCircuited:!0}}if($o(xe))throw gr(400,{type:"defer-action"});if(zr(xe)){let me=ja(ie,be.route.id);return(Se&&Se.replace)!==!0&&(E=hn.Push),{matches:ie,pendingActionResult:[me.route.id,xe]}}return{matches:ie,pendingActionResult:[be.route.id,xe]}}async function fe(z,W,Q,ie,pe,Se,Oe,xe,be,me,Ce){let je=pe||Jy(W,Se),Ye=Se||Oe||B2(je),bn=!P&&(!d.v7_partialHydration||!be);if(ie){if(bn){let $t=Zt(Ce);Me(Ht({navigation:je},$t!==void 0?{actionData:$t}:{}),{flushSync:me})}let Ze=await Nl(Q,W.pathname,z.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){let $t=ja(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[$t]:Ze.error}}}else if(Ze.matches)Q=Ze.matches;else{let{error:$t,notFoundMatches:Os,route:Sa}=Be(W.pathname);return{matches:Os,loaderData:{},errors:{[Sa.id]:$t}}}}let St=a||o,[nt,Bt]=_2(t.history,C,Q,Ye,W,d.v7_partialHydration&&be===!0,d.v7_skipActionErrorRevalidation,M,j,F,te,Y,G,St,l,Ce);if(Ds(Ze=>!(Q&&Q.some($t=>$t.route.id===Ze))||nt&&nt.some($t=>$t.route.id===Ze)),I=++B,nt.length===0&&Bt.length===0){let Ze=Ml();return De(W,Ht({matches:Q,loaderData:{},errors:Ce&&zr(Ce[1])?{[Ce[0]]:Ce[1].error}:null},F2(Ce),Ze?{fetchers:new Map(C.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(bn){let Ze={};if(!ie){Ze.navigation=je;let $t=Zt(Ce);$t!==void 0&&(Ze.actionData=$t)}Bt.length>0&&(Ze.fetchers=jt(Bt)),Me(Ze,{flushSync:me})}Bt.forEach(Ze=>{jr(Ze.key),Ze.controller&&O.set(Ze.key,Ze.controller)});let vo=()=>Bt.forEach(Ze=>jr(Ze.key));A&&A.signal.addEventListener("abort",vo);let{loaderResults:Ms,fetcherResults:Pi}=await ni(C,Q,nt,Bt,z);if(z.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",vo),Bt.forEach(Ze=>O.delete(Ze.key));let ir=Xh(Ms);if(ir)return await pt(z,ir.result,!0,{replace:xe}),{shortCircuited:!0};if(ir=Xh(Pi),ir)return G.add(ir.key),await pt(z,ir.result,!0,{replace:xe}),{shortCircuited:!0};let{loaderData:va,errors:xa}=M2(C,Q,Ms,Ce,Bt,Pi,ae);ae.forEach((Ze,$t)=>{Ze.subscribe(Os=>{(Os||Ze.done)&&ae.delete($t)})}),d.v7_partialHydration&&be&&C.errors&&(xa=Ht({},C.errors,xa));let ii=Ml(),ba=ri(I),Bl=ii||ba||Bt.length>0;return Ht({matches:Q,loaderData:va,errors:xa},Bl?{fetchers:new Map(C.fetchers)}:{})}function Zt(z){if(z&&!zr(z[1]))return{[z[0]]:z[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function jt(z){return z.forEach(W=>{let Q=C.fetchers.get(W.key),ie=Ku(void 0,Q?Q.data:void 0);C.fetchers.set(W.key,ie)}),new Map(C.fetchers)}function Nt(z,W,Q,ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");jr(z);let pe=(ie&&ie.flushSync)===!0,Se=a||o,Oe=Tb(C.location,C.matches,l,d.v7_prependBasename,Q,d.v7_relativeSplatPath,W,ie==null?void 0:ie.relative),xe=Fa(Se,Oe,l),be=jl(xe,Se,Oe);if(be.active&&be.matches&&(xe=be.matches),!xe){xn(z,W,gr(404,{pathname:Oe}),{flushSync:pe});return}let{path:me,submission:Ce,error:je}=A2(d.v7_normalizeFormMethod,!0,Oe,ie);if(je){xn(z,W,je,{flushSync:pe});return}let Ye=md(xe,me),bn=(ie&&ie.preventScrollReset)===!0;if(Ce&&$i(Ce.formMethod)){Nn(z,W,me,Ye,xe,be.active,pe,bn,Ce);return}Y.set(z,{routeId:W,path:me}),kn(z,W,me,Ye,xe,be.active,pe,bn,Ce)}async function Nn(z,W,Q,ie,pe,Se,Oe,xe,be){Fr(),Y.delete(z);function me(Jt){if(!Jt.route.action&&!Jt.route.lazy){let xo=gr(405,{method:be.formMethod,pathname:Q,routeId:W});return xn(z,W,xo,{flushSync:Oe}),!0}return!1}if(!Se&&me(ie))return;let Ce=C.fetchers.get(z);vn(z,$N(be,Ce),{flushSync:Oe});let je=new AbortController,Ye=zl(t.history,Q,je.signal,be);if(Se){let Jt=await Nl(pe,Q,Ye.signal);if(Jt.type==="aborted")return;if(Jt.type==="error"){xn(z,W,Jt.error,{flushSync:Oe});return}else if(Jt.matches){if(pe=Jt.matches,ie=md(pe,Q),me(ie))return}else{xn(z,W,gr(404,{pathname:Q}),{flushSync:Oe});return}}O.set(z,je);let bn=B,nt=(await An("action",C,Ye,[ie],pe,z))[ie.route.id];if(Ye.signal.aborted){O.get(z)===je&&O.delete(z);return}if(d.v7_fetcherPersist&&te.has(z)){if(Ua(nt)||zr(nt)){vn(z,ko(void 0));return}}else{if(Ua(nt))if(O.delete(z),I>bn){vn(z,ko(void 0));return}else return G.add(z),vn(z,Ku(be)),pt(Ye,nt,!1,{fetcherSubmission:be,preventScrollReset:xe});if(zr(nt)){xn(z,W,nt.error);return}}if($o(nt))throw gr(400,{type:"defer-action"});let Bt=C.navigation.location||C.location,vo=zl(t.history,Bt,je.signal),Ms=a||o,Pi=C.navigation.state!=="idle"?Fa(Ms,C.navigation.location,l):C.matches;Ge(Pi,"Didn't find any matches after fetcher action");let ir=++B;$.set(z,ir);let va=Ku(be,nt.data);C.fetchers.set(z,va);let[xa,ii]=_2(t.history,C,Pi,be,Bt,!1,d.v7_skipActionErrorRevalidation,M,j,F,te,Y,G,Ms,l,[ie.route.id,nt]);ii.filter(Jt=>Jt.key!==z).forEach(Jt=>{let xo=Jt.key,Lh=C.fetchers.get(xo),gy=Ku(void 0,Lh?Lh.data:void 0);C.fetchers.set(xo,gy),jr(xo),Jt.controller&&O.set(xo,Jt.controller)}),Me({fetchers:new Map(C.fetchers)});let ba=()=>ii.forEach(Jt=>jr(Jt.key));je.signal.addEventListener("abort",ba);let{loaderResults:Bl,fetcherResults:Ze}=await ni(C,Pi,xa,ii,vo);if(je.signal.aborted)return;je.signal.removeEventListener("abort",ba),$.delete(z),O.delete(z),ii.forEach(Jt=>O.delete(Jt.key));let $t=Xh(Bl);if($t)return pt(vo,$t.result,!1,{preventScrollReset:xe});if($t=Xh(Ze),$t)return G.add($t.key),pt(vo,$t.result,!1,{preventScrollReset:xe});let{loaderData:Os,errors:Sa}=M2(C,Pi,Bl,void 0,ii,Ze,ae);if(C.fetchers.has(z)){let Jt=ko(nt.data);C.fetchers.set(z,Jt)}ri(ir),C.navigation.state==="loading"&&ir>I?(Ge(E,"Expected pending action"),A&&A.abort(),De(C.navigation.location,{matches:Pi,loaderData:Os,errors:Sa,fetchers:new Map(C.fetchers)})):(Me({errors:Sa,loaderData:O2(C.loaderData,Os,Pi,Sa),fetchers:new Map(C.fetchers)}),M=!1)}async function kn(z,W,Q,ie,pe,Se,Oe,xe,be){let me=C.fetchers.get(z);vn(z,Ku(be,me?me.data:void 0),{flushSync:Oe});let Ce=new AbortController,je=zl(t.history,Q,Ce.signal);if(Se){let nt=await Nl(pe,Q,je.signal);if(nt.type==="aborted")return;if(nt.type==="error"){xn(z,W,nt.error,{flushSync:Oe});return}else if(nt.matches)pe=nt.matches,ie=md(pe,Q);else{xn(z,W,gr(404,{pathname:Q}),{flushSync:Oe});return}}O.set(z,Ce);let Ye=B,St=(await An("loader",C,je,[ie],pe,z))[ie.route.id];if($o(St)&&(St=await JS(St,je.signal,!0)||St),O.get(z)===Ce&&O.delete(z),!je.signal.aborted){if(te.has(z)){vn(z,ko(void 0));return}if(Ua(St))if(I>Ye){vn(z,ko(void 0));return}else{G.add(z),await pt(je,St,!1,{preventScrollReset:xe});return}if(zr(St)){xn(z,W,St.error);return}Ge(!$o(St),"Unhandled fetcher deferred data"),vn(z,ko(St.data))}}async function pt(z,W,Q,ie){let{submission:pe,fetcherSubmission:Se,preventScrollReset:Oe,replace:xe}=ie===void 0?{}:ie;W.response.headers.has("X-Remix-Revalidate")&&(M=!0);let be=W.response.headers.get("Location");Ge(be,"Expected a Location header on the redirect Response"),be=P2(be,new URL(z.url),l);let me=Ef(C.location,be,{_isRedirect:!0});if(n){let nt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))nt=!0;else if(ZS.test(be)){const Bt=t.history.createURL(be);nt=Bt.origin!==e.location.origin||Tu(Bt.pathname,l)==null}if(nt){xe?e.location.replace(be):e.location.assign(be);return}}A=null;let Ce=xe===!0||W.response.headers.has("X-Remix-Replace")?hn.Replace:hn.Push,{formMethod:je,formAction:Ye,formEncType:bn}=C.navigation;!pe&&!Se&&je&&Ye&&bn&&(pe=B2(C.navigation));let St=pe||Se;if(bN.has(W.response.status)&&St&&$i(St.formMethod))await Ee(Ce,me,{submission:Ht({},St,{formAction:be}),preventScrollReset:Oe||k,enableViewTransition:Q?R:void 0});else{let nt=Jy(me,pe);await Ee(Ce,me,{overrideNavigation:nt,fetcherSubmission:Se,preventScrollReset:Oe||k,enableViewTransition:Q?R:void 0})}}async function An(z,W,Q,ie,pe,Se){let Oe,xe={};try{Oe=await RN(c,z,W,Q,ie,pe,Se,s,i)}catch(be){return ie.forEach(me=>{xe[me.route.id]={type:wt.error,error:be}}),xe}for(let[be,me]of Object.entries(Oe))if(MN(me)){let Ce=me.result;xe[be]={type:wt.redirect,response:IN(Ce,Q,be,pe,l,d.v7_relativeSplatPath)}}else xe[be]=await LN(me);return xe}async function ni(z,W,Q,ie,pe){let Se=z.matches,Oe=An("loader",z,pe,Q,W,null),xe=Promise.all(ie.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.controller){let Ye=(await An("loader",z,zl(t.history,Ce.path,Ce.controller.signal),[Ce.match],Ce.matches,Ce.key))[Ce.match.route.id];return{[Ce.key]:Ye}}else return Promise.resolve({[Ce.key]:{type:wt.error,error:gr(404,{pathname:Ce.path})}})})),be=await Oe,me=(await xe).reduce((Ce,je)=>Object.assign(Ce,je),{});return await Promise.all([jN(W,be,pe.signal,Se,z.loaderData),NN(W,me,ie)]),{loaderResults:be,fetcherResults:me}}function Fr(){M=!0,j.push(...Ds()),Y.forEach((z,W)=>{O.has(W)&&F.add(W),jr(W)})}function vn(z,W,Q){Q===void 0&&(Q={}),C.fetchers.set(z,W),Me({fetchers:new Map(C.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function xn(z,W,Q,ie){ie===void 0&&(ie={});let pe=ja(C.matches,W);Is(z),Me({errors:{[pe.route.id]:Q},fetchers:new Map(C.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function ya(z){return d.v7_fetcherPersist&&(q.set(z,(q.get(z)||0)+1),te.has(z)&&te.delete(z)),C.fetchers.get(z)||SN}function Is(z){let W=C.fetchers.get(z);O.has(z)&&!(W&&W.state==="loading"&&$.has(z))&&jr(z),Y.delete(z),$.delete(z),G.delete(z),te.delete(z),F.delete(z),C.fetchers.delete(z)}function Pl(z){if(d.v7_fetcherPersist){let W=(q.get(z)||0)-1;W<=0?(q.delete(z),te.add(z)):q.set(z,W)}else Is(z);Me({fetchers:new Map(C.fetchers)})}function jr(z){let W=O.get(z);W&&(W.abort(),O.delete(z))}function Dl(z){for(let W of z){let Q=ya(W),ie=ko(Q.data);C.fetchers.set(W,ie)}}function Ml(){let z=[],W=!1;for(let Q of G){let ie=C.fetchers.get(Q);Ge(ie,"Expected fetcher: "+Q),ie.state==="loading"&&(G.delete(Q),z.push(Q),W=!0)}return Dl(z),W}function ri(z){let W=[];for(let[Q,ie]of $)if(ie<z){let pe=C.fetchers.get(Q);Ge(pe,"Expected fetcher: "+Q),pe.state==="loading"&&(jr(Q),$.delete(Q),W.push(Q))}return Dl(W),W.length>0}function yo(z,W){let Q=C.blockers.get(z)||Gu;return le.get(z)!==W&&le.set(z,W),Q}function Ol(z){C.blockers.delete(z),le.delete(z)}function Ps(z,W){let Q=C.blockers.get(z)||Gu;Ge(Q.state==="unblocked"&&W.state==="blocked"||Q.state==="blocked"&&W.state==="blocked"||Q.state==="blocked"&&W.state==="proceeding"||Q.state==="blocked"&&W.state==="unblocked"||Q.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+W.state);let ie=new Map(C.blockers);ie.set(z,W),Me({blockers:ie})}function Fl(z){let{currentLocation:W,nextLocation:Q,historyAction:ie}=z;if(le.size===0)return;le.size>1&&Qc(!1,"A router only supports one blocker at a time");let pe=Array.from(le.entries()),[Se,Oe]=pe[pe.length-1],xe=C.blockers.get(Se);if(!(xe&&xe.state==="proceeding")&&Oe({currentLocation:W,nextLocation:Q,historyAction:ie}))return Se}function Be(z){let W=gr(404,{pathname:z}),Q=a||o,{matches:ie,route:pe}=j2(Q);return Ds(),{notFoundMatches:ie,route:pe,error:W}}function Ds(z){let W=[];return ae.forEach((Q,ie)=>{(!z||z(ie))&&(Q.cancel(),W.push(ie),ae.delete(ie))}),W}function hy(z,W,Q){if(p=z,y=W,m=Q||null,!v&&C.navigation===Zy){v=!0;let ie=_h(C.location,C.matches);ie!=null&&Me({restoreScrollPosition:ie})}return()=>{p=null,y=null,m=null}}function Zi(z,W){return m&&m(z,W.map(ie=>Z8(ie,C.loaderData)))||z.key}function py(z,W){if(p&&y){let Q=Zi(z,W);p[Q]=y()}}function _h(z,W){if(p){let Q=Zi(z,W),ie=p[Q];if(typeof ie=="number")return ie}return null}function jl(z,W,Q){if(u)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:Jp(W,Q,l,!0)}}else return{active:!0,matches:Jp(W,Q,l,!0)||[]};return{active:!1,matches:null}}async function Nl(z,W,Q){if(!u)return{type:"success",matches:z};let ie=z;for(;;){let pe=a==null,Se=a||o,Oe=s;try{await u({path:W,matches:ie,patch:(me,Ce)=>{Q.aborted||I2(me,Ce,Se,Oe,i)}})}catch(me){return{type:"error",error:me,partialMatches:ie}}finally{pe&&!Q.aborted&&(o=[...o])}if(Q.aborted)return{type:"aborted"};let xe=Fa(Se,W,l);if(xe)return{type:"success",matches:xe};let be=Jp(Se,W,l,!0);if(!be||ie.length===be.length&&ie.every((me,Ce)=>me.route.id===be[Ce].route.id))return{type:"success",matches:null};ie=be}}function my(z){s={},a=sg(z,i,void 0,s)}function Ii(z,W){let Q=a==null;I2(z,W,a||o,s,i),Q&&(o=[...o],Me({}))}return T={get basename(){return l},get future(){return d},get state(){return C},get routes(){return o},get window(){return e},initialize:Fe,subscribe:it,enableScrollRestoration:hy,navigate:bt,fetch:Nt,revalidate:yn,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:ya,deleteFetcher:Pl,dispose:Qe,getBlocker:yo,deleteBlocker:Ol,patchRoutes:Ii,_internalFetchControllers:O,_internalActiveDeferreds:ae,_internalSetRoutes:my},T}function EN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tb(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=m0(i||".",p0(l,s),Tu(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=ew(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();u.search=p?"?"+p:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ro([n,u.pathname])),pl(u)}function A2(t,e,n,r){if(!r||!EN(r))return{path:n};if(r.formMethod&&!FN(r.formMethod))return{path:n,error:gr(405,{method:r.formMethod})};let i=()=>({path:n,error:gr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=OP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!$i(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[m,y]=p;return""+h+m+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!$i(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Cb(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Cb(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=D2(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=D2(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if($i(u.formMethod))return{path:n,submission:u};let d=la(n);return e&&d.search&&ew(d.search)&&l.append("index",""),d.search="?"+l,{path:pl(d),submission:u}}function R2(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function _2(t,e,n,r,i,s,o,a,l,c,u,d,f,h,p,m){let y=m?zr(m[1])?m[1].error:m[1].data:void 0,v=t.createURL(e.location),b=t.createURL(i),x=n;s&&e.errors?x=R2(n,Object.keys(e.errors)[0],!0):m&&zr(m[1])&&(x=R2(n,m[0]));let S=m?m[1].statusCode:void 0,T=o&&S&&S>=400,C=x.filter((k,A)=>{let{route:R}=k;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return Eb(R,e.loaderData,e.errors);if(CN(e.loaderData,e.matches[A],k)||l.some(P=>P===k.route.id))return!0;let L=e.matches[A],D=k;return L2(k,Ht({currentUrl:v,currentParams:L.params,nextUrl:b,nextParams:D.params},r,{actionResult:y,actionStatus:S,defaultShouldRevalidate:T?!1:a||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||DP(L,D)}))}),E=[];return d.forEach((k,A)=>{if(s||!n.some(M=>M.route.id===k.routeId)||u.has(A))return;let R=Fa(h,k.path,p);if(!R){E.push({key:A,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(A),D=md(R,k.path),P=!1;f.has(A)?P=!1:c.has(A)?(c.delete(A),P=!0):L&&L.state!=="idle"&&L.data===void 0?P=a:P=L2(D,Ht({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:S,defaultShouldRevalidate:T?!1:a})),P&&E.push({key:A,routeId:k.routeId,path:k.path,matches:R,match:D,controller:new AbortController})}),[C,E]}function Eb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function CN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function DP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function L2(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function I2(t,e,n,r,i){var s;let o;if(t){let c=r[t];Ge(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>MP(c,u))),l=sg(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function MP(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>MP(n,s))}):!1}async function kN(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ge(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Qc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!X8.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ht({},e(i),{lazy:void 0}))}async function AN(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function RN(t,e,n,r,i,s,o,a,l,c){let u=s.map(h=>h.route.lazy?kN(h.route,l,a):void 0),d=s.map((h,p)=>{let m=u[p],y=i.some(b=>b.route.id===h.route.id);return Ht({},h,{shouldLoad:y,resolve:async b=>(b&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(y=!0),y?_N(e,r,h,m,b,c):Promise.resolve({type:wt.data,result:void 0}))})}),f=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function _N(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...p!==void 0?[p]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw gr(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:wt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw gr(404,{pathname:d})}Ge(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:wt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function LN(t){let{result:e,type:n}=t;if(FP(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:wt.error,error:u}}return n===wt.error?{type:wt.error,error:new og(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:wt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===wt.error){if(N2(e)){var r;if(e.data instanceof Error){var i;return{type:wt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new og(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:wt.error,error:e,statusCode:g0(e)?e.status:void 0}}if(ON(e)){var s,o;return{type:wt.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(N2(e)){var a,l;return{type:wt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:wt.data,data:e}}function IN(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ge(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZS.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Tb(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function P2(t,e,n){if(ZS.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Tu(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function zl(t,e,n,r){let i=t.createURL(OP(e)).toString(),s={signal:n};if(r&&$i(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Cb(r.formData):s.body=r.formData}return new Request(i,s)}function Cb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function D2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function PN(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&zr(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(Ge(!Ua(h),"Cannot handle redirect results in processLoaderData"),zr(h)){let p=h.error;u!==void 0&&(p=u,u=void 0),o=o||{};{let m=ja(t,f);o[m.route.id]==null&&(o[m.route.id]=p)}s[f]=void 0,l||(l=!0,a=g0(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else $o(h)?(r.set(f,h.deferredData),s[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(s[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function M2(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=PN(e,n,r,o);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,h=s[u];if(Ge(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(zr(h)){let p=ja(t.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=Ht({},l,{[p.route.id]:h.error})),t.fetchers.delete(u)}else if(Ua(h))Ge(!1,"Unhandled fetcher revalidation redirect");else if($o(h))Ge(!1,"Unhandled fetcher deferred data");else{let p=ko(h.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function O2(t,e,n,r){let i=Ht({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function F2(t){return t?zr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ja(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function j2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new og(t||500,a,new Error(l),!0)}function Xh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ua(i))return{key:r,result:i}}}function OP(t){let e=typeof t=="string"?la(t):t;return pl(Ht({},e,{hash:""}))}function DN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function MN(t){return FP(t.result)&&xN.has(t.result.status)}function $o(t){return t.type===wt.deferred}function zr(t){return t.type===wt.error}function Ua(t){return(t&&t.type)===wt.redirect}function N2(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function ON(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function FP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function FN(t){return vN.has(t.toLowerCase())}function $i(t){return gN.has(t.toLowerCase())}async function jN(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!DP(u,c)&&(i&&i[c.route.id])!==void 0;$o(l)&&d&&await JS(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function NN(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&$o(a)&&(Ge(o,"Expected an AbortController for revalidating fetcher deferred result"),await JS(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function JS(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:wt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:wt.error,error:i}}return{type:wt.data,data:t.deferredData.data}}}function ew(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function md(t,e){let n=typeof e=="string"?la(e).search:e.search;if(t[t.length-1].route.index&&ew(n||""))return t[t.length-1];let r=LP(t);return r[r.length-1]}function B2(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Jy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BN(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ku(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $N(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ko(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zN(t,e){try{let n=t.sessionStorage.getItem(PP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function UN(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(PP,JSON.stringify(n))}catch(r){Qc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}const y0=w.createContext(null),jP=w.createContext(null),ca=w.createContext(null),tw=w.createContext(null),As=w.createContext({outlet:null,matches:[],isDataRoute:!1}),NP=w.createContext(null);function VN(t,e){let{relative:n}=e===void 0?{}:e;Eu()||Ge(!1);let{basename:r,navigator:i}=w.useContext(ca),{hash:s,pathname:o,search:a}=$P(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ro([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Eu(){return w.useContext(tw)!=null}function ua(){return Eu()||Ge(!1),w.useContext(tw).location}function BP(t){w.useContext(ca).static||w.useLayoutEffect(t)}function Mr(){let{isDataRoute:t}=w.useContext(As);return t?rB():HN()}function HN(){Eu()||Ge(!1);let t=w.useContext(y0),{basename:e,future:n,navigator:r}=w.useContext(ca),{matches:i}=w.useContext(As),{pathname:s}=ua(),o=JSON.stringify(p0(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return BP(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=m0(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ro([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const WN=w.createContext(null);function GN(t){let e=w.useContext(As).outlet;return e&&w.createElement(WN.Provider,{value:t},e)}function nw(){let{matches:t}=w.useContext(As),e=t[t.length-1];return e?e.params:{}}function $P(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(ca),{matches:i}=w.useContext(As),{pathname:s}=ua(),o=JSON.stringify(p0(i,r.v7_relativeSplatPath));return w.useMemo(()=>m0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function KN(t,e,n,r){Eu()||Ge(!1);let{navigator:i}=w.useContext(ca),{matches:s}=w.useContext(As),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ua(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let h=Fa(t,{pathname:f});return ZN(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:ro([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:ro([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,r)}function YN(){let t=nB(),e=g0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const qN=w.createElement(YN,null);class XN extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(As.Provider,{value:this.props.routeContext},w.createElement(NP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QN(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(y0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(As.Provider,{value:e},r)}function ZN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ge(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,p=!1,m=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||qN,l&&(c<0&&f===0?(p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),b=()=>{let x;return h?x=m:p?x=y:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,w.createElement(QN,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(XN,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var zP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zP||{}),lg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lg||{});function JN(t){let e=w.useContext(y0);return e||Ge(!1),e}function eB(t){let e=w.useContext(jP);return e||Ge(!1),e}function tB(t){let e=w.useContext(As);return e||Ge(!1),e}function UP(t){let e=tB(),n=e.matches[e.matches.length-1];return n.route.id||Ge(!1),n.route.id}function nB(){var t;let e=w.useContext(NP),n=eB(lg.UseRouteError),r=UP(lg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rB(){let{router:t}=JN(zP.UseNavigateStable),e=UP(lg.UseNavigateStable),n=w.useRef(!1);return BP(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ag({fromRouteId:e},s)))},[t,e])}function v0(t){let{to:e,replace:n,state:r,relative:i}=t;Eu()||Ge(!1);let{future:s,static:o}=w.useContext(ca),{matches:a}=w.useContext(As),{pathname:l}=ua(),c=Mr(),u=m0(e,p0(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return w.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function iB(t){return GN(t.context)}function sB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hn.Pop,navigator:s,static:o=!1,future:a}=t;Eu()&&Ge(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:o,future:ag({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=la(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=w.useMemo(()=>{let y=Tu(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:p},navigationType:i}},[l,u,d,f,h,p,i]);return m==null?null:w.createElement(ca.Provider,{value:c},w.createElement(tw.Provider,{children:n,value:m}))}new Promise(()=>{});function oB(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(this,arguments)}function aB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cB(t,e){return t.button===0&&(!e||e==="_self")&&!lB(t)}const uB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dB="6";try{window.__reactRouterVersion=dB}catch{}function fB(t,e){return TN({basename:void 0,future:Cf({},void 0,{v7_prependBasename:!0}),history:K8({window:void 0}),hydrationData:hB(),routes:t,mapRouteProperties:oB,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function hB(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Cf({},e,{errors:pB(e.errors)})),e}function pB(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new og(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const mB=w.createContext({isTransitioning:!1}),gB=w.createContext(new Map),yB="startTransition",$2=_x[yB],vB="flushSync",z2=G8[vB];function xB(t){$2?$2(t):t()}function Yu(t){z2?z2(t):t()}class bB{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function SB(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=w.useState(n.state),[o,a]=w.useState(),[l,c]=w.useState({isTransitioning:!1}),[u,d]=w.useState(),[f,h]=w.useState(),[p,m]=w.useState(),y=w.useRef(new Map),{v7_startTransition:v}=r||{},b=w.useCallback(k=>{v?xB(k):k()},[v]),x=w.useCallback((k,A)=>{let{deletedFetchers:R,flushSync:L,viewTransitionOpts:D}=A;R.forEach(M=>y.current.delete(M)),k.fetchers.forEach((M,j)=>{M.data!==void 0&&y.current.set(j,M.data)});let P=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||P){L?Yu(()=>s(k)):b(()=>s(k));return}if(L){Yu(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let M=n.window.document.startViewTransition(()=>{Yu(()=>s(k))});M.finished.finally(()=>{Yu(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),Yu(()=>h(M));return}f?(u&&u.resolve(),f.skipTransition(),m({state:k,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,u,y,b]);w.useLayoutEffect(()=>n.subscribe(x),[n,x]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new bB)},[l]),w.useEffect(()=>{if(u&&o&&n.window){let k=o,A=u.promise,R=n.window.document.startViewTransition(async()=>{b(()=>s(k)),await A});R.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(R)}},[b,o,u,n.window]),w.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),w.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),w.useEffect(()=>{},[]);let S=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,A,R)=>n.navigate(k,{state:A,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(k,A,R)=>n.navigate(k,{replace:!0,state:A,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),T=n.basename||"/",C=w.useMemo(()=>({router:n,navigator:S,static:!1,basename:T}),[n,S,T]),E=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.createElement(w.Fragment,null,w.createElement(y0.Provider,{value:C},w.createElement(jP.Provider,{value:i},w.createElement(gB.Provider,{value:y.current},w.createElement(mB.Provider,{value:l},w.createElement(sB,{basename:T,location:i.location,navigationType:i.historyAction,navigator:S,future:E},i.initialized||n.future.v7_partialHydration?w.createElement(wB,{routes:n.routes,future:n.future,state:i}):e))))),null)}const wB=w.memo(TB);function TB(t){let{routes:e,future:n,state:r}=t;return KN(e,void 0,r,n)}const EB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=aB(e,uB),{basename:h}=w.useContext(ca),p,m=!1;if(typeof c=="string"&&CB.test(c)&&(p=c,EB))try{let x=new URL(window.location.href),S=c.startsWith("//")?new URL(x.protocol+c):new URL(c),T=Tu(S.pathname,h);S.origin===x.origin&&T!=null?c=T+S.search+S.hash:m=!0}catch{}let y=VN(c,{relative:i}),v=kB(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(x){r&&r(x),x.defaultPrevented||v(x)}return w.createElement("a",Cf({},f,{href:p||y,onClick:m||s?r:b,ref:n,target:l}))});var U2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(U2||(U2={}));var V2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V2||(V2={}));function kB(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Mr(),c=ua(),u=$P(t,{relative:o});return w.useCallback(d=>{if(cB(d,n)){d.preventDefault();let f=r!==void 0?r:pl(c)===pl(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function x0(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function AB(){return!!(globalThis!=null&&globalThis.document)}function VP(t){return t.parentElement&&VP(t.parentElement)?!0:t.hidden}function RB(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function _B(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function LB(t){var e;return((e=HP(t))==null?void 0:e.defaultView)??window}function HP(t){return x0(t)?t.ownerDocument:document}function IB(t){return HP(t).activeElement}function PB(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}const He=t=>t?"":void 0,ev=t=>t?!0:void 0;function em(t){return Array.isArray(t)}function tr(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!em(t)}function DB(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function MB(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function kb(t){if(t==null)return t;const{unitless:e}=MB(t);return e||typeof t=="number"?`${t}px`:t}const WP=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,rw=t=>Object.fromEntries(Object.entries(t).sort(WP));function H2(t){const e=rw(t);return Object.assign(Object.values(e),e)}function OB(t){const e=Object.keys(rw(t));return new Set(e)}function W2(t){if(!t)return t;t=kb(t)??t;const e=-.02;return typeof t=="number"?`${t+e}`:t.replace(/(\d+\.?\d*)/u,n=>`${parseFloat(n)+e}`)}function gd(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${kb(t)})`),e&&n.push("and",`(max-width: ${kb(e)})`),n.join(" ")}function FB(t){if(!t)return null;t.base=t.base??"0px";const e=H2(t),n=Object.entries(t).sort(WP).map(([s,o],a,l)=>{let[,c]=l[a+1]??[];return c=parseFloat(c)>0?W2(c):void 0,{_minW:W2(o),breakpoint:s,minW:o,maxW:c,maxWQuery:gd(null,c),minWQuery:gd(o),minMaxQuery:gd(o,c)}}),r=OB(t),i=Array.from(r.values());return{keys:r,normalized:e,isResponsive(s){const o=Object.keys(s);return o.length>0&&o.every(a=>r.has(a))},asObject:rw(t),asArray:H2(t),details:n,get(s){return n.find(o=>o.breakpoint===s)},media:[null,...e.map(s=>gd(s)).slice(1)],toArrayValue(s){if(!tr(s))throw new Error("toArrayValue: value must be an object");const o=i.map(a=>s[a]??null);for(;DB(o)===null;)o.pop();return o},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((o,a,l)=>{const c=i[l];return c!=null&&a!=null&&(o[c]=a),o},{})}}}function jB(...t){return function(...n){t.forEach(r=>r==null?void 0:r(...n))}}function ft(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function GP(t){return w.Children.toArray(t).filter(e=>w.isValidElement(e))}function iw(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function NB(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function dn(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=w.createContext(o);a.displayName=e;function l(){var u;const c=w.useContext(a);if(!c&&n){const d=new Error(s??NB(r,i));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[a.Provider,l,a]}const Re=(...t)=>t.filter(Boolean).join(" "),KP=t=>t.hasAttribute("tabindex"),BB=t=>KP(t)&&t.tabIndex===-1;function YP(t){if(!x0(t)||VP(t)||_B(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():RB(t)?!0:KP(t)}function $B(t){return t?x0(t)&&YP(t)&&!BB(t):!1}const zB=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],UB=zB.join(),VB=t=>t.offsetWidth>0&&t.offsetHeight>0;function HB(t){const e=Array.from(t.querySelectorAll(UB));return e.unshift(t),e.filter(n=>YP(n)&&VB(n))}function WB(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}const GB=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},qP=GB(WB),KB=t=>t.default||t;function XP(t){const{wasSelected:e,enabled:n,isSelected:r,mode:i="unmount"}=t;return!!(!n||r||i==="keepMounted"&&e)}function Cu(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function QP(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}const ZP=Object.freeze(["base","sm","md","lg","xl","2xl"]);function sw(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):tr(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}function YB(t,e=ZP){const n={};return t.forEach((r,i)=>{const s=e[i];r!=null&&(n[s]=r)}),n}const qB=t=>typeof t=="function";function Hr(t,...e){return qB(t)?t(...e):t}function XB(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:i}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+i+r)}function QB(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function JP(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:x0(t)&&XB(t)?t:JP(QB(t))}function ZB(t,e){const n={},r={};for(const[i,s]of Object.entries(t))e.includes(i)?n[i]=s:r[i]=s;return[n,r]}function JB(t,...e){const n=Object.getOwnPropertyDescriptors(t),r=Object.keys(n),i=o=>{const a={};for(let l=0;l<o.length;l++){const c=o[l];n[c]&&(Object.defineProperty(a,c,n[c]),delete n[c])}return a},s=o=>i(Array.isArray(o)?o:r.filter(o));return e.map(s).concat(i(r))}function G2(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){if(tr(o)||Array.isArray(o)){const l={};for(const[c,u]of Object.entries(o)){const d=(i==null?void 0:i(c))??c,f=[...a,d];if(r!=null&&r(o,f))return e(o,a);l[d]=s(u,f)}return l}return e(o,a)}return s(t)}const e$=t=>{const{condition:e,message:n}=t};var cg={exports:{}};cg.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",b="[object Object]",x="[object Proxy]",S="[object RegExp]",T="[object Set]",C="[object String]",E="[object Undefined]",k="[object WeakMap]",A="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",D="[object Float64Array]",P="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",O="[object Uint8ClampedArray]",B="[object Uint16Array]",I="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,G=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,q={};q[L]=q[D]=q[P]=q[M]=q[j]=q[F]=q[O]=q[B]=q[I]=!0,q[a]=q[l]=q[A]=q[u]=q[R]=q[d]=q[f]=q[h]=q[m]=q[y]=q[b]=q[S]=q[T]=q[C]=q[k]=!1;var te=typeof tc=="object"&&tc&&tc.Object===Object&&tc,ae=typeof self=="object"&&self&&self.Object===Object&&self,le=te||ae||Function("return this")(),Te=e&&!e.nodeType&&e,Fe=Te&&!0&&t&&!t.nodeType&&t,Qe=Fe&&Fe.exports===Te,it=Qe&&te.process,Me=function(){try{var N=Fe&&Fe.require&&Fe.require("util").types;return N||it&&it.binding&&it.binding("util")}catch{}}(),De=Me&&Me.isTypedArray;function bt(N,V,J){switch(J.length){case 0:return N.call(V);case 1:return N.call(V,J[0]);case 2:return N.call(V,J[0],J[1]);case 3:return N.call(V,J[0],J[1],J[2])}return N.apply(V,J)}function yn(N,V){for(var J=-1,we=Array(N);++J<N;)we[J]=V(J);return we}function Ee(N){return function(V){return N(V)}}function Ve(N,V){return N==null?void 0:N[V]}function fe(N,V){return function(J){return N(V(J))}}var Zt=Array.prototype,jt=Function.prototype,Nt=Object.prototype,Nn=le["__core-js_shared__"],kn=jt.toString,pt=Nt.hasOwnProperty,An=function(){var N=/[^.]+$/.exec(Nn&&Nn.keys&&Nn.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),ni=Nt.toString,Fr=kn.call(Object),vn=RegExp("^"+kn.call(pt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xn=Qe?le.Buffer:void 0,ya=le.Symbol,Is=le.Uint8Array;xn&&xn.allocUnsafe;var Pl=fe(Object.getPrototypeOf,Object),jr=Object.create,Dl=Nt.propertyIsEnumerable,Ml=Zt.splice,ri=ya?ya.toStringTag:void 0,yo=function(){try{var N=yy(Object,"defineProperty");return N({},"",{}),N}catch{}}(),Ol=xn?xn.isBuffer:void 0,Ps=Math.max,Fl=Date.now,Be=yy(le,"Map"),Ds=yy(Object,"create"),hy=function(){function N(){}return function(V){if(!wa(V))return{};if(jr)return jr(V);N.prototype=V;var J=new N;return N.prototype=void 0,J}}();function Zi(N){var V=-1,J=N==null?0:N.length;for(this.clear();++V<J;){var we=N[V];this.set(we[0],we[1])}}function py(){this.__data__=Ds?Ds(null):{},this.size=0}function _h(N){var V=this.has(N)&&delete this.__data__[N];return this.size-=V?1:0,V}function jl(N){var V=this.__data__;if(Ds){var J=V[N];return J===r?void 0:J}return pt.call(V,N)?V[N]:void 0}function Nl(N){var V=this.__data__;return Ds?V[N]!==void 0:pt.call(V,N)}function my(N,V){var J=this.__data__;return this.size+=this.has(N)?0:1,J[N]=Ds&&V===void 0?r:V,this}Zi.prototype.clear=py,Zi.prototype.delete=_h,Zi.prototype.get=jl,Zi.prototype.has=Nl,Zi.prototype.set=my;function Ii(N){var V=-1,J=N==null?0:N.length;for(this.clear();++V<J;){var we=N[V];this.set(we[0],we[1])}}function z(){this.__data__=[],this.size=0}function W(N){var V=this.__data__,J=ir(V,N);if(J<0)return!1;var we=V.length-1;return J==we?V.pop():Ml.call(V,J,1),--this.size,!0}function Q(N){var V=this.__data__,J=ir(V,N);return J<0?void 0:V[J][1]}function ie(N){return ir(this.__data__,N)>-1}function pe(N,V){var J=this.__data__,we=ir(J,N);return we<0?(++this.size,J.push([N,V])):J[we][1]=V,this}Ii.prototype.clear=z,Ii.prototype.delete=W,Ii.prototype.get=Q,Ii.prototype.has=ie,Ii.prototype.set=pe;function Se(N){var V=-1,J=N==null?0:N.length;for(this.clear();++V<J;){var we=N[V];this.set(we[0],we[1])}}function Oe(){this.size=0,this.__data__={hash:new Zi,map:new(Be||Ii),string:new Zi}}function xe(N){var V=Ih(this,N).delete(N);return this.size-=V?1:0,V}function be(N){return Ih(this,N).get(N)}function me(N){return Ih(this,N).has(N)}function Ce(N,V){var J=Ih(this,N),we=J.size;return J.set(N,V),this.size+=J.size==we?0:1,this}Se.prototype.clear=Oe,Se.prototype.delete=xe,Se.prototype.get=be,Se.prototype.has=me,Se.prototype.set=Ce;function je(N){var V=this.__data__=new Ii(N);this.size=V.size}function Ye(){this.__data__=new Ii,this.size=0}function bn(N){var V=this.__data__,J=V.delete(N);return this.size=V.size,J}function St(N){return this.__data__.get(N)}function nt(N){return this.__data__.has(N)}function Bt(N,V){var J=this.__data__;if(J instanceof Ii){var we=J.__data__;if(!Be||we.length<n-1)return we.push([N,V]),this.size=++J.size,this;J=this.__data__=new Se(we)}return J.set(N,V),this.size=J.size,this}je.prototype.clear=Ye,je.prototype.delete=bn,je.prototype.get=St,je.prototype.has=nt,je.prototype.set=Bt;function vo(N,V){var J=by(N),we=!J&&xy(N),Je=!J&&!we&&lE(N),Tt=!J&&!we&&!Je&&uE(N),zt=J||we||Je||Tt,st=zt?yn(N.length,String):[],Ut=st.length;for(var Di in N)zt&&(Di=="length"||Je&&(Di=="offset"||Di=="parent")||Tt&&(Di=="buffer"||Di=="byteLength"||Di=="byteOffset")||oE(Di,Ut))||st.push(Di);return st}function Ms(N,V,J){(J!==void 0&&!Ph(N[V],J)||J===void 0&&!(V in N))&&va(N,V,J)}function Pi(N,V,J){var we=N[V];(!(pt.call(N,V)&&Ph(we,J))||J===void 0&&!(V in N))&&va(N,V,J)}function ir(N,V){for(var J=N.length;J--;)if(Ph(N[J][0],V))return J;return-1}function va(N,V,J){V=="__proto__"&&yo?yo(N,V,{configurable:!0,enumerable:!0,value:J,writable:!0}):N[V]=J}var xa=ej();function ii(N){return N==null?N===void 0?E:v:ri&&ri in Object(N)?tj(N):aj(N)}function ba(N){return Fu(N)&&ii(N)==a}function Bl(N){if(!wa(N)||sj(N))return!1;var V=wy(N)?vn:G;return V.test(dj(N))}function Ze(N){return Fu(N)&&cE(N.length)&&!!q[ii(N)]}function $t(N){if(!wa(N))return oj(N);var V=aE(N),J=[];for(var we in N)we=="constructor"&&(V||!pt.call(N,we))||J.push(we);return J}function Os(N,V,J,we,Je){N!==V&&xa(V,function(Tt,zt){if(Je||(Je=new je),wa(Tt))Sa(N,V,zt,J,Os,we,Je);else{var st=we?we(vy(N,zt),Tt,zt+"",N,V,Je):void 0;st===void 0&&(st=Tt),Ms(N,zt,st)}},dE)}function Sa(N,V,J,we,Je,Tt,zt){var st=vy(N,J),Ut=vy(V,J),Di=zt.get(Ut);if(Di){Ms(N,J,Di);return}var Nr=Tt?Tt(st,Ut,J+"",N,V,zt):void 0,ju=Nr===void 0;if(ju){var Ty=by(Ut),Ey=!Ty&&lE(Ut),hE=!Ty&&!Ey&&uE(Ut);Nr=Ut,Ty||Ey||hE?by(st)?Nr=st:fj(st)?Nr=QF(st):Ey?(ju=!1,Nr=Lh(Ut)):hE?(ju=!1,Nr=XF(Ut)):Nr=[]:hj(Ut)||xy(Ut)?(Nr=st,xy(st)?Nr=pj(st):(!wa(st)||wy(st))&&(Nr=nj(Ut))):ju=!1}ju&&(zt.set(Ut,Nr),Je(Nr,Ut,we,Tt,zt),zt.delete(Ut)),Ms(N,J,Nr)}function Jt(N,V){return cj(lj(N,V,fE),N+"")}var xo=yo?function(N,V){return yo(N,"toString",{configurable:!0,enumerable:!1,value:gj(V),writable:!0})}:fE;function Lh(N,V){return N.slice()}function gy(N){var V=new N.constructor(N.byteLength);return new Is(V).set(new Is(N)),V}function XF(N,V){var J=gy(N.buffer);return new N.constructor(J,N.byteOffset,N.length)}function QF(N,V){var J=-1,we=N.length;for(V||(V=Array(we));++J<we;)V[J]=N[J];return V}function ZF(N,V,J,we){var Je=!J;J||(J={});for(var Tt=-1,zt=V.length;++Tt<zt;){var st=V[Tt],Ut=void 0;Ut===void 0&&(Ut=N[st]),Je?va(J,st,Ut):Pi(J,st,Ut)}return J}function JF(N){return Jt(function(V,J){var we=-1,Je=J.length,Tt=Je>1?J[Je-1]:void 0,zt=Je>2?J[2]:void 0;for(Tt=N.length>3&&typeof Tt=="function"?(Je--,Tt):void 0,zt&&rj(J[0],J[1],zt)&&(Tt=Je<3?void 0:Tt,Je=1),V=Object(V);++we<Je;){var st=J[we];st&&N(V,st,we,Tt)}return V})}function ej(N){return function(V,J,we){for(var Je=-1,Tt=Object(V),zt=we(V),st=zt.length;st--;){var Ut=zt[++Je];if(J(Tt[Ut],Ut,Tt)===!1)break}return V}}function Ih(N,V){var J=N.__data__;return ij(V)?J[typeof V=="string"?"string":"hash"]:J.map}function yy(N,V){var J=Ve(N,V);return Bl(J)?J:void 0}function tj(N){var V=pt.call(N,ri),J=N[ri];try{N[ri]=void 0;var we=!0}catch{}var Je=ni.call(N);return we&&(V?N[ri]=J:delete N[ri]),Je}function nj(N){return typeof N.constructor=="function"&&!aE(N)?hy(Pl(N)):{}}function oE(N,V){var J=typeof N;return V=V??o,!!V&&(J=="number"||J!="symbol"&&Y.test(N))&&N>-1&&N%1==0&&N<V}function rj(N,V,J){if(!wa(J))return!1;var we=typeof V;return(we=="number"?Sy(J)&&oE(V,J.length):we=="string"&&V in J)?Ph(J[V],N):!1}function ij(N){var V=typeof N;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?N!=="__proto__":N===null}function sj(N){return!!An&&An in N}function aE(N){var V=N&&N.constructor,J=typeof V=="function"&&V.prototype||Nt;return N===J}function oj(N){var V=[];if(N!=null)for(var J in Object(N))V.push(J);return V}function aj(N){return ni.call(N)}function lj(N,V,J){return V=Ps(V===void 0?N.length-1:V,0),function(){for(var we=arguments,Je=-1,Tt=Ps(we.length-V,0),zt=Array(Tt);++Je<Tt;)zt[Je]=we[V+Je];Je=-1;for(var st=Array(V+1);++Je<V;)st[Je]=we[Je];return st[V]=J(zt),bt(N,this,st)}}function vy(N,V){if(!(V==="constructor"&&typeof N[V]=="function")&&V!="__proto__")return N[V]}var cj=uj(xo);function uj(N){var V=0,J=0;return function(){var we=Fl(),Je=s-(we-J);if(J=we,Je>0){if(++V>=i)return arguments[0]}else V=0;return N.apply(void 0,arguments)}}function dj(N){if(N!=null){try{return kn.call(N)}catch{}try{return N+""}catch{}}return""}function Ph(N,V){return N===V||N!==N&&V!==V}var xy=ba(function(){return arguments}())?ba:function(N){return Fu(N)&&pt.call(N,"callee")&&!Dl.call(N,"callee")},by=Array.isArray;function Sy(N){return N!=null&&cE(N.length)&&!wy(N)}function fj(N){return Fu(N)&&Sy(N)}var lE=Ol||yj;function wy(N){if(!wa(N))return!1;var V=ii(N);return V==h||V==p||V==c||V==x}function cE(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=o}function wa(N){var V=typeof N;return N!=null&&(V=="object"||V=="function")}function Fu(N){return N!=null&&typeof N=="object"}function hj(N){if(!Fu(N)||ii(N)!=b)return!1;var V=Pl(N);if(V===null)return!0;var J=pt.call(V,"constructor")&&V.constructor;return typeof J=="function"&&J instanceof J&&kn.call(J)==Fr}var uE=De?Ee(De):Ze;function pj(N){return ZF(N,dE(N))}function dE(N){return Sy(N)?vo(N):$t(N)}var mj=JF(function(N,V,J,we){Os(N,V,J,we)});function gj(N){return function(){return N}}function fE(N){return N}function yj(){return!1}t.exports=mj})(cg,cg.exports);var t$=cg.exports;const yi=xu(t$);function Ki(t,e=[]){const n=w.useRef(t);return w.useEffect(()=>{n.current=t}),w.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function tm(t,e,n,r){const i=Ki(n);return w.useEffect(()=>{const s=typeof t=="function"?t():t??document;if(!(!n||!s))return s.addEventListener(e,i,r),()=>{s.removeEventListener(e,i,r)}},[e,t,r,i,n]),()=>{const s=typeof t=="function"?t():t??document;s==null||s.removeEventListener(e,i,r)}}function n$(t){const{isOpen:e,ref:n}=t,[r,i]=w.useState(e),[s,o]=w.useState(!1);return w.useEffect(()=>{s||(i(e),o(!0))},[e,s,r]),tm(()=>n.current,"animationend",()=>{i(e)}),{present:!(e?!1:!r),onComplete(){var u;const l=LB(n.current),c=new l.CustomEvent("animationend",{bubbles:!0});(u=n.current)==null||u.dispatchEvent(c)}}}function r$(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:i=(f,h)=>f!==h}=t,s=Ki(r),o=Ki(i),[a,l]=w.useState(n),c=e!==void 0,u=c?e:a,d=Ki(f=>{const p=typeof f=="function"?f(u):f;o(u,p)&&(c||l(p),s(p))},[c,s,u,o]);return[u,d]}function lh(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=Ki(n),o=Ki(e),[a,l]=w.useState(t.defaultIsOpen||!1),c=r!==void 0?r:a,u=r!==void 0,d=w.useId(),f=i??`disclosure-${d}`,h=w.useCallback(()=>{u||l(!1),o==null||o()},[u,o]),p=w.useCallback(()=>{u||l(!0),s==null||s()},[u,s]),m=w.useCallback(()=>{c?h():p()},[c,p,h]);function y(b={}){return{...b,"aria-expanded":c,"aria-controls":f,onClick(x){var S;(S=b.onClick)==null||S.call(b,x),m()}}}function v(b={}){return{...b,hidden:!c,id:f}}return{isOpen:c,onOpen:p,onClose:h,onToggle:m,isControlled:u,getButtonProps:y,getDisclosureProps:v}}const Xo=globalThis!=null&&globalThis.document?w.useLayoutEffect:w.useEffect,Zc=(t,e)=>{const n=w.useRef(!1),r=w.useRef(!1);w.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function i$(t){const e=t.current;if(!e)return!1;const n=IB(e);return!n||e.contains(n)?!1:!!$B(n)}function s$(t,e){const{shouldFocus:n,visible:r,focusRef:i}=e,s=n&&!r;Zc(()=>{if(!s||i$(t))return;const o=(i==null?void 0:i.current)||t.current;let a;if(o)return a=requestAnimationFrame(()=>{o.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(a)}},[s,t,i])}function o$(t,e){const n=w.useId();return w.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function a$(t,...e){const n=o$(t);return w.useMemo(()=>e.map(r=>`${r}-${n}`),[n,e])}function l$(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function rr(...t){return e=>{t.forEach(n=>{l$(n,e)})}}function c$(...t){return w.useMemo(()=>rr(...t),t)}function u$(t){const{ref:e,handler:n,enabled:r=!0}=t,i=Ki(n),o=w.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;w.useEffect(()=>{if(!r)return;const a=d=>{tv(d,e)&&(o.isPointerDown=!0)},l=d=>{if(o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}o.isPointerDown&&n&&tv(d,e)&&(o.isPointerDown=!1,i(d))},c=d=>{o.ignoreEmulatedMouseEvents=!0,n&&o.isPointerDown&&tv(d,e)&&(o.isPointerDown=!1,i(d))},u=eD(e.current);return u.addEventListener("mousedown",a,!0),u.addEventListener("mouseup",l,!0),u.addEventListener("touchstart",a,!0),u.addEventListener("touchend",c,!0),()=>{u.removeEventListener("mousedown",a,!0),u.removeEventListener("mouseup",l,!0),u.removeEventListener("touchstart",a,!0),u.removeEventListener("touchend",c,!0)}},[n,e,i,o,r])}function tv(t,e){var r,i;const n=((r=t.composedPath)==null?void 0:r.call(t)[0])??t.target;return n&&!eD(n).contains(n)?!1:!((i=e.current)!=null&&i.contains(n))}function eD(t){return(t==null?void 0:t.ownerDocument)??document}function d$(t){const e=w.useRef();return w.useEffect(()=>{e.current=t},[t]),e.current}function f$(t,e){const n=Ki(t);w.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}const Sn={open:(t,e)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${e}`,closed:(t,e)=>`${t}[data-closed], ${t}[data-state=closed] ${e}`,hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},es=t=>tD(e=>t(e,"&"),"[role=group]","[data-group]",".group"),Fs=t=>tD(e=>t(e,"~ &"),"[data-peer]",".peer"),tD=(t,...e)=>e.map(t).join(", "),Ic={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:es(Sn.open),_groupClosed:es(Sn.closed),_groupHover:es(Sn.hover),_peerHover:Fs(Sn.hover),_groupFocus:es(Sn.focus),_peerFocus:Fs(Sn.focus),_groupFocusVisible:es(Sn.focusVisible),_peerFocusVisible:Fs(Sn.focusVisible),_groupActive:es(Sn.active),_peerActive:Fs(Sn.active),_groupDisabled:es(Sn.disabled),_peerDisabled:Fs(Sn.disabled),_groupInvalid:es(Sn.invalid),_peerInvalid:Fs(Sn.invalid),_groupChecked:es(Sn.checked),_peerChecked:Fs(Sn.checked),_groupFocusWithin:es(Sn.focusWithin),_peerFocusWithin:Fs(Sn.focusWithin),_peerPlaceholderShown:Fs(Sn.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},nD=Object.keys(Ic),h$=t=>/!(important)?$/.test(t),K2=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,p$=(t,e)=>n=>{const r=String(e),i=h$(r),s=K2(r),o=t?`${t}.${s}`:s;let a=tr(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=K2(a),i?`${a} !important`:a};function ow(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{const a=p$(e,s)(o);let l=(n==null?void 0:n(a,o))??a;return r&&(l=r(l,o)),l}}const Qh=(...t)=>e=>t.reduce((n,r)=>r(n),e);function si(t,e){return n=>{const r={property:n,scale:t};return r.transform=ow({scale:t,transform:e}),r}}const m$=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function g$(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:m$(e),transform:n?ow({scale:n,compose:r}):r}}const rD=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function y$(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...rD].join(" ")}function v$(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...rD].join(" ")}const x$={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},b$={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function S$(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const w$={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Ab={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},T$=new Set(Object.values(Ab)),Rb=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),E$=t=>t.trim();function C$(t,e){if(t==null||Rb.has(t))return t;if(!(_b(t)||Rb.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],o=i==null?void 0:i[2];if(!s||!o)return t;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...c]=o.split(",").map(E$).filter(Boolean);if((c==null?void 0:c.length)===0)return t;const u=l in Ab?Ab[l]:l;c.unshift(u);const d=c.map(f=>{if(T$.has(f))return f;const h=f.indexOf(" "),[p,m]=h!==-1?[f.substr(0,h),f.substr(h+1)]:[f],y=_b(m)?m:m&&m.split(" "),v=`colors.${p}`,b=v in e.__cssMap?e.__cssMap[v].varRef:p;return y?[b,...Array.isArray(y)?y:[y]].join(" "):b});return`${a}(${d.join(", ")})`}const _b=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),k$=(t,e)=>C$(t,e??{});function A$(t){return/^var\(--.+\)$/.test(t)}const R$=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},ts=t=>e=>`${t}(${e})`,qe={filter(t){return t!=="auto"?t:x$},backdropFilter(t){return t!=="auto"?t:b$},ring(t){return S$(qe.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?y$():t==="auto-gpu"?v$():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=R$(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(A$(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:k$,blur:ts("blur"),opacity:ts("opacity"),brightness:ts("brightness"),contrast:ts("contrast"),dropShadow:ts("drop-shadow"),grayscale:ts("grayscale"),hueRotate:t=>ts("hue-rotate")(qe.degree(t)),invert:ts("invert"),saturate:ts("saturate"),sepia:ts("sepia"),bgImage(t){return t==null||_b(t)||Rb.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:e,divide:n}=w$[t]??{},r={flexDirection:t};return e&&(r[e]=1),n&&(r[n]=1),r}},U={borderWidths:si("borderWidths"),borderStyles:si("borderStyles"),colors:si("colors"),borders:si("borders"),gradients:si("gradients",qe.gradient),radii:si("radii",qe.px),space:si("space",Qh(qe.vh,qe.px)),spaceT:si("space",Qh(qe.vh,qe.px)),degreeT(t){return{property:t,transform:qe.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:ow({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:si("sizes",Qh(qe.vh,qe.px)),sizesT:si("sizes",Qh(qe.vh,qe.fraction)),shadows:si("shadows"),logical:g$,blur:si("blur",qe.blur)},nm={background:U.colors("background"),backgroundColor:U.colors("backgroundColor"),backgroundImage:U.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:qe.bgClip},bgSize:U.prop("backgroundSize"),bgPosition:U.prop("backgroundPosition"),bg:U.colors("background"),bgColor:U.colors("backgroundColor"),bgPos:U.prop("backgroundPosition"),bgRepeat:U.prop("backgroundRepeat"),bgAttachment:U.prop("backgroundAttachment"),bgGradient:U.gradients("backgroundImage"),bgClip:{transform:qe.bgClip}};Object.assign(nm,{bgImage:nm.backgroundImage,bgImg:nm.backgroundImage});const ot={border:U.borders("border"),borderWidth:U.borderWidths("borderWidth"),borderStyle:U.borderStyles("borderStyle"),borderColor:U.colors("borderColor"),borderRadius:U.radii("borderRadius"),borderTop:U.borders("borderTop"),borderBlockStart:U.borders("borderBlockStart"),borderTopLeftRadius:U.radii("borderTopLeftRadius"),borderStartStartRadius:U.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:U.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:U.radii("borderTopRightRadius"),borderStartEndRadius:U.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:U.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:U.borders("borderRight"),borderInlineEnd:U.borders("borderInlineEnd"),borderBottom:U.borders("borderBottom"),borderBlockEnd:U.borders("borderBlockEnd"),borderBottomLeftRadius:U.radii("borderBottomLeftRadius"),borderBottomRightRadius:U.radii("borderBottomRightRadius"),borderLeft:U.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:U.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:U.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:U.borders(["borderLeft","borderRight"]),borderInline:U.borders("borderInline"),borderY:U.borders(["borderTop","borderBottom"]),borderBlock:U.borders("borderBlock"),borderTopWidth:U.borderWidths("borderTopWidth"),borderBlockStartWidth:U.borderWidths("borderBlockStartWidth"),borderTopColor:U.colors("borderTopColor"),borderBlockStartColor:U.colors("borderBlockStartColor"),borderTopStyle:U.borderStyles("borderTopStyle"),borderBlockStartStyle:U.borderStyles("borderBlockStartStyle"),borderBottomWidth:U.borderWidths("borderBottomWidth"),borderBlockEndWidth:U.borderWidths("borderBlockEndWidth"),borderBottomColor:U.colors("borderBottomColor"),borderBlockEndColor:U.colors("borderBlockEndColor"),borderBottomStyle:U.borderStyles("borderBottomStyle"),borderBlockEndStyle:U.borderStyles("borderBlockEndStyle"),borderLeftWidth:U.borderWidths("borderLeftWidth"),borderInlineStartWidth:U.borderWidths("borderInlineStartWidth"),borderLeftColor:U.colors("borderLeftColor"),borderInlineStartColor:U.colors("borderInlineStartColor"),borderLeftStyle:U.borderStyles("borderLeftStyle"),borderInlineStartStyle:U.borderStyles("borderInlineStartStyle"),borderRightWidth:U.borderWidths("borderRightWidth"),borderInlineEndWidth:U.borderWidths("borderInlineEndWidth"),borderRightColor:U.colors("borderRightColor"),borderInlineEndColor:U.colors("borderInlineEndColor"),borderRightStyle:U.borderStyles("borderRightStyle"),borderInlineEndStyle:U.borderStyles("borderInlineEndStyle"),borderTopRadius:U.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:U.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:U.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:U.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(ot,{rounded:ot.borderRadius,roundedTop:ot.borderTopRadius,roundedTopLeft:ot.borderTopLeftRadius,roundedTopRight:ot.borderTopRightRadius,roundedTopStart:ot.borderStartStartRadius,roundedTopEnd:ot.borderStartEndRadius,roundedBottom:ot.borderBottomRadius,roundedBottomLeft:ot.borderBottomLeftRadius,roundedBottomRight:ot.borderBottomRightRadius,roundedBottomStart:ot.borderEndStartRadius,roundedBottomEnd:ot.borderEndEndRadius,roundedLeft:ot.borderLeftRadius,roundedRight:ot.borderRightRadius,roundedStart:ot.borderInlineStartRadius,roundedEnd:ot.borderInlineEndRadius,borderStart:ot.borderInlineStart,borderEnd:ot.borderInlineEnd,borderTopStartRadius:ot.borderStartStartRadius,borderTopEndRadius:ot.borderStartEndRadius,borderBottomStartRadius:ot.borderEndStartRadius,borderBottomEndRadius:ot.borderEndEndRadius,borderStartRadius:ot.borderInlineStartRadius,borderEndRadius:ot.borderInlineEndRadius,borderStartWidth:ot.borderInlineStartWidth,borderEndWidth:ot.borderInlineEndWidth,borderStartColor:ot.borderInlineStartColor,borderEndColor:ot.borderInlineEndColor,borderStartStyle:ot.borderInlineStartStyle,borderEndStyle:ot.borderInlineEndStyle});const _$={color:U.colors("color"),textColor:U.colors("color"),fill:U.colors("fill"),stroke:U.colors("stroke"),accentColor:U.colors("accentColor"),textFillColor:U.colors("textFillColor")},ug={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:qe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:U.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:U.space("gap"),rowGap:U.space("rowGap"),columnGap:U.space("columnGap")};Object.assign(ug,{flexDir:ug.flexDirection});const ci={width:U.sizesT("width"),inlineSize:U.sizesT("inlineSize"),height:U.sizes("height"),blockSize:U.sizes("blockSize"),boxSize:U.sizes(["width","height"]),minWidth:U.sizes("minWidth"),minInlineSize:U.sizes("minInlineSize"),minHeight:U.sizes("minHeight"),minBlockSize:U.sizes("minBlockSize"),maxWidth:U.sizes("maxWidth"),maxInlineSize:U.sizes("maxInlineSize"),maxHeight:U.sizes("maxHeight"),maxBlockSize:U.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var i,s;return{[`@media screen and (min-width: ${((s=(i=e.__breakpoints)==null?void 0:i.get(t))==null?void 0:s.minW)??t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var i,s;return{[`@media screen and (max-width: ${((s=(i=e.__breakpoints)==null?void 0:i.get(t))==null?void 0:s._minW)??t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:U.propT("float",qe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ci,{w:ci.width,h:ci.height,minW:ci.minWidth,maxW:ci.maxWidth,minH:ci.minHeight,maxH:ci.maxHeight,overscroll:ci.overscrollBehavior,overscrollX:ci.overscrollBehaviorX,overscrollY:ci.overscrollBehaviorY});const L$={filter:{transform:qe.filter},blur:U.blur("--chakra-blur"),brightness:U.propT("--chakra-brightness",qe.brightness),contrast:U.propT("--chakra-contrast",qe.contrast),hueRotate:U.propT("--chakra-hue-rotate",qe.hueRotate),invert:U.propT("--chakra-invert",qe.invert),saturate:U.propT("--chakra-saturate",qe.saturate),dropShadow:U.propT("--chakra-drop-shadow",qe.dropShadow),backdropFilter:{transform:qe.backdropFilter},backdropBlur:U.blur("--chakra-backdrop-blur"),backdropBrightness:U.propT("--chakra-backdrop-brightness",qe.brightness),backdropContrast:U.propT("--chakra-backdrop-contrast",qe.contrast),backdropHueRotate:U.propT("--chakra-backdrop-hue-rotate",qe.hueRotate),backdropInvert:U.propT("--chakra-backdrop-invert",qe.invert),backdropSaturate:U.propT("--chakra-backdrop-saturate",qe.saturate)},I$={ring:{transform:qe.ring},ringColor:U.colors("--chakra-ring-color"),ringOffset:U.prop("--chakra-ring-offset-width"),ringOffsetColor:U.colors("--chakra-ring-offset-color"),ringInset:U.prop("--chakra-ring-inset")},P$={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:qe.outline},outlineOffset:!0,outlineColor:U.colors("outlineColor")},iD={gridGap:U.space("gridGap"),gridColumnGap:U.space("gridColumnGap"),gridRowGap:U.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function D$(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}const M$=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},O$=M$(D$),F$={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},j$={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},nv=(t,e,n)=>{const r={},i=O$(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},N$={srOnly:{transform(t){return t===!0?F$:t==="focusable"?j$:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>nv(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>nv(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>nv(e,t,n)}},$d={position:!0,pos:U.prop("position"),zIndex:U.prop("zIndex","zIndices"),inset:U.spaceT("inset"),insetX:U.spaceT(["left","right"]),insetInline:U.spaceT("insetInline"),insetY:U.spaceT(["top","bottom"]),insetBlock:U.spaceT("insetBlock"),top:U.spaceT("top"),insetBlockStart:U.spaceT("insetBlockStart"),bottom:U.spaceT("bottom"),insetBlockEnd:U.spaceT("insetBlockEnd"),left:U.spaceT("left"),insetInlineStart:U.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:U.spaceT("right"),insetInlineEnd:U.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign($d,{insetStart:$d.insetInlineStart,insetEnd:$d.insetInlineEnd});const Lb={boxShadow:U.shadows("boxShadow"),mixBlendMode:!0,blendMode:U.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:U.prop("backgroundBlendMode"),opacity:!0};Object.assign(Lb,{shadow:Lb.boxShadow});const Dt={margin:U.spaceT("margin"),marginTop:U.spaceT("marginTop"),marginBlockStart:U.spaceT("marginBlockStart"),marginRight:U.spaceT("marginRight"),marginInlineEnd:U.spaceT("marginInlineEnd"),marginBottom:U.spaceT("marginBottom"),marginBlockEnd:U.spaceT("marginBlockEnd"),marginLeft:U.spaceT("marginLeft"),marginInlineStart:U.spaceT("marginInlineStart"),marginX:U.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:U.spaceT("marginInline"),marginY:U.spaceT(["marginTop","marginBottom"]),marginBlock:U.spaceT("marginBlock"),padding:U.space("padding"),paddingTop:U.space("paddingTop"),paddingBlockStart:U.space("paddingBlockStart"),paddingRight:U.space("paddingRight"),paddingBottom:U.space("paddingBottom"),paddingBlockEnd:U.space("paddingBlockEnd"),paddingLeft:U.space("paddingLeft"),paddingInlineStart:U.space("paddingInlineStart"),paddingInlineEnd:U.space("paddingInlineEnd"),paddingX:U.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:U.space("paddingInline"),paddingY:U.space(["paddingTop","paddingBottom"]),paddingBlock:U.space("paddingBlock")};Object.assign(Dt,{m:Dt.margin,mt:Dt.marginTop,mr:Dt.marginRight,me:Dt.marginInlineEnd,marginEnd:Dt.marginInlineEnd,mb:Dt.marginBottom,ml:Dt.marginLeft,ms:Dt.marginInlineStart,marginStart:Dt.marginInlineStart,mx:Dt.marginX,my:Dt.marginY,p:Dt.padding,pt:Dt.paddingTop,py:Dt.paddingY,px:Dt.paddingX,pb:Dt.paddingBottom,pl:Dt.paddingLeft,ps:Dt.paddingInlineStart,paddingStart:Dt.paddingInlineStart,pr:Dt.paddingRight,pe:Dt.paddingInlineEnd,paddingEnd:Dt.paddingInlineEnd});const B$={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:U.spaceT("scrollMargin"),scrollMarginTop:U.spaceT("scrollMarginTop"),scrollMarginBottom:U.spaceT("scrollMarginBottom"),scrollMarginLeft:U.spaceT("scrollMarginLeft"),scrollMarginRight:U.spaceT("scrollMarginRight"),scrollMarginX:U.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:U.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:U.spaceT("scrollPadding"),scrollPaddingTop:U.spaceT("scrollPaddingTop"),scrollPaddingBottom:U.spaceT("scrollPaddingBottom"),scrollPaddingLeft:U.spaceT("scrollPaddingLeft"),scrollPaddingRight:U.spaceT("scrollPaddingRight"),scrollPaddingX:U.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:U.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},$$={fontFamily:U.prop("fontFamily","fonts"),fontSize:U.prop("fontSize","fontSizes",qe.px),fontWeight:U.prop("fontWeight","fontWeights"),lineHeight:U.prop("lineHeight","lineHeights"),letterSpacing:U.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},z$={textDecorationColor:U.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:U.shadows("textShadow")},U$={clipPath:!0,transform:U.propT("transform",qe.transform),transformOrigin:!0,translateX:U.spaceT("--chakra-translate-x"),translateY:U.spaceT("--chakra-translate-y"),skewX:U.degreeT("--chakra-skew-x"),skewY:U.degreeT("--chakra-skew-y"),scaleX:U.prop("--chakra-scale-x"),scaleY:U.prop("--chakra-scale-y"),scale:U.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:U.degreeT("--chakra-rotate")},V$={listStyleType:!0,listStylePosition:!0,listStylePos:U.prop("listStylePosition"),listStyleImage:!0,listStyleImg:U.prop("listStyleImage")},H$={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:U.prop("transitionDuration","transition.duration"),transitionProperty:U.prop("transitionProperty","transition.property"),transitionTimingFunction:U.prop("transitionTimingFunction","transition.easing")},aw=yi({},nm,ot,_$,ug,ci,L$,I$,P$,iD,N$,$d,Lb,Dt,B$,$$,z$,U$,V$,H$),W$=Object.assign({},Dt,ci,ug,iD,$d),G$=Object.keys(W$),K$=[...Object.keys(aw),...nD],Y$={...aw,...Ic},q$=t=>t in Y$,X$=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=Hr(t[o],e);if(a==null)continue;if(a=tr(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let c=0;c<l;c+=1){const u=i==null?void 0:i[c];if(!u){s[o]=a[c];continue}s[u]=s[u]||{},a[c]!=null&&(s[u][o]=a[c])}}return s};function Q$(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function Z$(t){return/^var\(--.+\)$/.test(t)}const J$=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!Z$(e),e7=(t,e)=>{if(e==null)return e;const n=o=>{var a,l;return(l=(a=t.__cssMap)==null?void 0:a[o])==null?void 0:l.varRef},r=o=>n(o)??o,[i,s]=Q$(e);return e=n(i)??r(s)??r(e),e};function t7(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var u;const a=Hr(s,r),l=X$(a)(r);let c={};for(let d in l){const f=l[d];let h=Hr(f,r);d in n&&(d=n[d]),J$(d,h)&&(h=e7(r,h));let p=e[d];if(p===!0&&(p={property:d}),tr(h)){c[d]=c[d]??{},c[d]=yi({},c[d],i(h,!0));continue}let m=((u=p==null?void 0:p.transform)==null?void 0:u.call(p,h,r,a))??h;m=p!=null&&p.processResult?i(m,!0):m;const y=Hr(p==null?void 0:p.property,r);if(!o&&(p!=null&&p.static)){const v=Hr(p.static,r);c=yi({},c,v)}if(y&&Array.isArray(y)){for(const v of y)c[v]=m;continue}if(y){y==="&"&&tr(m)?c=yi({},c,m):c[y]=m;continue}if(tr(m)){c=yi({},c,m);continue}c[d]=m}return c};return i}const sD=t=>e=>t7({theme:e,pseudos:Ic,configs:aw})(t);function Lt(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function n7(t,e,n){var r,i;return((i=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:i.varRef)??n}function r7(t,e){if(Array.isArray(t))return t;if(tr(t))return e(t);if(t!=null)return[t]}function i7(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function s7(t){const e=t.__breakpoints;return function(r,i,s,o){var f,h;if(!e)return;const a={},l=r7(s,e.toArrayValue);if(!l)return a;const c=l.length,u=c===1,d=!!r.parts;for(let p=0;p<c;p++){const m=e.details[p],y=e.details[i7(l,p)],v=gd(m.minW,y==null?void 0:y._minW),b=Hr((f=r[i])==null?void 0:f[l[p]],o);if(b){if(d){(h=r.parts)==null||h.forEach(x=>{yi(a,{[x]:u?b[x]:{[v]:b[x]}})});continue}if(!d){u?yi(a,b):a[v]=b;continue}a[v]=b}}return a}}function o7(t){return e=>{const{variant:n,size:r,theme:i}=e,s=s7(i);return yi({},Hr(t.baseStyle??{},e),s(t,"sizes",r,e),s(t,"variants",n,e))}}function Qt(t){return Cu(t,["styleConfig","size","variant","colorScheme"])}function oD(t){return tr(t)&&t.reference?t.reference:String(t)}const b0=(t,...e)=>e.map(oD).join(` ${t} `).replace(/calc/g,""),Y2=(...t)=>`calc(${b0("+",...t)})`,q2=(...t)=>`calc(${b0("-",...t)})`,Ib=(...t)=>`calc(${b0("*",...t)})`,X2=(...t)=>`calc(${b0("/",...t)})`,Q2=t=>{const e=oD(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Ib(e,-1)},Ks=Object.assign(t=>({add:(...e)=>Ks(Y2(t,...e)),subtract:(...e)=>Ks(q2(t,...e)),multiply:(...e)=>Ks(Ib(t,...e)),divide:(...e)=>Ks(X2(t,...e)),negate:()=>Ks(Q2(t)),toString:()=>t.toString()}),{add:Y2,subtract:q2,multiply:Ib,divide:X2,negate:Q2});function a7(t,e="-"){return t.replace(/\s+/g,e)}function l7(t){const e=a7(t.toString());return u7(c7(e))}function c7(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function u7(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function d7(t,e=""){return[e,t].filter(Boolean).join("-")}function f7(t,e){return`var(${t}${e?`, ${e}`:""})`}function h7(t,e=""){return l7(`--${d7(t,e)}`)}function ke(t,e,n){const r=h7(t,n);return{variable:r,reference:f7(r,e)}}function p7(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=ke(`${t}-${i}`,s);continue}n[r]=ke(`${t}-${r}`)}return n}const m7=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function g7(t){return QP(t,m7)}function y7(t){return t.semanticTokens}function v7(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}function x7(t){const e=g7(t),n=y7(t),r=s=>nD.includes(s)||s==="default",i={};return G2(e,(s,o)=>{s!=null&&(i[o.join(".")]={isSemantic:!1,value:s})}),G2(n,(s,o)=>{s!=null&&(i[o.join(".")]={isSemantic:!0,value:s})},{stop:s=>Object.keys(s).every(r)}),i}function Z2(t,e){return ke(String(t).replace(/\./g,"-"),void 0,e)}function b7(t){var o;const e=x7(t),n=(o=t.config)==null?void 0:o.cssVarPrefix;let r={};const i={};function s(a,l){const u=[String(a).split(".")[0],l].join(".");if(!e[u])return l;const{reference:f}=Z2(u,n);return f}for(const[a,l]of Object.entries(e)){const{isSemantic:c,value:u}=l,{variable:d,reference:f}=Z2(a,n);if(!c){if(a.startsWith("space")){const p=a.split("."),[m,...y]=p,v=`${m}.-${y.join(".")}`,b=Ks.negate(u),x=Ks.negate(f);i[v]={value:b,var:d,varRef:x}}r[d]=u,i[a]={value:u,var:d,varRef:f};continue}const h=tr(u)?u:{default:u};r=yi(r,Object.entries(h).reduce((p,[m,y])=>{if(!y)return p;const v=s(a,`${y}`);if(m==="default")return p[d]=v,p;const b=(Ic==null?void 0:Ic[m])??m;return p[b]={[d]:v},p},{})),i[a]={value:f,var:d,varRef:f}}return{cssVars:r,cssMap:i}}function S7(t){const e=v7(t),{cssMap:n,cssVars:r}=b7(e);return Object.assign(e,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...r},__cssMap:n,__breakpoints:FB(e.breakpoints)}),e}function dt(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...u){r();for(const d of u)e[d]=l(d);return dt(t,e)}function s(...u){for(const d of u)d in e||(e[d]=l(d));return dt(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.className]))}function l(u){const h=`chakra-${(["container","root"].includes(u??"")?[t]:[t,u]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>u}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}const w7=dt("accordion").parts("root","container","button","panel","icon"),T7=dt("alert").parts("title","description","container","icon","spinner"),E7=dt("avatar").parts("label","badge","container","excessLabel","group"),C7=dt("breadcrumb").parts("link","item","container","separator");dt("button").parts();const k7=dt("checkbox").parts("control","icon","container","label");dt("progress").parts("track","filledTrack","label");const A7=dt("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),R7=dt("editable").parts("preview","input","textarea"),_7=dt("form").parts("container","requiredIndicator","helperText"),L7=dt("formError").parts("text","icon"),I7=dt("input").parts("addon","field","element","group"),P7=dt("list").parts("container","item","icon"),D7=dt("menu").parts("button","list","item","groupTitle","icon","command","divider"),M7=dt("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),O7=dt("numberinput").parts("root","field","stepperGroup","stepper");dt("pininput").parts("field");const F7=dt("popover").parts("content","header","body","footer","popper","arrow","closeButton"),j7=dt("progress").parts("label","filledTrack","track"),N7=dt("radio").parts("container","control","label"),B7=dt("select").parts("field","icon"),$7=dt("slider").parts("container","track","thumb","filledTrack","mark"),z7=dt("stat").parts("container","label","helpText","number","icon"),U7=dt("switch").parts("container","track","thumb","label"),V7=dt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),H7=dt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),W7=dt("tag").parts("container","label","closeButton"),G7=dt("card").parts("container","header","body","footer");dt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:K7,defineMultiStyleConfig:Y7}=Lt(w7.keys),q7={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},X7={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Q7={pt:"2",px:"4",pb:"5"},Z7={fontSize:"1.25em"},J7=K7({container:q7,button:X7,panel:Q7,icon:Z7}),e9=Y7({baseStyle:J7});function Va(t,e,n){return Math.min(Math.max(t,n),e)}class t9 extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var yd=t9;function lw(t){if(typeof t!="string")throw new yd(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=c9.test(t)?i9(t):t;const n=s9.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(kf(a,2),16)),parseInt(kf(o[3]||"f",2),16)/255]}const r=o9.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=a9.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=l9.exec(e);if(s){const[o,a,l,c]=Array.from(s).slice(1).map(parseFloat);if(Va(0,100,a)!==a)throw new yd(t);if(Va(0,100,l)!==l)throw new yd(t);return[...u9(o,a,l),Number.isNaN(c)?1:c]}throw new yd(t)}function n9(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const J2=t=>parseInt(t.replace(/_/g,""),36),r9="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=J2(e.substring(0,3)),r=J2(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function i9(t){const e=t.toLowerCase().trim(),n=r9[n9(e)];if(!n)throw new yd(t);return`#${n}`}const kf=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),s9=new RegExp(`^#${kf("([a-f0-9])",3)}([a-f0-9])?$`,"i"),o9=new RegExp(`^#${kf("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),a9=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${kf(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),l9=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,c9=/^[a-z]+$/i,eC=t=>Math.round(t*255),u9=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(eC);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,c=o):i>=3&&i<4?(l=o,c=s):i>=4&&i<5?(a=o,c=s):i>=5&&i<6&&(a=s,c=o);const u=r-s/2,d=a+u,f=l+u,h=c+u;return[d,f,h].map(eC)};function d9(t,e,n,r){return`rgba(${Va(0,255,t).toFixed()}, ${Va(0,255,e).toFixed()}, ${Va(0,255,n).toFixed()}, ${parseFloat(Va(0,1,r).toFixed(3))})`}function f9(t,e){const[n,r,i,s]=lw(t);return d9(n,r,i,s-e)}function h9(t){const[e,n,r,i]=lw(t);let s=o=>{const a=Va(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}const p9=t=>Object.keys(t).length===0;function m9(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}const cr=(t,e,n)=>{const r=m9(t,`colors.${e}`,e);try{return h9(r),r}catch{return"#000000"}},g9=t=>{const[e,n,r]=lw(t);return(e*299+n*587+r*114)/1e3},y9=t=>e=>{const n=cr(e,t);return g9(n)<128?"dark":"light"},v9=t=>e=>y9(t)(e)==="dark",Jc=(t,e)=>n=>{const r=cr(n,t);return f9(r,1-e)};function tC(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const x9=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function b9(t){const e=x9();return!t||p9(t)?e:t.string&&t.colors?w9(t.string,t.colors):t.string&&!t.colors?S9(t.string):t.colors&&!t.string?T9(t.colors):e}function S9(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function w9(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function T9(t){return t[Math.floor(Math.random()*t.length)]}function Ae(t,e){return n=>n.colorMode==="dark"?e:t}function cw(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function aD(t){return tr(t)&&t.reference?t.reference:String(t)}const S0=(t,...e)=>e.map(aD).join(` ${t} `).replace(/calc/g,""),nC=(...t)=>`calc(${S0("+",...t)})`,rC=(...t)=>`calc(${S0("-",...t)})`,Pb=(...t)=>`calc(${S0("*",...t)})`,iC=(...t)=>`calc(${S0("/",...t)})`,sC=t=>{const e=aD(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Pb(e,-1)},Ys=Object.assign(t=>({add:(...e)=>Ys(nC(t,...e)),subtract:(...e)=>Ys(rC(t,...e)),multiply:(...e)=>Ys(Pb(t,...e)),divide:(...e)=>Ys(iC(t,...e)),negate:()=>Ys(sC(t)),toString:()=>t.toString()}),{add:nC,subtract:rC,multiply:Pb,divide:iC,negate:sC});function E9(t){return!Number.isInteger(parseFloat(t.toString()))}function C9(t,e="-"){return t.replace(/\s+/g,e)}function lD(t){const e=C9(t.toString());return e.includes("\\.")?t:E9(t)?e.replace(".","\\."):t}function k9(t,e=""){return[e,lD(t)].filter(Boolean).join("-")}function A9(t,e){return`var(${lD(t)}${e?`, ${e}`:""})`}function R9(t,e=""){return`--${k9(t,e)}`}function Cn(t,e){const n=R9(t,e==null?void 0:e.prefix);return{variable:n,reference:A9(n,_9(e==null?void 0:e.fallback))}}function _9(t){return t==null?void 0:t.reference}const{definePartsStyle:ch,defineMultiStyleConfig:L9}=Lt(T7.keys),Gr=ke("alert-fg"),fo=ke("alert-bg"),I9=ch({container:{bg:fo.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Gr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Gr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function uw(t){const{theme:e,colorScheme:n}=t,r=Jc(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}const P9=ch(t=>{const{colorScheme:e}=t,n=uw(t);return{container:{[Gr.variable]:`colors.${e}.600`,[fo.variable]:n.light,_dark:{[Gr.variable]:`colors.${e}.200`,[fo.variable]:n.dark}}}}),D9=ch(t=>{const{colorScheme:e}=t,n=uw(t);return{container:{[Gr.variable]:`colors.${e}.600`,[fo.variable]:n.light,_dark:{[Gr.variable]:`colors.${e}.200`,[fo.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Gr.reference}}}),M9=ch(t=>{const{colorScheme:e}=t,n=uw(t);return{container:{[Gr.variable]:`colors.${e}.600`,[fo.variable]:n.light,_dark:{[Gr.variable]:`colors.${e}.200`,[fo.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Gr.reference}}}),O9=ch(t=>{const{colorScheme:e}=t;return{container:{[Gr.variable]:"colors.white",[fo.variable]:`colors.${e}.600`,_dark:{[Gr.variable]:"colors.gray.900",[fo.variable]:`colors.${e}.200`},color:Gr.reference}}}),F9={subtle:P9,"left-accent":D9,"top-accent":M9,solid:O9},j9=L9({baseStyle:I9,variants:F9,defaultProps:{variant:"subtle",colorScheme:"blue"}}),cD={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},N9={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},B9={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},uD={...cD,...N9,container:B9},$9=t=>typeof t=="function";function dr(t,...e){return $9(t)?t(...e):t}const{definePartsStyle:dD,defineMultiStyleConfig:z9}=Lt(E7.keys),Pc=ke("avatar-border-color"),zd=ke("avatar-bg"),Af=ke("avatar-font-size"),eu=ke("avatar-size"),U9={borderRadius:"full",border:"0.2em solid",borderColor:Pc.reference,[Pc.variable]:"white",_dark:{[Pc.variable]:"colors.gray.800"}},V9={bg:zd.reference,fontSize:Af.reference,width:eu.reference,height:eu.reference,lineHeight:"1",[zd.variable]:"colors.gray.200",_dark:{[zd.variable]:"colors.whiteAlpha.400"}},H9=t=>{const{name:e,theme:n}=t,r=e?b9({string:e}):"colors.gray.400",i=v9(r)(n);let s="white";return i||(s="gray.800"),{bg:zd.reference,fontSize:Af.reference,color:s,borderColor:Pc.reference,verticalAlign:"top",width:eu.reference,height:eu.reference,"&:not([data-loaded])":{[zd.variable]:r},[Pc.variable]:"colors.white",_dark:{[Pc.variable]:"colors.gray.800"}}},W9={fontSize:Af.reference,lineHeight:"1"},G9=dD(t=>({badge:dr(U9,t),excessLabel:dr(V9,t),container:dr(H9,t),label:W9}));function So(t){const e=t!=="100%"?uD[t]:void 0;return dD({container:{[eu.variable]:e??t,[Af.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[eu.variable]:e??t,[Af.variable]:`calc(${e??t} / 2.5)`}})}const K9={"2xs":So(4),xs:So(6),sm:So(8),md:So(12),lg:So(16),xl:So(24),"2xl":So(32),full:So("100%")},Y9=z9({baseStyle:G9,sizes:K9,defaultProps:{size:"md"}}),cn=p7("badge",["bg","color","shadow"]),q9={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:cn.bg.reference,color:cn.color.reference,boxShadow:cn.shadow.reference},X9=t=>{const{colorScheme:e,theme:n}=t,r=Jc(`${e}.500`,.6)(n);return{[cn.bg.variable]:`colors.${e}.500`,[cn.color.variable]:"colors.white",_dark:{[cn.bg.variable]:r,[cn.color.variable]:"colors.whiteAlpha.800"}}},Q9=t=>{const{colorScheme:e,theme:n}=t,r=Jc(`${e}.200`,.16)(n);return{[cn.bg.variable]:`colors.${e}.100`,[cn.color.variable]:`colors.${e}.800`,_dark:{[cn.bg.variable]:r,[cn.color.variable]:`colors.${e}.200`}}},Z9=t=>{const{colorScheme:e,theme:n}=t,r=Jc(`${e}.200`,.8)(n);return{[cn.color.variable]:`colors.${e}.500`,_dark:{[cn.color.variable]:r},[cn.shadow.variable]:`inset 0 0 0px 1px ${cn.color.reference}`}},J9={solid:X9,subtle:Q9,outline:Z9},Ud={baseStyle:q9,variants:J9,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:ez,definePartsStyle:tz}=Lt(C7.keys),rv=ke("breadcrumb-link-decor"),nz={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:rv.reference,[rv.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[rv.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},rz=tz({link:nz}),iz=ez({baseStyle:rz}),sz={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},fD=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:Ae("gray.800","whiteAlpha.900")(t),_hover:{bg:Ae("gray.100","whiteAlpha.200")(t)},_active:{bg:Ae("gray.200","whiteAlpha.300")(t)}};const r=Jc(`${e}.200`,.12)(n),i=Jc(`${e}.200`,.24)(n);return{color:Ae(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Ae(`${e}.50`,r)(t)},_active:{bg:Ae(`${e}.100`,i)(t)}}},oz=t=>{const{colorScheme:e}=t,n=Ae("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...dr(fD,t)}},az={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},lz=t=>{const{colorScheme:e}=t;if(e==="gray"){const a=Ae("gray.100","whiteAlpha.200")(t);return{bg:a,color:Ae("gray.800","whiteAlpha.900")(t),_hover:{bg:Ae("gray.200","whiteAlpha.300")(t),_disabled:{bg:a}},_active:{bg:Ae("gray.300","whiteAlpha.400")(t)}}}const{bg:n=`${e}.500`,color:r="white",hoverBg:i=`${e}.600`,activeBg:s=`${e}.700`}=az[e]??{},o=Ae(n,`${e}.200`)(t);return{bg:o,color:Ae(r,"gray.800")(t),_hover:{bg:Ae(i,`${e}.300`)(t),_disabled:{bg:o}},_active:{bg:Ae(s,`${e}.400`)(t)}}},cz=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ae(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ae(`${e}.700`,`${e}.500`)(t)}}},uz={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},dz={ghost:fD,outline:oz,solid:lz,link:cz,unstyled:uz},fz={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},hz={baseStyle:sz,variants:dz,sizes:fz,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Ja,defineMultiStyleConfig:pz}=Lt(G7.keys),dg=ke("card-bg"),io=ke("card-padding"),hD=ke("card-shadow"),rm=ke("card-radius"),pD=ke("card-border-width","0"),mD=ke("card-border-color"),mz=Ja({container:{[dg.variable]:"colors.chakra-body-bg",backgroundColor:dg.reference,boxShadow:hD.reference,borderRadius:rm.reference,color:"chakra-body-text",borderWidth:pD.reference,borderColor:mD.reference},body:{padding:io.reference,flex:"1 1 0%"},header:{padding:io.reference},footer:{padding:io.reference}}),gz={sm:Ja({container:{[rm.variable]:"radii.base",[io.variable]:"space.3"}}),md:Ja({container:{[rm.variable]:"radii.md",[io.variable]:"space.5"}}),lg:Ja({container:{[rm.variable]:"radii.xl",[io.variable]:"space.7"}})},yz={elevated:Ja({container:{[hD.variable]:"shadows.base",_dark:{[dg.variable]:"colors.gray.700"}}}),outline:Ja({container:{[pD.variable]:"1px",[mD.variable]:"colors.chakra-border-color"}}),filled:Ja({container:{[dg.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[io.variable]:0},header:{[io.variable]:0},footer:{[io.variable]:0}}},vz=pz({baseStyle:mz,variants:yz,sizes:gz,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:im,defineMultiStyleConfig:xz}=Lt(k7.keys),Vd=ke("checkbox-size"),bz=t=>{const{colorScheme:e}=t;return{w:Vd.reference,h:Vd.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ae(`${e}.500`,`${e}.200`)(t),borderColor:Ae(`${e}.500`,`${e}.200`)(t),color:Ae("white","gray.900")(t),_hover:{bg:Ae(`${e}.600`,`${e}.300`)(t),borderColor:Ae(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Ae("gray.200","transparent")(t),bg:Ae("gray.200","whiteAlpha.300")(t),color:Ae("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Ae(`${e}.500`,`${e}.200`)(t),borderColor:Ae(`${e}.500`,`${e}.200`)(t),color:Ae("white","gray.900")(t)},_disabled:{bg:Ae("gray.100","whiteAlpha.100")(t),borderColor:Ae("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ae("red.500","red.300")(t)}}},Sz={_disabled:{cursor:"not-allowed"}},wz={userSelect:"none",_disabled:{opacity:.4}},Tz={transitionProperty:"transform",transitionDuration:"normal"},Ez=im(t=>({icon:Tz,container:Sz,control:dr(bz,t),label:wz})),Cz={sm:im({control:{[Vd.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:im({control:{[Vd.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:im({control:{[Vd.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Po=xz({baseStyle:Ez,sizes:Cz,defaultProps:{size:"md",colorScheme:"blue"}}),Hd=Cn("close-button-size"),qu=Cn("close-button-bg"),kz={w:[Hd.reference],h:[Hd.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[qu.variable]:"colors.blackAlpha.100",_dark:{[qu.variable]:"colors.whiteAlpha.100"}},_active:{[qu.variable]:"colors.blackAlpha.200",_dark:{[qu.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:qu.reference},Az={lg:{[Hd.variable]:"sizes.10",fontSize:"md"},md:{[Hd.variable]:"sizes.8",fontSize:"xs"},sm:{[Hd.variable]:"sizes.6",fontSize:"2xs"}},Rz={baseStyle:kz,sizes:Az,defaultProps:{size:"md"}},{variants:_z,defaultProps:Lz}=Ud,Iz={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:cn.bg.reference,color:cn.color.reference,boxShadow:cn.shadow.reference},Pz={baseStyle:Iz,variants:_z,defaultProps:Lz},Dz={w:"100%",mx:"auto",maxW:"prose",px:"4"},Mz={baseStyle:Dz},Oz={opacity:.6,borderColor:"inherit"},Fz={borderStyle:"solid"},jz={borderStyle:"dashed"},Nz={solid:Fz,dashed:jz},Bz={baseStyle:Oz,variants:Nz,defaultProps:{variant:"solid"}},{definePartsStyle:Db,defineMultiStyleConfig:$z}=Lt(A7.keys),iv=ke("drawer-bg"),sv=ke("drawer-box-shadow");function Ul(t){return Db(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const zz={bg:"blackAlpha.600",zIndex:"modal"},Uz={display:"flex",zIndex:"modal",justifyContent:"center"},Vz=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[iv.variable]:"colors.white",[sv.variable]:"shadows.lg",_dark:{[iv.variable]:"colors.gray.700",[sv.variable]:"shadows.dark-lg"},bg:iv.reference,boxShadow:sv.reference}},Hz={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Wz={position:"absolute",top:"2",insetEnd:"3"},Gz={px:"6",py:"2",flex:"1",overflow:"auto"},Kz={px:"6",py:"4"},Yz=Db(t=>({overlay:zz,dialogContainer:Uz,dialog:dr(Vz,t),header:Hz,closeButton:Wz,body:Gz,footer:Kz})),qz={xs:Ul("xs"),sm:Ul("md"),md:Ul("lg"),lg:Ul("2xl"),xl:Ul("4xl"),full:Ul("full")},Xz=$z({baseStyle:Yz,sizes:qz,defaultProps:{size:"xs"}}),{definePartsStyle:Qz,defineMultiStyleConfig:Zz}=Lt(R7.keys),Jz={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},eU={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},tU={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},nU=Qz({preview:Jz,input:eU,textarea:tU}),rU=Zz({baseStyle:nU}),{definePartsStyle:iU,defineMultiStyleConfig:sU}=Lt(_7.keys),Dc=ke("form-control-color"),oU={marginStart:"1",[Dc.variable]:"colors.red.500",_dark:{[Dc.variable]:"colors.red.300"},color:Dc.reference},aU={mt:"2",[Dc.variable]:"colors.gray.600",_dark:{[Dc.variable]:"colors.whiteAlpha.600"},color:Dc.reference,lineHeight:"normal",fontSize:"sm"},lU=iU({container:{width:"100%",position:"relative"},requiredIndicator:oU,helperText:aU}),cU=sU({baseStyle:lU}),{definePartsStyle:uU,defineMultiStyleConfig:dU}=Lt(L7.keys),Mc=ke("form-error-color"),fU={[Mc.variable]:"colors.red.500",_dark:{[Mc.variable]:"colors.red.300"},color:Mc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},hU={marginEnd:"0.5em",[Mc.variable]:"colors.red.500",_dark:{[Mc.variable]:"colors.red.300"},color:Mc.reference},pU=uU({text:fU,icon:hU}),mU=dU({baseStyle:pU}),gU={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},yU={baseStyle:gU},vU={fontFamily:"heading",fontWeight:"bold"},xU={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},bU={baseStyle:vU,sizes:xU,defaultProps:{size:"xl"}},{definePartsStyle:Zs,defineMultiStyleConfig:SU}=Lt(I7.keys),pc=ke("input-height"),mc=ke("input-font-size"),gc=ke("input-padding"),yc=ke("input-border-radius"),wU=Zs({addon:{height:pc.reference,fontSize:mc.reference,px:gc.reference,borderRadius:yc.reference},field:{width:"100%",height:pc.reference,fontSize:mc.reference,px:gc.reference,borderRadius:yc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),wo={lg:{[mc.variable]:"fontSizes.lg",[gc.variable]:"space.4",[yc.variable]:"radii.md",[pc.variable]:"sizes.12"},md:{[mc.variable]:"fontSizes.md",[gc.variable]:"space.4",[yc.variable]:"radii.md",[pc.variable]:"sizes.10"},sm:{[mc.variable]:"fontSizes.sm",[gc.variable]:"space.3",[yc.variable]:"radii.sm",[pc.variable]:"sizes.8"},xs:{[mc.variable]:"fontSizes.xs",[gc.variable]:"space.2",[yc.variable]:"radii.sm",[pc.variable]:"sizes.6"}},TU={lg:Zs({field:wo.lg,group:wo.lg}),md:Zs({field:wo.md,group:wo.md}),sm:Zs({field:wo.sm,group:wo.sm}),xs:Zs({field:wo.xs,group:wo.xs})};function dw(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Ae("blue.500","blue.300")(t),errorBorderColor:n||Ae("red.500","red.300")(t)}}const EU=Zs(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=dw(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ae("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cr(e,r),boxShadow:`0 0 0 1px ${cr(e,r)}`},_focusVisible:{zIndex:1,borderColor:cr(e,n),boxShadow:`0 0 0 1px ${cr(e,n)}`}},addon:{border:"1px solid",borderColor:Ae("inherit","whiteAlpha.50")(t),bg:Ae("gray.100","whiteAlpha.300")(t)}}}),CU=Zs(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=dw(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Ae("gray.100","whiteAlpha.50")(t),_hover:{bg:Ae("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cr(e,r)},_focusVisible:{bg:"transparent",borderColor:cr(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ae("gray.100","whiteAlpha.50")(t)}}}),kU=Zs(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=dw(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cr(e,r),boxShadow:`0px 1px 0px 0px ${cr(e,r)}`},_focusVisible:{borderColor:cr(e,n),boxShadow:`0px 1px 0px 0px ${cr(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),AU=Zs({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),RU={outline:EU,filled:CU,flushed:kU,unstyled:AU},ct=SU({baseStyle:wU,sizes:TU,variants:RU,defaultProps:{size:"md",variant:"outline"}}),ov=ke("kbd-bg"),_U={[ov.variable]:"colors.gray.100",_dark:{[ov.variable]:"colors.whiteAlpha.100"},bg:ov.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},LU={baseStyle:_U},IU={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},PU={baseStyle:IU},{defineMultiStyleConfig:DU,definePartsStyle:MU}=Lt(P7.keys),OU={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},FU=MU({icon:OU}),jU=DU({baseStyle:FU}),{defineMultiStyleConfig:NU,definePartsStyle:BU}=Lt(D7.keys),as=ke("menu-bg"),av=ke("menu-shadow"),$U={[as.variable]:"#fff",[av.variable]:"shadows.sm",_dark:{[as.variable]:"colors.gray.700",[av.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:as.reference,boxShadow:av.reference},zU={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[as.variable]:"colors.gray.100",_dark:{[as.variable]:"colors.whiteAlpha.100"}},_active:{[as.variable]:"colors.gray.200",_dark:{[as.variable]:"colors.whiteAlpha.200"}},_expanded:{[as.variable]:"colors.gray.100",_dark:{[as.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:as.reference},UU={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},VU={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},HU={opacity:.6},WU={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},GU={transitionProperty:"common",transitionDuration:"normal"},KU=BU({button:GU,list:$U,item:zU,groupTitle:UU,icon:VU,command:HU,divider:WU}),YU=NU({baseStyle:KU}),{defineMultiStyleConfig:qU,definePartsStyle:Mb}=Lt(M7.keys),lv=ke("modal-bg"),cv=ke("modal-shadow"),XU={bg:"blackAlpha.600",zIndex:"modal"},QU=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},ZU=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[lv.variable]:"colors.white",[cv.variable]:"shadows.lg",_dark:{[lv.variable]:"colors.gray.700",[cv.variable]:"shadows.dark-lg"},bg:lv.reference,boxShadow:cv.reference}},JU={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},eV={position:"absolute",top:"2",insetEnd:"3"},tV=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},nV={px:"6",py:"4"},rV=Mb(t=>({overlay:XU,dialogContainer:dr(QU,t),dialog:dr(ZU,t),header:JU,closeButton:eV,body:dr(tV,t),footer:nV}));function Oi(t){return Mb(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const iV={xs:Oi("xs"),sm:Oi("sm"),md:Oi("md"),lg:Oi("lg"),xl:Oi("xl"),"2xl":Oi("2xl"),"3xl":Oi("3xl"),"4xl":Oi("4xl"),"5xl":Oi("5xl"),"6xl":Oi("6xl"),full:Oi("full")},sV=qU({baseStyle:rV,sizes:iV,defaultProps:{size:"md"}}),gD={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:oV,definePartsStyle:yD}=Lt(O7.keys),fw=Cn("number-input-stepper-width"),vD=Cn("number-input-input-padding"),aV=Ys(fw).add("0.5rem").toString(),uv=Cn("number-input-bg"),dv=Cn("number-input-color"),fv=Cn("number-input-border-color"),lV={[fw.variable]:"sizes.6",[vD.variable]:aV},cV=t=>{var e;return((e=dr(ct.baseStyle,t))==null?void 0:e.field)??{}},uV={width:fw.reference},dV={borderStart:"1px solid",borderStartColor:fv.reference,color:dv.reference,bg:uv.reference,[dv.variable]:"colors.chakra-body-text",[fv.variable]:"colors.chakra-border-color",_dark:{[dv.variable]:"colors.whiteAlpha.800",[fv.variable]:"colors.whiteAlpha.300"},_active:{[uv.variable]:"colors.gray.200",_dark:{[uv.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},fV=yD(t=>({root:lV,field:dr(cV,t)??{},stepperGroup:uV,stepper:dV}));function Zh(t){var s,o;const e=(s=ct.sizes)==null?void 0:s[t],n={lg:"md",md:"md",sm:"sm",xs:"sm"},r=((o=e.field)==null?void 0:o.fontSize)??"md",i=gD.fontSizes[r];return yD({field:{...e.field,paddingInlineEnd:vD.reference,verticalAlign:"top"},stepper:{fontSize:Ys(i).multiply(.75).toString(),_first:{borderTopEndRadius:n[t]},_last:{borderBottomEndRadius:n[t],mt:"-1px",borderTopWidth:1}}})}const hV={xs:Zh("xs"),sm:Zh("sm"),md:Zh("md"),lg:Zh("lg")},pV=oV({baseStyle:fV,sizes:hV,variants:ct.variants,defaultProps:ct.defaultProps});var Z_;const mV={...(Z_=ct.baseStyle)==null?void 0:Z_.field,textAlign:"center"},gV={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var J_;const yV={outline:t=>{var e,n;return((n=dr((e=ct.variants)==null?void 0:e.outline,t))==null?void 0:n.field)??{}},flushed:t=>{var e,n;return((n=dr((e=ct.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)??{}},filled:t=>{var e,n;return((n=dr((e=ct.variants)==null?void 0:e.filled,t))==null?void 0:n.field)??{}},unstyled:((J_=ct.variants)==null?void 0:J_.unstyled.field)??{}},vV={baseStyle:mV,sizes:gV,variants:yV,defaultProps:ct.defaultProps},{defineMultiStyleConfig:xV,definePartsStyle:bV}=Lt(F7.keys),Jh=Cn("popper-bg"),SV=Cn("popper-arrow-bg"),oC=Cn("popper-arrow-shadow-color"),wV={zIndex:"popover"},TV={[Jh.variable]:"colors.white",bg:Jh.reference,[SV.variable]:Jh.reference,[oC.variable]:"colors.gray.200",_dark:{[Jh.variable]:"colors.gray.700",[oC.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},EV={px:3,py:2,borderBottomWidth:"1px"},CV={px:3,py:2},kV={px:3,py:2,borderTopWidth:"1px"},AV={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},RV=bV({popper:wV,content:TV,header:EV,body:CV,footer:kV,closeButton:AV}),_V=xV({baseStyle:RV}),{defineMultiStyleConfig:LV,definePartsStyle:vd}=Lt(j7.keys),IV=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=Ae(tC(),tC("1rem","rgba(0,0,0,0.1)"))(t),o=Ae(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${cr(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},PV={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},DV=t=>({bg:Ae("gray.100","whiteAlpha.300")(t)}),MV=t=>({transitionProperty:"common",transitionDuration:"slow",...IV(t)}),OV=vd(t=>({label:PV,filledTrack:MV(t),track:DV(t)})),FV={xs:vd({track:{h:"1"}}),sm:vd({track:{h:"2"}}),md:vd({track:{h:"3"}}),lg:vd({track:{h:"4"}})},jV=LV({sizes:FV,baseStyle:OV,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:NV,definePartsStyle:sm}=Lt(N7.keys),BV=t=>{var n;const e=(n=dr(Po.baseStyle,t))==null?void 0:n.control;return{...e,borderRadius:"full",_checked:{...e==null?void 0:e._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},$V=sm(t=>{var e,n;return{label:(e=Po.baseStyle)==null?void 0:e.call(Po,t).label,container:(n=Po.baseStyle)==null?void 0:n.call(Po,t).container,control:BV(t)}}),zV={md:sm({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:sm({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:sm({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},UV=NV({baseStyle:$V,sizes:zV,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:VV,definePartsStyle:HV}=Lt(B7.keys),ep=ke("select-bg");var eL;const WV={...(eL=ct.baseStyle)==null?void 0:eL.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:ep.reference,[ep.variable]:"colors.white",_dark:{[ep.variable]:"colors.gray.700"},"> option, > optgroup":{bg:ep.reference}},GV={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},KV=HV({field:WV,icon:GV}),tp={paddingInlineEnd:"8"};var tL,nL,rL,iL,sL,oL,aL,lL;const YV={lg:{...(tL=ct.sizes)==null?void 0:tL.lg,field:{...(nL=ct.sizes)==null?void 0:nL.lg.field,...tp}},md:{...(rL=ct.sizes)==null?void 0:rL.md,field:{...(iL=ct.sizes)==null?void 0:iL.md.field,...tp}},sm:{...(sL=ct.sizes)==null?void 0:sL.sm,field:{...(oL=ct.sizes)==null?void 0:oL.sm.field,...tp}},xs:{...(aL=ct.sizes)==null?void 0:aL.xs,field:{...(lL=ct.sizes)==null?void 0:lL.xs.field,...tp},icon:{insetEnd:"1"}}},qV=VV({baseStyle:KV,sizes:YV,variants:ct.variants,defaultProps:ct.defaultProps}),hv=ke("skeleton-start-color"),pv=ke("skeleton-end-color"),XV={[hv.variable]:"colors.gray.100",[pv.variable]:"colors.gray.400",_dark:{[hv.variable]:"colors.gray.800",[pv.variable]:"colors.gray.600"},background:hv.reference,borderColor:pv.reference,opacity:.7,borderRadius:"sm"},QV={baseStyle:XV},mv=ke("skip-link-bg"),ZV={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[mv.variable]:"colors.white",_dark:{[mv.variable]:"colors.gray.700"},bg:mv.reference}},JV={baseStyle:ZV},{defineMultiStyleConfig:eH,definePartsStyle:w0}=Lt($7.keys),ml=ke("slider-thumb-size"),Rf=ke("slider-track-size"),jo=ke("slider-bg"),tH=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...cw({orientation:e,vertical:{h:"100%",px:Ks(ml.reference).divide(2).toString()},horizontal:{w:"100%",py:Ks(ml.reference).divide(2).toString()}})}},nH=t=>({...cw({orientation:t.orientation,horizontal:{h:Rf.reference},vertical:{w:Rf.reference}}),overflow:"hidden",borderRadius:"sm",[jo.variable]:"colors.gray.200",_dark:{[jo.variable]:"colors.whiteAlpha.200"},_disabled:{[jo.variable]:"colors.gray.300",_dark:{[jo.variable]:"colors.whiteAlpha.300"}},bg:jo.reference}),rH=t=>{const{orientation:e}=t;return{...cw({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:ml.reference,h:ml.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},iH=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[jo.variable]:`colors.${e}.500`,_dark:{[jo.variable]:`colors.${e}.200`},bg:jo.reference}},sH=w0(t=>({container:tH(t),track:nH(t),thumb:rH(t),filledTrack:iH(t)})),oH=w0({container:{[ml.variable]:"sizes.4",[Rf.variable]:"sizes.1"}}),aH=w0({container:{[ml.variable]:"sizes.3.5",[Rf.variable]:"sizes.1"}}),lH=w0({container:{[ml.variable]:"sizes.2.5",[Rf.variable]:"sizes.0.5"}}),cH={lg:oH,md:aH,sm:lH},uH=eH({baseStyle:sH,sizes:cH,defaultProps:{size:"md",colorScheme:"blue"}}),Na=Cn("spinner-size"),dH={width:[Na.reference],height:[Na.reference]},fH={xs:{[Na.variable]:"sizes.3"},sm:{[Na.variable]:"sizes.4"},md:{[Na.variable]:"sizes.6"},lg:{[Na.variable]:"sizes.8"},xl:{[Na.variable]:"sizes.12"}},hH={baseStyle:dH,sizes:fH,defaultProps:{size:"md"}},{defineMultiStyleConfig:pH,definePartsStyle:xD}=Lt(z7.keys),mH={fontWeight:"medium"},gH={opacity:.8,marginBottom:"2"},yH={verticalAlign:"baseline",fontWeight:"semibold"},vH={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},xH=xD({container:{},label:mH,helpText:gH,number:yH,icon:vH}),bH={md:xD({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},SH=pH({baseStyle:xH,sizes:bH,defaultProps:{size:"md"}}),{defineMultiStyleConfig:wH,definePartsStyle:xd}=Lt(["stepper","step","title","description","indicator","separator","icon","number"]),qs=ke("stepper-indicator-size"),vc=ke("stepper-icon-size"),xc=ke("stepper-title-font-size"),bd=ke("stepper-description-font-size"),Xu=ke("stepper-accent-color"),TH=xd(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Xu.variable]:`colors.${t}.500`,_dark:{[Xu.variable]:`colors.${t}.200`}},title:{fontSize:xc.reference,fontWeight:"medium"},description:{fontSize:bd.reference,color:"chakra-subtle-text"},number:{fontSize:xc.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:vc.reference,height:vc.reference},indicator:{flexShrink:0,borderRadius:"full",width:qs.reference,height:qs.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Xu.reference},"&[data-status=complete]":{bg:Xu.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Xu.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${qs.reference} - 8px)`,top:`calc(${qs.reference} + 4px)`,insetStart:`calc(${qs.reference} / 2 - 1px)`}}})),EH=wH({baseStyle:TH,sizes:{xs:xd({stepper:{[qs.variable]:"sizes.4",[vc.variable]:"sizes.3",[xc.variable]:"fontSizes.xs",[bd.variable]:"fontSizes.xs"}}),sm:xd({stepper:{[qs.variable]:"sizes.6",[vc.variable]:"sizes.4",[xc.variable]:"fontSizes.sm",[bd.variable]:"fontSizes.xs"}}),md:xd({stepper:{[qs.variable]:"sizes.8",[vc.variable]:"sizes.5",[xc.variable]:"fontSizes.md",[bd.variable]:"fontSizes.sm"}}),lg:xd({stepper:{[qs.variable]:"sizes.10",[vc.variable]:"sizes.6",[xc.variable]:"fontSizes.lg",[bd.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:CH,definePartsStyle:om}=Lt(U7.keys),Wd=Cn("switch-track-width"),el=Cn("switch-track-height"),gv=Cn("switch-track-diff"),kH=Ys.subtract(Wd,el),Ob=Cn("switch-thumb-x"),Qu=Cn("switch-bg"),AH=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[Wd.reference],height:[el.reference],transitionProperty:"common",transitionDuration:"fast",[Qu.variable]:"colors.gray.300",_dark:{[Qu.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Qu.variable]:`colors.${e}.500`,_dark:{[Qu.variable]:`colors.${e}.200`}},bg:Qu.reference}},RH={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[el.reference],height:[el.reference],_checked:{transform:`translateX(${Ob.reference})`}},_H=om(t=>({container:{[gv.variable]:kH,[Ob.variable]:gv.reference,_rtl:{[Ob.variable]:Ys(gv).negate().toString()}},track:AH(t),thumb:RH})),LH={sm:om({container:{[Wd.variable]:"1.375rem",[el.variable]:"sizes.3"}}),md:om({container:{[Wd.variable]:"1.875rem",[el.variable]:"sizes.4"}}),lg:om({container:{[Wd.variable]:"2.875rem",[el.variable]:"sizes.6"}})},IH=CH({baseStyle:_H,sizes:LH,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:PH,definePartsStyle:Oc}=Lt(V7.keys),DH=Oc({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),fg={"&[data-is-numeric=true]":{textAlign:"end"}},MH=Oc(t=>{const{colorScheme:e}=t;return{th:{color:Ae("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...fg},td:{borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...fg},caption:{color:Ae("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),OH=Oc(t=>{const{colorScheme:e}=t;return{th:{color:Ae("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...fg},td:{borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...fg},caption:{color:Ae("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t)},td:{background:Ae(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),FH={simple:MH,striped:OH,unstyled:{}},jH={sm:Oc({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Oc({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Oc({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},NH=PH({baseStyle:DH,variants:FH,sizes:jH,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),xr=ke("tabs-color"),Vi=ke("tabs-bg"),np=ke("tabs-border-color"),{defineMultiStyleConfig:BH,definePartsStyle:xs}=Lt(H7.keys),$H=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},zH=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},UH=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},VH={p:4},HH=xs(t=>({root:$H(t),tab:zH(t),tablist:UH(t),tabpanel:VH})),WH={sm:xs({tab:{py:1,px:4,fontSize:"sm"}}),md:xs({tab:{fontSize:"md",py:2,px:4}}),lg:xs({tab:{fontSize:"lg",py:3,px:4}})},GH=xs(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[xr.variable]:`colors.${e}.600`,_dark:{[xr.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Vi.variable]:"colors.gray.200",_dark:{[Vi.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:xr.reference,bg:Vi.reference}}}),KH=xs(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[np.variable]:"transparent",_selected:{[xr.variable]:`colors.${e}.600`,[np.variable]:"colors.white",_dark:{[xr.variable]:`colors.${e}.300`,[np.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:np.reference},color:xr.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),YH=xs(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Vi.variable]:"colors.gray.50",_dark:{[Vi.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Vi.variable]:"colors.white",[xr.variable]:`colors.${e}.600`,_dark:{[Vi.variable]:"colors.gray.800",[xr.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:xr.reference,bg:Vi.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),qH=xs(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:cr(n,`${e}.700`),bg:cr(n,`${e}.100`)}}}}),XH=xs(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[xr.variable]:"colors.gray.600",_dark:{[xr.variable]:"inherit"},_selected:{[xr.variable]:"colors.white",[Vi.variable]:`colors.${e}.600`,_dark:{[xr.variable]:"colors.gray.800",[Vi.variable]:`colors.${e}.300`}},color:xr.reference,bg:Vi.reference}}}),QH=xs({}),ZH={line:GH,enclosed:KH,"enclosed-colored":YH,"soft-rounded":qH,"solid-rounded":XH,unstyled:QH},JH=BH({baseStyle:HH,sizes:WH,variants:ZH,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:eW,definePartsStyle:tl}=Lt(W7.keys),aC=ke("tag-bg"),lC=ke("tag-color"),yv=ke("tag-shadow"),am=ke("tag-min-height"),lm=ke("tag-min-width"),cm=ke("tag-font-size"),um=ke("tag-padding-inline"),tW={fontWeight:"medium",lineHeight:1.2,outline:0,[lC.variable]:cn.color.reference,[aC.variable]:cn.bg.reference,[yv.variable]:cn.shadow.reference,color:lC.reference,bg:aC.reference,boxShadow:yv.reference,borderRadius:"md",minH:am.reference,minW:lm.reference,fontSize:cm.reference,px:um.reference,_focusVisible:{[yv.variable]:"shadows.outline"}},nW={lineHeight:1.2,overflow:"visible"},rW={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},iW=tl({container:tW,label:nW,closeButton:rW}),sW={sm:tl({container:{[am.variable]:"sizes.5",[lm.variable]:"sizes.5",[cm.variable]:"fontSizes.xs",[um.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:tl({container:{[am.variable]:"sizes.6",[lm.variable]:"sizes.6",[cm.variable]:"fontSizes.sm",[um.variable]:"space.2"}}),lg:tl({container:{[am.variable]:"sizes.8",[lm.variable]:"sizes.8",[cm.variable]:"fontSizes.md",[um.variable]:"space.3"}})},oW={subtle:tl(t=>{var e;return{container:(e=Ud.variants)==null?void 0:e.subtle(t)}}),solid:tl(t=>{var e;return{container:(e=Ud.variants)==null?void 0:e.solid(t)}}),outline:tl(t=>{var e;return{container:(e=Ud.variants)==null?void 0:e.outline(t)}})},aW=eW({variants:oW,baseStyle:iW,sizes:sW,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var cL;const lW={...(cL=ct.baseStyle)==null?void 0:cL.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var uL;const cW={outline:t=>{var e;return((e=ct.variants)==null?void 0:e.outline(t).field)??{}},flushed:t=>{var e;return((e=ct.variants)==null?void 0:e.flushed(t).field)??{}},filled:t=>{var e;return((e=ct.variants)==null?void 0:e.filled(t).field)??{}},unstyled:((uL=ct.variants)==null?void 0:uL.unstyled.field)??{}};var dL,fL,hL,pL;const uW={xs:((dL=ct.sizes)==null?void 0:dL.xs.field)??{},sm:((fL=ct.sizes)==null?void 0:fL.sm.field)??{},md:((hL=ct.sizes)==null?void 0:hL.md.field)??{},lg:((pL=ct.sizes)==null?void 0:pL.lg.field)??{}},dW={baseStyle:lW,sizes:uW,variants:cW,defaultProps:{size:"md",variant:"outline"}},rp=Cn("tooltip-bg"),vv=Cn("tooltip-fg"),fW=Cn("popper-arrow-bg"),hW={bg:rp.reference,color:vv.reference,[rp.variable]:"colors.gray.700",[vv.variable]:"colors.whiteAlpha.900",_dark:{[rp.variable]:"colors.gray.300",[vv.variable]:"colors.gray.900"},[fW.variable]:rp.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},pW={baseStyle:hW},mW={Accordion:e9,Alert:j9,Avatar:Y9,Badge:Ud,Breadcrumb:iz,Button:hz,Checkbox:Po,CloseButton:Rz,Code:Pz,Container:Mz,Divider:Bz,Drawer:Xz,Editable:rU,Form:cU,FormError:mU,FormLabel:yU,Heading:bU,Input:ct,Kbd:LU,Link:PU,List:jU,Menu:YU,Modal:sV,NumberInput:pV,PinInput:vV,Popover:_V,Progress:jV,Radio:UV,Select:qV,Skeleton:QV,SkipLink:JV,Slider:uH,Spinner:hH,Stat:SH,Switch:IH,Table:NH,Tabs:JH,Tag:aW,Textarea:dW,Tooltip:pW,Card:vz,Stepper:EH},gW={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},yW={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},vW={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},xW={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},bW={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},SW={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},wW={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},TW={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},EW={property:SW,easing:wW,duration:TW},CW={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},kW={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},AW={breakpoints:yW,zIndices:CW,radii:xW,blur:kW,colors:vW,...gD,sizes:uD,shadows:bW,space:cD,borders:gW,transition:EW},RW={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},_W={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},LW=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function IW(t){return tr(t)?LW.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}const PW="ltr",DW={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},bD={semanticTokens:RW,direction:PW,...AW,components:mW,styles:_W,config:DW};var MW=!1;function OW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function FW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jW=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!MW:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(FW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=OW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Yn="-ms-",hg="-moz-",at="-webkit-",SD="comm",hw="rule",pw="decl",NW="@import",wD="@keyframes",BW="@layer",$W=Math.abs,T0=String.fromCharCode,zW=Object.assign;function UW(t,e){return zn(t,0)^45?(((e<<2^zn(t,0))<<2^zn(t,1))<<2^zn(t,2))<<2^zn(t,3):0}function TD(t){return t.trim()}function VW(t,e){return(t=e.exec(t))?t[0]:t}function lt(t,e,n){return t.replace(e,n)}function Fb(t,e){return t.indexOf(e)}function zn(t,e){return t.charCodeAt(e)|0}function _f(t,e,n){return t.slice(e,n)}function cs(t){return t.length}function mw(t){return t.length}function ip(t,e){return e.push(t),t}function HW(t,e){return t.map(e).join("")}var E0=1,tu=1,ED=0,Ir=0,pn=0,ku="";function C0(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:E0,column:tu,length:o,return:""}}function Zu(t,e){return zW(C0("",null,null,"",null,null,0),t,{length:-t.length},e)}function WW(){return pn}function GW(){return pn=Ir>0?zn(ku,--Ir):0,tu--,pn===10&&(tu=1,E0--),pn}function Kr(){return pn=Ir<ED?zn(ku,Ir++):0,tu++,pn===10&&(tu=1,E0++),pn}function bs(){return zn(ku,Ir)}function dm(){return Ir}function uh(t,e){return _f(ku,t,e)}function Lf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CD(t){return E0=tu=1,ED=cs(ku=t),Ir=0,[]}function kD(t){return ku="",t}function fm(t){return TD(uh(Ir-1,jb(t===91?t+2:t===40?t+1:t)))}function KW(t){for(;(pn=bs())&&pn<33;)Kr();return Lf(t)>2||Lf(pn)>3?"":" "}function YW(t,e){for(;--e&&Kr()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return uh(t,dm()+(e<6&&bs()==32&&Kr()==32))}function jb(t){for(;Kr();)switch(pn){case t:return Ir;case 34:case 39:t!==34&&t!==39&&jb(pn);break;case 40:t===41&&jb(t);break;case 92:Kr();break}return Ir}function qW(t,e){for(;Kr()&&t+pn!==57;)if(t+pn===84&&bs()===47)break;return"/*"+uh(e,Ir-1)+"*"+T0(t===47?t:Kr())}function XW(t){for(;!Lf(bs());)Kr();return uh(t,Ir)}function QW(t){return kD(hm("",null,null,null,[""],t=CD(t),0,[0],t))}function hm(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,h=0,p=0,m=1,y=1,v=1,b=0,x="",S=i,T=s,C=r,E=x;y;)switch(p=b,b=Kr()){case 40:if(p!=108&&zn(E,d-1)==58){Fb(E+=lt(fm(b),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=fm(b);break;case 9:case 10:case 13:case 32:E+=KW(p);break;case 92:E+=YW(dm()-1,7);continue;case 47:switch(bs()){case 42:case 47:ip(ZW(qW(Kr(),dm()),e,n),l);break;default:E+="/"}break;case 123*m:a[c++]=cs(E)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+u:v==-1&&(E=lt(E,/\f/g,"")),h>0&&cs(E)-d&&ip(h>32?uC(E+";",r,n,d-1):uC(lt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(ip(C=cC(E,e,n,c,u,i,a,x,S=[],T=[],d),s),b===123)if(u===0)hm(E,e,C,C,S,s,d,a,T);else switch(f===99&&zn(E,3)===110?100:f){case 100:case 108:case 109:case 115:hm(t,C,C,r&&ip(cC(t,C,C,0,0,i,a,x,i,S=[],d),T),i,T,d,a,r?S:T);break;default:hm(E,C,C,C,[""],T,0,a,T)}}c=u=h=0,m=v=1,x=E="",d=o;break;case 58:d=1+cs(E),h=p;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&GW()==125)continue}switch(E+=T0(b),b*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(cs(E)-1)*v,v=1;break;case 64:bs()===45&&(E+=fm(Kr())),f=bs(),u=d=cs(x=E+=XW(dm())),b++;break;case 45:p===45&&cs(E)==2&&(m=0)}}return s}function cC(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],h=mw(f),p=0,m=0,y=0;p<r;++p)for(var v=0,b=_f(t,d+1,d=$W(m=o[p])),x=t;v<h;++v)(x=TD(m>0?f[v]+" "+b:lt(b,/&\f/g,f[v])))&&(l[y++]=x);return C0(t,e,n,i===0?hw:a,l,c,u)}function ZW(t,e,n){return C0(t,e,n,SD,T0(WW()),_f(t,2,-2),0)}function uC(t,e,n,r){return C0(t,e,n,pw,_f(t,0,r),_f(t,r+1,-1),r)}function Fc(t,e){for(var n="",r=mw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function JW(t,e,n,r){switch(t.type){case BW:if(t.children.length)break;case NW:case pw:return t.return=t.return||t.value;case SD:return"";case wD:return t.return=t.value+"{"+Fc(t.children,r)+"}";case hw:t.value=t.props.join(",")}return cs(n=Fc(t.children,r))?t.return=t.value+"{"+n+"}":""}function eG(t){var e=mw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function tG(t){return function(e){e.root||(e=e.return)&&t(e)}}var dC=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function AD(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var nG=function(e,n,r){for(var i=0,s=0;i=s,s=bs(),i===38&&s===12&&(n[r]=1),!Lf(s);)Kr();return uh(e,Ir)},rG=function(e,n){var r=-1,i=44;do switch(Lf(i)){case 0:i===38&&bs()===12&&(n[r]=1),e[r]+=nG(Ir-1,n,r);break;case 2:e[r]+=fm(i);break;case 4:if(i===44){e[++r]=bs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=T0(i)}while(i=Kr());return e},iG=function(e,n){return kD(rG(CD(e),n))},fC=new WeakMap,sG=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!fC.get(r))&&!i){fC.set(e,!0);for(var s=[],o=iG(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},oG=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function RD(t,e){switch(UW(t,e)){case 5103:return at+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return at+t+hg+t+Yn+t+t;case 6828:case 4268:return at+t+Yn+t+t;case 6165:return at+t+Yn+"flex-"+t+t;case 5187:return at+t+lt(t,/(\w+).+(:[^]+)/,at+"box-$1$2"+Yn+"flex-$1$2")+t;case 5443:return at+t+Yn+"flex-item-"+lt(t,/flex-|-self/,"")+t;case 4675:return at+t+Yn+"flex-line-pack"+lt(t,/align-content|flex-|-self/,"")+t;case 5548:return at+t+Yn+lt(t,"shrink","negative")+t;case 5292:return at+t+Yn+lt(t,"basis","preferred-size")+t;case 6060:return at+"box-"+lt(t,"-grow","")+at+t+Yn+lt(t,"grow","positive")+t;case 4554:return at+lt(t,/([^-])(transform)/g,"$1"+at+"$2")+t;case 6187:return lt(lt(lt(t,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),t,"")+t;case 5495:case 3959:return lt(t,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return lt(lt(t,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+Yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+t+t;case 4095:case 3583:case 4068:case 2532:return lt(t,/(.+)-inline(.+)/,at+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cs(t)-1-e>6)switch(zn(t,e+1)){case 109:if(zn(t,e+4)!==45)break;case 102:return lt(t,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+hg+(zn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fb(t,"stretch")?RD(lt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(zn(t,e+1)!==115)break;case 6444:switch(zn(t,cs(t)-3-(~Fb(t,"!important")&&10))){case 107:return lt(t,":",":"+at)+t;case 101:return lt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+at+(zn(t,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+Yn+"$2box$3")+t}break;case 5936:switch(zn(t,e+11)){case 114:return at+t+Yn+lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return at+t+Yn+lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return at+t+Yn+lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return at+t+Yn+t+t}return t}var aG=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case pw:e.return=RD(e.value,e.length);break;case wD:return Fc([Zu(e,{value:lt(e.value,"@","@"+at)})],i);case hw:if(e.length)return HW(e.props,function(s){switch(VW(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fc([Zu(e,{props:[lt(s,/:(read-\w+)/,":"+hg+"$1")]})],i);case"::placeholder":return Fc([Zu(e,{props:[lt(s,/:(plac\w+)/,":"+at+"input-$1")]}),Zu(e,{props:[lt(s,/:(plac\w+)/,":"+hg+"$1")]}),Zu(e,{props:[lt(s,/:(plac\w+)/,Yn+"input-$1")]})],i)}return""})}},lG=[aG],cG=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||lG,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),v=1;v<y.length;v++)s[y[v]]=!0;a.push(m)});var l,c=[sG,oG];{var u,d=[JW,tG(function(m){u.insert(m)})],f=eG(c.concat(i,d)),h=function(y){return Fc(QW(y),f)};l=function(y,v,b,x){u=b,h(y?y+"{"+v.styles+"}":v.styles),x&&(p.inserted[v.name]=!0)}}var p={key:n,sheet:new jW({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p};function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}var _D={exports:{}},xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=typeof Symbol=="function"&&Symbol.for,gw=Fn?Symbol.for("react.element"):60103,yw=Fn?Symbol.for("react.portal"):60106,k0=Fn?Symbol.for("react.fragment"):60107,A0=Fn?Symbol.for("react.strict_mode"):60108,R0=Fn?Symbol.for("react.profiler"):60114,_0=Fn?Symbol.for("react.provider"):60109,L0=Fn?Symbol.for("react.context"):60110,vw=Fn?Symbol.for("react.async_mode"):60111,I0=Fn?Symbol.for("react.concurrent_mode"):60111,P0=Fn?Symbol.for("react.forward_ref"):60112,D0=Fn?Symbol.for("react.suspense"):60113,uG=Fn?Symbol.for("react.suspense_list"):60120,M0=Fn?Symbol.for("react.memo"):60115,O0=Fn?Symbol.for("react.lazy"):60116,dG=Fn?Symbol.for("react.block"):60121,fG=Fn?Symbol.for("react.fundamental"):60117,hG=Fn?Symbol.for("react.responder"):60118,pG=Fn?Symbol.for("react.scope"):60119;function ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gw:switch(t=t.type,t){case vw:case I0:case k0:case R0:case A0:case D0:return t;default:switch(t=t&&t.$$typeof,t){case L0:case P0:case O0:case M0:case _0:return t;default:return e}}case yw:return e}}}function LD(t){return ti(t)===I0}xt.AsyncMode=vw;xt.ConcurrentMode=I0;xt.ContextConsumer=L0;xt.ContextProvider=_0;xt.Element=gw;xt.ForwardRef=P0;xt.Fragment=k0;xt.Lazy=O0;xt.Memo=M0;xt.Portal=yw;xt.Profiler=R0;xt.StrictMode=A0;xt.Suspense=D0;xt.isAsyncMode=function(t){return LD(t)||ti(t)===vw};xt.isConcurrentMode=LD;xt.isContextConsumer=function(t){return ti(t)===L0};xt.isContextProvider=function(t){return ti(t)===_0};xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gw};xt.isForwardRef=function(t){return ti(t)===P0};xt.isFragment=function(t){return ti(t)===k0};xt.isLazy=function(t){return ti(t)===O0};xt.isMemo=function(t){return ti(t)===M0};xt.isPortal=function(t){return ti(t)===yw};xt.isProfiler=function(t){return ti(t)===R0};xt.isStrictMode=function(t){return ti(t)===A0};xt.isSuspense=function(t){return ti(t)===D0};xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===k0||t===I0||t===R0||t===A0||t===D0||t===uG||typeof t=="object"&&t!==null&&(t.$$typeof===O0||t.$$typeof===M0||t.$$typeof===_0||t.$$typeof===L0||t.$$typeof===P0||t.$$typeof===fG||t.$$typeof===hG||t.$$typeof===pG||t.$$typeof===dG)};xt.typeOf=ti;_D.exports=xt;var mG=_D.exports,ID=mG,gG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},PD={};PD[ID.ForwardRef]=gG;PD[ID.Memo]=yG;var vG=!0;function xG(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var DD=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||vG===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},MD=function(e,n,r){DD(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function bG(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var SG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wG=!1,TG=/[A-Z]|^ms/g,EG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,OD=function(e){return e.charCodeAt(1)===45},hC=function(e){return e!=null&&typeof e!="boolean"},xv=AD(function(t){return OD(t)?t:t.replace(TG,"-$&").toLowerCase()}),pC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(EG,function(r,i,s){return us={name:i,styles:s,next:us},i})}return SG[e]!==1&&!OD(e)&&typeof n=="number"&&n!==0?n+"px":n},CG="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function If(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return us={name:i.name,styles:i.styles,next:us},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)us={name:o.name,styles:o.styles,next:us},o=o.next;var a=s.styles+";";return a}return kG(t,e,n)}case"function":{if(t!==void 0){var l=us,c=n(t);return us=l,If(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function kG(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=If(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":hC(a)&&(r+=xv(s)+":"+pC(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&wG)throw new Error(CG);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)hC(o[l])&&(r+=xv(s)+":"+pC(s,o[l])+";");else{var c=If(t,e,o);switch(s){case"animation":case"animationName":{r+=xv(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var mC=/label:\s*([^\s;{]+)\s*(;|$)/g,us;function xw(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";us=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=If(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=If(n,e,t[a]),r){var l=s;i+=l[a]}mC.lastIndex=0;for(var c="",u;(u=mC.exec(i))!==null;)c+="-"+u[1];var d=bG(i)+c;return{name:d,styles:i,next:us}}var AG=function(e){return e()},FD=_x.useInsertionEffect?_x.useInsertionEffect:!1,RG=FD||AG,gC=FD||w.useLayoutEffect,jD=w.createContext(typeof HTMLElement<"u"?cG({key:"css"}):null);jD.Provider;var bw=function(e){return w.forwardRef(function(n,r){var i=w.useContext(jD);return e(n,i,r)})},Pf=w.createContext({}),_G=function(e,n){if(typeof n=="function"){var r=n(e);return r}return gl({},e,n)},LG=dC(function(t){return dC(function(e){return _G(t,e)})}),IG=function(e){var n=w.useContext(Pf);return e.theme!==n&&(n=LG(n)(e.theme)),w.createElement(Pf.Provider,{value:n},e.children)},F0=bw(function(t,e){var n=t.styles,r=xw([n],void 0,w.useContext(Pf)),i=w.useRef();return gC(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),gC(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&MD(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function PG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xw(e)}var Cl=function(){var e=PG.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const Sw=w.createContext({});Sw.displayName="ColorModeContext";function Rs(){const t=w.useContext(Sw);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function ue(t,e){const{colorMode:n}=Rs();return n==="dark"?e:t}const sp={light:"chakra-ui-light",dark:"chakra-ui-dark"};function DG(t={}){const{preventTransition:e=!0,nonce:n}=t,r={setDataset:i=>{const s=e?r.preventTransition():void 0;document.documentElement.dataset.theme=i,document.documentElement.style.colorScheme=i,s==null||s()},setClassName(i){document.body.classList.add(i?sp.dark:sp.light),document.body.classList.remove(i?sp.light:sp.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(i){return r.query().matches??i==="dark"?"dark":"light"},addListener(i){const s=r.query(),o=a=>{i(a.matches?"dark":"light")};return typeof s.addListener=="function"?s.addListener(o):s.addEventListener("change",o),()=>{typeof s.removeListener=="function"?s.removeListener(o):s.removeEventListener("change",o)}},preventTransition(){const i=document.createElement("style");return i.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),n!==void 0&&(i.nonce=n),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(i)})})}}};return r}const MG="chakra-ui-color-mode";function OG(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}const FG=OG(MG),yC=()=>{},jG=AB()?w.useLayoutEffect:w.useEffect;function vC(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}const ND=bw(function(e,n){const{value:r,children:i,options:{useSystemColorMode:s,initialColorMode:o,disableTransitionOnChange:a}={},colorModeManager:l=FG}=e,c=o==="dark"?"dark":"light",[u,d]=w.useState(()=>vC(l,c)),[f,h]=w.useState(()=>vC(l)),{getSystemTheme:p,setClassName:m,setDataset:y,addListener:v}=w.useMemo(()=>DG({preventTransition:a,nonce:n==null?void 0:n.nonce}),[a,n==null?void 0:n.nonce]),b=o==="system"&&!u?f:u,x=w.useCallback(C=>{const E=C==="system"?p():C;d(E),m(E==="dark"),y(E),l.set(E)},[l,p,m,y]);jG(()=>{o==="system"&&h(p())},[]),w.useEffect(()=>{const C=l.get();if(C){x(C);return}if(o==="system"){x("system");return}x(c)},[l,c,o,x]);const S=w.useCallback(()=>{x(b==="dark"?"light":"dark")},[b,x]);w.useEffect(()=>{if(s)return v(x)},[s,v,x]);const T=w.useMemo(()=>({colorMode:r??b,toggleColorMode:r?yC:S,setColorMode:r?yC:x,forced:r!==void 0}),[b,S,x,r]);return g.jsx(Sw.Provider,{value:T,children:i})});ND.displayName="ColorModeProvider";const BD=String.raw,$D=BD`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,NG=()=>g.jsx(F0,{styles:$D}),BG=({scope:t=""})=>g.jsx(F0,{styles:BD`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${$D}
    `});function $G(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=w.useMemo(()=>S7(n),[n]);return g.jsxs(IG,{theme:i,children:[g.jsx(zG,{root:e}),r]})}function zG({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return g.jsx(F0,{styles:n=>({[e]:n.__cssVars})})}dn({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function UG(t){return dn({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function VG(){const{colorMode:t}=Rs();return g.jsx(F0,{styles:e=>{const n=qP(e,"styles.global"),r=Hr(n,{theme:e,colorMode:t});return r?sD(r)(e):void 0}})}const[HG,WG]=dn({strict:!1,name:"PortalManagerContext"});function zD(t){const{children:e,zIndex:n}=t;return g.jsx(HG,{value:{zIndex:n},children:e})}zD.displayName="PortalManager";const ww=w.createContext({getDocument(){return document},getWindow(){return window}});ww.displayName="EnvironmentContext";function GG({defer:t}={}){const[,e]=w.useReducer(n=>n+1,0);return Xo(()=>{t&&e()},[t]),w.useContext(ww)}function UD(t){const{children:e,environment:n,disabled:r}=t,i=w.useRef(null),s=w.useMemo(()=>n||{getDocument:()=>{var a;return((a=i.current)==null?void 0:a.ownerDocument)??document},getWindow:()=>{var a;return((a=i.current)==null?void 0:a.ownerDocument.defaultView)??window}},[n]),o=!r||!n;return g.jsxs(ww.Provider,{value:s,children:[e,o&&g.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}UD.displayName="EnvironmentProvider";const KG=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,d=g.jsx(UD,{environment:a,disabled:c,children:e});return g.jsx($G,{theme:o,cssVarsRoot:l,children:g.jsxs(ND,{colorModeManager:n,options:o.config,children:[s?g.jsx(BG,{scope:i}):g.jsx(NG,{}),!u&&g.jsx(VG,{}),r?g.jsx(zD,{zIndex:r,children:d}):d]})})},VD=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),j0=w.createContext({}),dh=w.createContext(null),N0=typeof document<"u",Tw=N0?w.useLayoutEffect:w.useEffect,HD=w.createContext({strict:!1}),Ew=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),YG="framerAppearId",WD="data-"+Ew(YG);function qG(t,e,n,r){const{visualElement:i}=w.useContext(j0),s=w.useContext(HD),o=w.useContext(dh),a=w.useContext(VD).reducedMotion,l=w.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;w.useInsertionEffect(()=>{c&&c.update(n,o)});const u=w.useRef(!!(n[WD]&&!window.HandoffComplete));return Tw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),w.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function bc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XG(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):bc(n)&&(n.current=r))},[e])}function Df(t){return typeof t=="string"||Array.isArray(t)}function B0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Cw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kw=["initial",...Cw];function $0(t){return B0(t.animate)||kw.some(e=>Df(t[e]))}function GD(t){return!!($0(t)||t.variants)}function QG(t,e){if($0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Df(n)?n:void 0,animate:Df(r)?r:void 0}}return t.inherit!==!1?e:{}}function ZG(t){const{initial:e,animate:n}=QG(t,w.useContext(j0));return w.useMemo(()=>({initial:e,animate:n}),[xC(e),xC(n)])}function xC(t){return Array.isArray(t)?t.join(" "):t}const bC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mf={};for(const t in bC)Mf[t]={isEnabled:e=>bC[t].some(n=>!!e[n])};function JG(t){for(const e in t)Mf[e]={...Mf[e],...t[e]}}const Aw=w.createContext({}),KD=w.createContext({}),eK=Symbol.for("motionComponentSymbol");function tK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&JG(t);function s(a,l){let c;const u={...w.useContext(VD),...a,layoutId:nK(a)},{isStatic:d}=u,f=ZG(a),h=r(a,d);if(!d&&N0){f.visualElement=qG(i,h,u,e);const p=w.useContext(KD),m=w.useContext(HD).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,m,t,p))}return w.createElement(j0.Provider,{value:f},c&&f.visualElement?w.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,a,XG(h,f.visualElement,l),h,d,f.visualElement))}const o=w.forwardRef(s);return o[eK]=i,o}function nK({layoutId:t}){const e=w.useContext(Aw).id;return e&&t!==void 0?e+"-"+t:t}function rK(t){function e(r,i={}){return tK(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const iK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rw(t){return typeof t!="string"||t.includes("-")?!1:!!(iK.indexOf(t)>-1||/[A-Z]/.test(t))}const pg={};function sK(t){Object.assign(pg,t)}const fh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kl=new Set(fh);function YD(t,{layout:e,layoutId:n}){return kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pg[t]||t==="opacity")}const Pr=t=>!!(t&&t.getVelocity),oK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aK=fh.length;function lK(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<aK;o++){const a=fh[o];if(t[a]!==void 0){const l=oK[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const qD=t=>e=>typeof e=="string"&&e.startsWith(t),XD=qD("--"),Nb=qD("var(--"),cK=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,uK=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ta=(t,e,n)=>Math.min(Math.max(n,t),e),Al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gd={...Al,transform:t=>ta(0,1,t)},op={...Al,default:1},Kd=t=>Math.round(t*1e5)/1e5,z0=/(-)?([\d]*\.?[\d])+/g,QD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dK=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hh(t){return typeof t=="string"}const ph=t=>({test:e=>hh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ao=ph("deg"),Ss=ph("%"),Ie=ph("px"),fK=ph("vh"),hK=ph("vw"),SC={...Ss,parse:t=>Ss.parse(t)/100,transform:t=>Ss.transform(t*100)},wC={...Al,transform:Math.round},ZD={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:op,scaleX:op,scaleY:op,scaleZ:op,skew:Ao,skewX:Ao,skewY:Ao,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Gd,originX:SC,originY:SC,originZ:Ie,zIndex:wC,fillOpacity:Gd,strokeOpacity:Gd,numOctaves:wC};function _w(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const f=e[d];if(XD(d)){s[d]=f;continue}const h=ZD[d],p=uK(f,h);if(kl.has(d)){if(l=!0,o[d]=p,!u)continue;f!==(h.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=p):i[d]=p}if(e.transform||(l||r?i.transform=lK(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=a;i.transformOrigin=`${d} ${f} ${h}`}}const Lw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JD(t,e,n){for(const r in e)!Pr(e[r])&&!YD(r,n)&&(t[r]=e[r])}function pK({transformTemplate:t},e,n){return w.useMemo(()=>{const r=Lw();return _w(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function mK(t,e,n){const r=t.style||{},i={};return JD(i,r,t),Object.assign(i,pK(t,e,n)),t.transformValues?t.transformValues(i):i}function gK(t,e,n){const r={},i=mK(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const yK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yK.has(t)}let eM=t=>!mg(t);function vK(t){t&&(eM=e=>e.startsWith("on")?!mg(e):t(e))}try{vK(require("@emotion/is-prop-valid").default)}catch{}function xK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(eM(i)||n===!0&&mg(i)||!e&&!mg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function TC(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function bK(t,e,n){const r=TC(e,t.x,t.width),i=TC(n,t.y,t.height);return`${r} ${i}`}const SK={offset:"stroke-dashoffset",array:"stroke-dasharray"},wK={offset:"strokeDashoffset",array:"strokeDasharray"};function TK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?SK:wK;t[s.offset]=Ie.transform(-r);const o=Ie.transform(e),a=Ie.transform(n);t[s.array]=`${o} ${a}`}function Iw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,f){if(_w(t,c,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:m}=t;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=bK(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&TK(h,o,a,l,!1)}const tM=()=>({...Lw(),attrs:{}}),Pw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EK(t,e,n,r){const i=w.useMemo(()=>{const s=tM();return Iw(s,e,{enableHardwareAcceleration:!1},Pw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};JD(s,t.style,t),i.style={...s,...i.style}}return i}function CK(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Rw(n)?EK:gK)(r,s,o,n),u={...xK(r,typeof n=="string",t),...l,ref:i},{children:d}=r,f=w.useMemo(()=>Pr(d)?d.get():d,[d]);return w.createElement(n,{...u,children:f})}}function nM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const rM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iM(t,e,n,r){nM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(rM.has(i)?i:Ew(i),e.attrs[i])}function Dw(t,e){const{style:n}=t,r={};for(const i in n)(Pr(n[i])||e.style&&Pr(e.style[i])||YD(i,t))&&(r[i]=n[i]);return r}function sM(t,e){const n=Dw(t,e);for(const r in t)if(Pr(t[r])||Pr(e[r])){const i=fh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Mw(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function oM(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const gg=t=>Array.isArray(t),kK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),AK=t=>gg(t)?t[t.length-1]||0:t;function pm(t){const e=Pr(t)?t.get():t;return kK(e)?e.toValue():e}function RK({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:_K(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const aM=t=>(e,n)=>{const r=w.useContext(j0),i=w.useContext(dh),s=()=>RK(t,e,r,i);return n?s():oM(s)};function _K(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=pm(s[f]);let{initial:o,animate:a}=t;const l=$0(t),c=GD(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!B0(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const p=Mw(t,h);if(!p)return;const{transitionEnd:m,transition:y,...v}=p;for(const b in v){let x=v[b];if(Array.isArray(x)){const S=u?x.length-1:0;x=x[S]}x!==null&&(i[b]=x)}for(const b in m)i[b]=m[b]}),i}const ln=t=>t;class EC{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function LK(t){let e=new EC,n=new EC,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,f=d?e:n;return c&&o.add(l),f.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ap=["prepare","read","update","preRender","render","postRender"],IK=40;function PK(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ap.reduce((d,f)=>(d[f]=LK(()=>n=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,IK),1),i.timestamp=d,i.isProcessing=!0,ap.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ap.reduce((d,f)=>{const h=s[f];return d[f]=(p,m=!1,y=!1)=>(n||l(),h.schedule(p,m,y)),d},{}),cancel:d=>ap.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:_t,cancel:ho,state:Xn,steps:bv}=PK(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0),DK={useVisualState:aM({scrapeMotionValuesFromProps:sM,createRenderState:tM,onMount:(t,e,{renderState:n,latestValues:r})=>{_t.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_t.render(()=>{Iw(n,r,{enableHardwareAcceleration:!1},Pw(e.tagName),t.transformTemplate),iM(e,n)})}})},MK={useVisualState:aM({scrapeMotionValuesFromProps:Dw,createRenderState:Lw})};function OK(t,{forwardMotionProps:e=!1},n,r){return{...Rw(t)?DK:MK,preloadedFeatures:n,useRender:CK(e),createVisualElement:r,Component:t}}function Js(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const lM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function U0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const FK=t=>e=>lM(e)&&t(e,U0(e));function so(t,e,n,r){return Js(t,e,FK(n),r)}const jK=(t,e)=>n=>e(t(n)),Qo=(...t)=>t.reduce(jK);function cM(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const CC=cM("dragHorizontal"),kC=cM("dragVertical");function uM(t){let e=!1;if(t==="y")e=kC();else if(t==="x")e=CC();else{const n=CC(),r=kC();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function dM(){const t=uM(!0);return t?(t(),!1):!0}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}function AC(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||dM())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&_t.update(()=>a[r](s,o))};return so(t.current,n,i,{passive:!t.getProps()[r]})}class NK extends da{mount(){this.unmount=Qo(AC(this.node,!0),AC(this.node,!1))}unmount(){}}class BK extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qo(Js(this.node.current,"focus",()=>this.onFocus()),Js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fM=(t,e)=>e?t===e?!0:fM(t,e.parentElement):!1;function Sv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,U0(n))}class $K extends da{constructor(){super(...arguments),this.removeStartListeners=ln,this.removeEndListeners=ln,this.removeAccessibleListeners=ln,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=so(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();_t.update(()=>{!d&&!fM(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=so(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qo(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Sv("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&_t.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Js(this.node.current,"keyup",o),Sv("down",(a,l)=>{this.startPress(a,l)})},n=Js(this.node.current,"keydown",e),r=()=>{this.isPressing&&Sv("cancel",(s,o)=>this.cancelPress(s,o))},i=Js(this.node.current,"blur",r);this.removeAccessibleListeners=Qo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_t.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dM()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_t.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=so(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Js(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Bb=new WeakMap,wv=new WeakMap,zK=t=>{const e=Bb.get(t.target);e&&e(t)},UK=t=>{t.forEach(zK)};function VK({root:t,...e}){const n=t||document;wv.has(n)||wv.set(n,{});const r=wv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(UK,{root:t,...e})),r[i]}function HK(t,e,n){const r=VK(e);return Bb.set(t,n),r.observe(t),()=>{Bb.delete(t),r.unobserve(t)}}const WK={some:0,all:1};class GK extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:WK[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return HK(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KK(e,n))&&this.startObserver()}unmount(){}}function KK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const YK={inView:{Feature:GK},tap:{Feature:$K},focus:{Feature:BK},hover:{Feature:NK}};function hM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qK(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function XK(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function V0(t,e,n){const r=t.getProps();return Mw(r,e,n!==void 0?n:r.custom,qK(t),XK(t))}let yg=ln;const nl=t=>t*1e3,oo=t=>t/1e3,QK={current:!1},pM=t=>Array.isArray(t)&&typeof t[0]=="number";function mM(t){return!!(!t||typeof t=="string"&&gM[t]||pM(t)||Array.isArray(t)&&t.every(mM))}const Sd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sd([0,.65,.55,1]),circOut:Sd([.55,0,1,.45]),backIn:Sd([.31,.01,.66,-.59]),backOut:Sd([.33,1.53,.69,.99])};function yM(t){if(t)return pM(t)?Sd(t):Array.isArray(t)?t.map(yM):gM[t]}function ZK(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=yM(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function JK(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const vM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eY=1e-7,tY=12;function nY(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=vM(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>eY&&++a<tY);return o}function mh(t,e,n,r){if(t===e&&n===r)return ln;const i=s=>nY(s,0,1,t,n);return s=>s===0||s===1?s:vM(i(s),e,r)}const rY=mh(.42,0,1,1),iY=mh(0,0,.58,1),xM=mh(.42,0,.58,1),sY=t=>Array.isArray(t)&&typeof t[0]!="number",bM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SM=t=>e=>1-t(1-e),Ow=t=>1-Math.sin(Math.acos(t)),wM=SM(Ow),oY=bM(Ow),TM=mh(.33,1.53,.69,.99),Fw=SM(TM),aY=bM(Fw),lY=t=>(t*=2)<1?.5*Fw(t):.5*(2-Math.pow(2,-10*(t-1))),RC={linear:ln,easeIn:rY,easeInOut:xM,easeOut:iY,circIn:Ow,circInOut:oY,circOut:wM,backIn:Fw,backInOut:aY,backOut:TM,anticipate:lY},_C=t=>{if(Array.isArray(t)){yg(t.length===4);const[e,n,r,i]=t;return mh(e,n,r,i)}else if(typeof t=="string")return yg(RC[t]!==void 0),RC[t];return t},jw=(t,e)=>n=>!!(hh(n)&&dK.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),EM=(t,e,n)=>r=>{if(!hh(r))return r;const[i,s,o,a]=r.match(z0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},cY=t=>ta(0,255,t),Tv={...Al,transform:t=>Math.round(cY(t))},Ha={test:jw("rgb","red"),parse:EM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Tv.transform(t)+", "+Tv.transform(e)+", "+Tv.transform(n)+", "+Kd(Gd.transform(r))+")"};function uY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const $b={test:jw("#"),parse:uY,transform:Ha.transform},Sc={test:jw("hsl","hue"),parse:EM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ss.transform(Kd(e))+", "+Ss.transform(Kd(n))+", "+Kd(Gd.transform(r))+")"},ar={test:t=>Ha.test(t)||$b.test(t)||Sc.test(t),parse:t=>Ha.test(t)?Ha.parse(t):Sc.test(t)?Sc.parse(t):$b.parse(t),transform:t=>hh(t)?t:t.hasOwnProperty("red")?Ha.transform(t):Sc.transform(t)},Yt=(t,e,n)=>-n*t+n*e+t;function Ev(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Ev(l,a,t+1/3),s=Ev(l,a,t),o=Ev(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Cv=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},fY=[$b,Ha,Sc],hY=t=>fY.find(e=>e.test(t));function LC(t){const e=hY(t);let n=e.parse(t);return e===Sc&&(n=dY(n)),n}const CM=(t,e)=>{const n=LC(t),r=LC(e),i={...n};return s=>(i.red=Cv(n.red,r.red,s),i.green=Cv(n.green,r.green,s),i.blue=Cv(n.blue,r.blue,s),i.alpha=Yt(n.alpha,r.alpha,s),Ha.transform(i))};function pY(t){var e,n;return isNaN(t)&&hh(t)&&(((e=t.match(z0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(QD))===null||n===void 0?void 0:n.length)||0)>0}const kM={regex:cK,countKey:"Vars",token:"${v}",parse:ln},AM={regex:QD,countKey:"Colors",token:"${c}",parse:ar.parse},RM={regex:z0,countKey:"Numbers",token:"${n}",parse:Al.parse};function kv(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function vg(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&kv(n,kM),kv(n,AM),kv(n,RM),n}function _M(t){return vg(t).values}function LM(t){const{values:e,numColors:n,numVars:r,tokenised:i}=vg(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(kM.token,o[l]):l<r+n?a=a.replace(AM.token,ar.transform(o[l])):a=a.replace(RM.token,Kd(o[l]));return a}}const mY=t=>typeof t=="number"?0:t;function gY(t){const e=_M(t);return LM(t)(e.map(mY))}const na={test:pY,parse:_M,createTransformer:LM,getAnimatableNone:gY},IM=(t,e)=>n=>`${n>0?e:t}`;function PM(t,e){return typeof t=="number"?n=>Yt(t,e,n):ar.test(t)?CM(t,e):t.startsWith("var(")?IM(t,e):MM(t,e)}const DM=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>PM(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},yY=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=PM(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},MM=(t,e)=>{const n=na.createTransformer(e),r=vg(t),i=vg(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Qo(DM(r.values,i.values),n):IM(t,e)},Of=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},IC=(t,e)=>n=>Yt(t,e,n);function vY(t){return typeof t=="number"?IC:typeof t=="string"?ar.test(t)?CM:MM:Array.isArray(t)?DM:typeof t=="object"?yY:IC}function xY(t,e,n){const r=[],i=n||vY(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ln:e;a=Qo(l,a)}r.push(a)}return r}function OM(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(yg(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=xY(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Of(t[u],t[u+1],c);return o[u](d)};return n?c=>l(ta(t[0],t[s-1],c)):l}function bY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Of(0,e,r);t.push(Yt(n,1,i))}}function SY(t){const e=[0];return bY(e,t.length-1),e}function wY(t,e){return t.map(n=>n*e)}function TY(t,e){return t.map(()=>e||xM).splice(0,t.length-1)}function xg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sY(r)?r.map(_C):_C(r),s={done:!1,value:e[0]},o=wY(n&&n.length===e.length?n:SY(e),t),a=OM(o,e,{ease:Array.isArray(i)?i:TY(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function FM(t,e){return e?t*(1e3/e):0}const EY=5;function jM(t,e,n){const r=Math.max(e-EY,0);return FM(n-t(r),e-r)}const Av=.001,CY=.01,kY=10,AY=.05,RY=1;function _Y({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ta(AY,RY,o),t=ta(CY,kY,oo(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-n,h=zb(c,o),p=Math.exp(-d);return Av-f/h*p},s=c=>{const d=c*o*t,f=d*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-d),m=zb(Math.pow(c,2),o);return(-i(c)+Av>0?-1:1)*((f-h)*p)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Av+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=IY(i,s,a);if(t=nl(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const LY=12;function IY(t,e,n){let r=n;for(let i=1;i<LY;i++)r=r-t(r)/e(r);return r}function zb(t,e){return t*Math.sqrt(1-e*e)}const PY=["duration","bounce"],DY=["stiffness","damping","mass"];function PC(t,e){return e.some(n=>t[n]!==void 0)}function MY(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!PC(t,DY)&&PC(t,PY)){const n=_Y(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function NM({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=MY({...r,velocity:-oo(r.velocity||0)}),h=d||0,p=l/(2*Math.sqrt(a*c)),m=s-i,y=oo(Math.sqrt(a/c)),v=Math.abs(m)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let b;if(p<1){const x=zb(y,p);b=S=>{const T=Math.exp(-p*y*S);return s-T*((h+p*y*m)/x*Math.sin(x*S)+m*Math.cos(x*S))}}else if(p===1)b=x=>s-Math.exp(-y*x)*(m+(h+y*m)*x);else{const x=y*Math.sqrt(p*p-1);b=S=>{const T=Math.exp(-p*y*S),C=Math.min(x*S,300);return s-T*((h+p*y*m)*Math.sinh(C)+x*m*Math.cosh(C))/x}}return{calculatedDuration:f&&u||null,next:x=>{const S=b(x);if(f)o.done=x>=u;else{let T=h;x!==0&&(p<1?T=jM(b,x,S):T=0);const C=Math.abs(T)<=n,E=Math.abs(s-S)<=e;o.done=C&&E}return o.value=o.done?s:S,o}}}function DC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},h=k=>a!==void 0&&k<a||l!==void 0&&k>l,p=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let m=n*e;const y=d+m,v=o===void 0?y:o(y);v!==y&&(m=v-d);const b=k=>-m*Math.exp(-k/r),x=k=>v+b(k),S=k=>{const A=b(k),R=x(k);f.done=Math.abs(A)<=c,f.value=f.done?v:R};let T,C;const E=k=>{h(f.value)&&(T=k,C=NM({keyframes:[f.value,p(f.value)],velocity:jM(x,k,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:k=>{let A=!1;return!C&&T===void 0&&(A=!0,S(k),E(k)),T!==void 0&&k>T?C.next(k-T):(!A&&S(k),f)}}}const OY=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_t.update(e,!0),stop:()=>ho(e),now:()=>Xn.isProcessing?Xn.timestamp:performance.now()}},MC=2e4;function OC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<MC;)e+=n,r=t.next(e);return e>=MC?1/0:e}const FY={decay:DC,inertia:DC,tween:xg,keyframes:xg,spring:NM};function bg({autoplay:t=!0,delay:e=0,driver:n=OY,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let h=1,p=!1,m,y;const v=()=>{y=new Promise(G=>{m=G})};v();let b;const x=FY[i]||xg;let S;x!==xg&&typeof r[0]!="number"&&(S=OM([0,100],r,{clamp:!1}),r=[0,100]);const T=x({...f,keyframes:r});let C;a==="mirror"&&(C=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let E="idle",k=null,A=null,R=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=OC(T));const{calculatedDuration:L}=T;let D=1/0,P=1/0;L!==null&&(D=L+o,P=D*(s+1)-o);let M=0;const j=G=>{if(A===null)return;h>0&&(A=Math.min(A,G)),h<0&&(A=Math.min(G-P/h,A)),k!==null?M=k:M=Math.round(G-A)*h;const Y=M-e*(h>=0?1:-1),q=h>=0?Y<0:Y>P;M=Math.max(Y,0),E==="finished"&&k===null&&(M=P);let te=M,ae=T;if(s){const Qe=Math.min(M,P)/D;let it=Math.floor(Qe),Me=Qe%1;!Me&&Qe>=1&&(Me=1),Me===1&&it--,it=Math.min(it,s+1),!!(it%2)&&(a==="reverse"?(Me=1-Me,o&&(Me-=o/D)):a==="mirror"&&(ae=C)),te=ta(0,1,Me)*D}const le=q?{done:!1,value:r[0]}:ae.next(te);S&&(le.value=S(le.value));let{done:Te}=le;!q&&L!==null&&(Te=h>=0?M>=P:M<=0);const Fe=k===null&&(E==="finished"||E==="running"&&Te);return d&&d(le.value),Fe&&B(),le},F=()=>{b&&b.stop(),b=void 0},O=()=>{E="idle",F(),m(),v(),A=R=null},B=()=>{E="finished",u&&u(),F(),m()},I=()=>{if(p)return;b||(b=n(j));const G=b.now();l&&l(),k!==null?A=G-k:(!A||E==="finished")&&(A=G),E==="finished"&&v(),R=A,k=null,E="running",b.start()};t&&I();const $={then(G,Y){return y.then(G,Y)},get time(){return oo(M)},set time(G){G=nl(G),M=G,k!==null||!b||h===0?k=G:A=b.now()-G/h},get duration(){const G=T.calculatedDuration===null?OC(T):T.calculatedDuration;return oo(G)},get speed(){return h},set speed(G){G===h||!b||(h=G,$.time=oo(M))},get state(){return E},play:I,pause:()=>{E="paused",k=M},stop:()=>{p=!0,E!=="idle"&&(E="idle",c&&c(),O())},cancel:()=>{R!==null&&j(R),O()},complete:()=>{E="finished"},sample:G=>(A=0,j(G))};return $}function jY(t){let e;return()=>(e===void 0&&(e=t()),e)}const NY=jY(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),BY=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),lp=10,$Y=2e4,zY=(t,e)=>e.type==="spring"||t==="backgroundColor"||!mM(e.ease);function UY(t,e,{onUpdate:n,onComplete:r,...i}){if(!(NY()&&BY.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(x=>{a=x})};u();let{keyframes:d,duration:f=300,ease:h,times:p}=i;if(zY(e,i)){const x=bg({...i,repeat:0,delay:0});let S={done:!1,value:d[0]};const T=[];let C=0;for(;!S.done&&C<$Y;)S=x.sample(C),T.push(S.value),C+=lp;p=void 0,d=T,f=C-lp,h="linear"}const m=ZK(t.owner.current,e,d,{...i,duration:f,ease:h,times:p}),y=()=>{c=!1,m.cancel()},v=()=>{c=!0,_t.update(y),a(),u()};return m.onfinish=()=>{c||(t.set(JK(d,i)),r&&r(),v())},{then(x,S){return l.then(x,S)},attachTimeline(x){return m.timeline=x,m.onfinish=null,ln},get time(){return oo(m.currentTime||0)},set time(x){m.currentTime=nl(x)},get speed(){return m.playbackRate},set speed(x){m.playbackRate=x},get duration(){return oo(f)},play:()=>{o||(m.play(),ho(y))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:x}=m;if(x){const S=bg({...i,autoplay:!1});t.setWithVelocity(S.sample(x-lp).value,S.sample(x).value,lp)}v()},complete:()=>{c||m.finish()},cancel:v}}function VY({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ln,pause:ln,stop:ln,then:s=>(s(),Promise.resolve()),cancel:ln,complete:ln});return e?bg({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const HY={type:"spring",stiffness:500,damping:25,restSpeed:10},WY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),GY={type:"keyframes",duration:.8},KY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YY=(t,{keyframes:e})=>e.length>2?GY:kl.has(t)?t.startsWith("scale")?WY(e[1]):HY:KY,Ub=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(na.test(e)||e==="0")&&!e.startsWith("url(")),qY=new Set(["brightness","contrast","saturate","opacity"]);function XY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(z0)||[];if(!r)return t;const i=n.replace(r,"");let s=qY.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const QY=/([a-z-]*)\(.*?\)/g,Vb={...na,getAnimatableNone:t=>{const e=t.match(QY);return e?e.map(XY).join(" "):t}},ZY={...ZD,color:ar,backgroundColor:ar,outlineColor:ar,fill:ar,stroke:ar,borderColor:ar,borderTopColor:ar,borderRightColor:ar,borderBottomColor:ar,borderLeftColor:ar,filter:Vb,WebkitFilter:Vb},Nw=t=>ZY[t];function BM(t,e){let n=Nw(t);return n!==Vb&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $M=t=>/^0[^.\s]+$/.test(t);function JY(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||$M(t)}function eq(t,e,n,r){const i=Ub(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),JY(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=BM(e,a)}return s}function tq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Bw(t,e){return t[e]||t.default||t}const nq={skipAnimations:!1},$w=(t,e,n,r={})=>i=>{const s=Bw(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-nl(o);const l=eq(e,t,n,s),c=l[0],u=l[l.length-1],d=Ub(t,c),f=Ub(t,u);let h={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:p=>{e.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(tq(s)||(h={...h,...YY(t,h)}),h.duration&&(h.duration=nl(h.duration)),h.repeatDelay&&(h.repeatDelay=nl(h.repeatDelay)),!d||!f||QK.current||s.type===!1||nq.skipAnimations)return VY(h);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=UY(e,t,h);if(p)return p}return bg(h)};function Sg(t){return!!(Pr(t)&&t.add)}const zM=t=>/^\-?\d*\.?\d+$/.test(t);function zw(t,e){t.indexOf(e)===-1&&t.push(e)}function Uw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vw{constructor(){this.subscriptions=[]}add(e){return zw(this.subscriptions,e),()=>Uw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rq=t=>!isNaN(parseFloat(t));class iq{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Xn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,_t.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_t.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=rq(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vw);const r=this.events[e].add(n);return e==="change"?()=>{r(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?FM(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nu(t,e){return new iq(t,e)}const UM=t=>e=>e.test(t),sq={test:t=>t==="auto",parse:t=>t},VM=[Al,Ie,Ss,Ao,hK,fK,sq],Ju=t=>VM.find(UM(t)),oq=[...VM,ar,na],aq=t=>oq.find(UM(t));function lq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nu(n))}function cq(t,e){const n=V0(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=AK(s[o]);lq(t,o,a)}}function uq(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(zM(u)||$M(u))?u=parseFloat(u):!aq(u)&&na.test(c)&&(u=BM(l,c)),t.addValue(l,nu(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function dq(t,e){return e?(e[t]||e.default||e).from:void 0}function fq(t,e,n){const r={};for(const i in t){const s=dq(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function hq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pq(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function HM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const f=t.getValue(d),h=a[d];if(!f||h===void 0||u&&hq(u,d))continue;const p={delay:n,elapsed:0,...Bw(s||{},d)};if(window.HandoffAppearAnimations){const v=t.getProps()[WD];if(v){const b=window.HandoffAppearAnimations(v,d,f,_t);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let m=!p.isHandoff&&!pq(f,h);if(p.type==="spring"&&(f.getVelocity()||p.velocity)&&(m=!1),f.animation&&(m=!1),m)continue;f.start($w(d,f,h,t.shouldReduceMotion&&kl.has(d)?{type:!1}:p));const y=f.animation;Sg(l)&&(l.add(d),y.then(()=>l.remove(d))),c.push(y)}return o&&Promise.all(c).then(()=>{o&&cq(t,o)}),c}function Hb(t,e,n={}){const r=V0(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(HM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return mq(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function mq(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(gq).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Hb(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function gq(t,e){return t.sortNodePosition(e)}function yq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Hb(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Hb(t,e,n);else{const i=typeof e=="function"?V0(t,e,n.custom):e;r=Promise.all(HM(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const vq=[...Cw].reverse(),xq=Cw.length;function bq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yq(t,n,r)))}function Sq(t){let e=bq(t);const n=Tq();let r=!0;const i=(l,c)=>{const u=V0(t,c);if(u){const{transition:d,transitionEnd:f,...h}=u;l={...l,...h,...f}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},f=[],h=new Set;let p={},m=1/0;for(let v=0;v<xq;v++){const b=vq[v],x=n[b],S=u[b]!==void 0?u[b]:d[b],T=Df(S),C=b===c?x.isActive:null;C===!1&&(m=v);let E=S===d[b]&&S!==u[b]&&T;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...p},!x.isActive&&C===null||!S&&!x.prevProp||B0(S)||typeof S=="boolean")continue;let A=wq(x.prevProp,S)||b===c&&x.isActive&&!E&&T||v>m&&T,R=!1;const L=Array.isArray(S)?S:[S];let D=L.reduce(i,{});C===!1&&(D={});const{prevResolvedValues:P={}}=x,M={...P,...D},j=F=>{A=!0,h.has(F)&&(R=!0,h.delete(F)),x.needsAnimating[F]=!0};for(const F in M){const O=D[F],B=P[F];if(p.hasOwnProperty(F))continue;let I=!1;gg(O)&&gg(B)?I=!hM(O,B):I=O!==B,I?O!==void 0?j(F):h.add(F):O!==void 0&&h.has(F)?j(F):x.protectedKeys[F]=!0}x.prevProp=S,x.prevResolvedValues=D,x.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(A=!1),A&&(!E||R)&&f.push(...L.map(F=>({animation:F,options:{type:b,...l}})))}if(h.size){const v={};h.forEach(b=>{const x=t.getBaseTarget(b);x!==void 0&&(v[b]=x)}),f.push({animation:v})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function wq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hM(e,t):!1}function Ta(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tq(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class Eq extends da{constructor(e){super(e),e.animationState||(e.animationState=Sq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),B0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Cq=0;class kq extends da{constructor(){super(...arguments),this.id=Cq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Aq={animation:{Feature:Eq},exit:{Feature:kq}},FC=(t,e)=>Math.abs(t-e);function Rq(t,e){const n=FC(t.x,e.x),r=FC(t.y,e.y);return Math.sqrt(n**2+r**2)}class WM{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=_v(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=Rq(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:m}=Xn;this.history.push({...p,timestamp:m});const{onStart:y,onMove:v}=this.handlers;f||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Rv(f,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=_v(d.type==="pointercancel"?this.lastMoveEventInfo:Rv(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,y),p&&p(d,y)},!lM(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=U0(e),a=Rv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Xn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,_v(a,this.history)),this.removeListeners=Qo(so(this.contextWindow,"pointermove",this.handlePointerMove),so(this.contextWindow,"pointerup",this.handlePointerUp),so(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ho(this.updatePoint)}}function Rv(t,e){return e?{point:e(t.point)}:t}function jC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _v({point:t},e){return{point:t,delta:jC(t,GM(e)),offset:jC(t,_q(e)),velocity:Lq(e,.1)}}function _q(t){return t[0]}function GM(t){return t[t.length-1]}function Lq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=GM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>nl(e)));)n--;if(!r)return{x:0,y:0};const s=oo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xr(t){return t.max-t.min}function Wb(t,e=0,n=.01){return Math.abs(t-e)<=n}function NC(t,e,n,r=.5){t.origin=r,t.originPoint=Yt(e.min,e.max,t.origin),t.scale=Xr(n)/Xr(e),(Wb(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Yt(n.min,n.max,t.origin)-t.originPoint,(Wb(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Yd(t,e,n,r){NC(t.x,e.x,n.x,r?r.originX:void 0),NC(t.y,e.y,n.y,r?r.originY:void 0)}function BC(t,e,n){t.min=n.min+e.min,t.max=t.min+Xr(e)}function Iq(t,e,n){BC(t.x,e.x,n.x),BC(t.y,e.y,n.y)}function $C(t,e,n){t.min=e.min-n.min,t.max=t.min+Xr(e)}function qd(t,e,n){$C(t.x,e.x,n.x),$C(t.y,e.y,n.y)}function Pq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Yt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Yt(n,t,r.max):Math.min(t,n)),t}function zC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Dq(t,{top:e,left:n,bottom:r,right:i}){return{x:zC(t.x,n,i),y:zC(t.y,e,r)}}function UC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Mq(t,e){return{x:UC(t.x,e.x),y:UC(t.y,e.y)}}function Oq(t,e){let n=.5;const r=Xr(t),i=Xr(e);return i>r?n=Of(e.min,e.max-r,t.min):r>i&&(n=Of(t.min,t.max-i,e.min)),ta(0,1,n)}function Fq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gb=.35;function jq(t=Gb){return t===!1?t=0:t===!0&&(t=Gb),{x:VC(t,"left","right"),y:VC(t,"top","bottom")}}function VC(t,e,n){return{min:HC(t,e),max:HC(t,n)}}function HC(t,e){return typeof t=="number"?t:t[e]||0}const WC=()=>({translate:0,scale:1,origin:0,originPoint:0}),wc=()=>({x:WC(),y:WC()}),GC=()=>({min:0,max:0}),fn=()=>({x:GC(),y:GC()});function ui(t){return[t("x"),t("y")]}function KM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Nq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Bq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lv(t){return t===void 0||t===1}function Kb({scale:t,scaleX:e,scaleY:n}){return!Lv(t)||!Lv(e)||!Lv(n)}function La(t){return Kb(t)||YM(t)||t.z||t.rotate||t.rotateX||t.rotateY}function YM(t){return KC(t.x)||KC(t.y)}function KC(t){return t&&t!=="0%"}function wg(t,e,n){const r=t-n,i=e*r;return n+i}function YC(t,e,n,r,i){return i!==void 0&&(t=wg(t,i,r)),wg(t,n,r)+e}function Yb(t,e=0,n=1,r,i){t.min=YC(t.min,e,n,r,i),t.max=YC(t.max,e,n,r,i)}function qM(t,{x:e,y:n}){Yb(t.x,e.translate,e.scale,e.originPoint),Yb(t.y,n.translate,n.scale,n.originPoint)}function $q(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Tc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,qM(t,o)),r&&La(s.latestValues)&&Tc(t,s.latestValues))}e.x=qC(e.x),e.y=qC(e.y)}function qC(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Do(t,e){t.min=t.min+e,t.max=t.max+e}function XC(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Yt(t.min,t.max,s);Yb(t,e[n],e[r],o,e.scale)}const zq=["x","scaleX","originX"],Uq=["y","scaleY","originY"];function Tc(t,e){XC(t.x,e,zq),XC(t.y,e,Uq)}function XM(t,e){return KM(Bq(t.getBoundingClientRect(),e))}function Vq(t,e,n){const r=XM(t,n),{scroll:i}=e;return i&&(Do(r.x,i.offset.x),Do(r.y,i.offset.y)),r}const QM=({current:t})=>t?t.ownerDocument.defaultView:null,Hq=new WeakMap;class Wq{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(U0(u,"page").point)},s=(u,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uM(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Ss.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[y];x&&(v=Xr(x)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&_t.update(()=>p(u,d),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=d;if(h&&this.currentDirection===null){this.currentDirection=Gq(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>ui(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new WM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:QM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_t.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!cp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Pq(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&bc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Dq(i.layoutBox,n):this.constraints=!1,this.elastic=jq(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ui(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Fq(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Vq(r,i.root,this.visualElement.getTransformPagePoint());let o=Mq(i.layout.layoutBox,s);if(n){const a=n(Nq(o));this.hasMutatedConstraints=!!a,a&&(o=KM(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ui(u=>{if(!cp(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start($w(e,r,0,n))}stopAnimation(){ui(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ui(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ui(n=>{const{drag:r}=this.getProps();if(!cp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Yt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ui(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Oq({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ui(o=>{if(!cp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Yt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Hq.set(this.visualElement,this);const e=this.visualElement.current,n=so(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Js(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ui(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Gb,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function cp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Gq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Kq extends da{constructor(e){super(e),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new Wq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const QC=t=>(e,n)=>{t&&_t.update(()=>t(e,n))};class Yq extends da{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(e){this.session=new WM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:QC(e),onStart:QC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&_t.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=so(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ZM(){const t=w.useContext(dh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=w.useId();return w.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function qq(){return Xq(w.useContext(dh))}function Xq(t){return t===null?!0:t.isPresent}const mm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ed={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=ZC(t,e.target.x),r=ZC(t,e.target.y);return`${n}% ${r}%`}},Qq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=na.parse(t);if(i.length>5)return r;const s=na.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Yt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Zq extends wr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;sK(Jq),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),mm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||_t.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JM(t){const[e,n]=ZM(),r=w.useContext(Aw);return wr.createElement(Zq,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(KD),isPresent:e,safeToRemove:n})}const Jq={borderRadius:{...ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ed,borderTopRightRadius:ed,borderBottomLeftRadius:ed,borderBottomRightRadius:ed,boxShadow:Qq},e4=["TopLeft","TopRight","BottomLeft","BottomRight"],eX=e4.length,JC=t=>typeof t=="string"?parseFloat(t):t,ek=t=>typeof t=="number"||Ie.test(t);function tX(t,e,n,r,i,s){i?(t.opacity=Yt(0,n.opacity!==void 0?n.opacity:1,nX(r)),t.opacityExit=Yt(e.opacity!==void 0?e.opacity:1,0,rX(r))):s&&(t.opacity=Yt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<eX;o++){const a=`border${e4[o]}Radius`;let l=tk(e,a),c=tk(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ek(l)===ek(c)?(t[a]=Math.max(Yt(JC(l),JC(c),r),0),(Ss.test(c)||Ss.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Yt(e.rotate||0,n.rotate||0,r))}function tk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nX=t4(0,.5,wM),rX=t4(.5,.95,ln);function t4(t,e,n){return r=>r<t?0:r>e?1:n(Of(t,e,r))}function nk(t,e){t.min=e.min,t.max=e.max}function oi(t,e){nk(t.x,e.x),nk(t.y,e.y)}function rk(t,e,n,r,i){return t-=e,t=wg(t,1/n,r),i!==void 0&&(t=wg(t,1/i,r)),t}function iX(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ss.test(e)&&(e=parseFloat(e),e=Yt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Yt(s.min,s.max,r);t===s&&(a-=e),t.min=rk(t.min,e,n,a,i),t.max=rk(t.max,e,n,a,i)}function ik(t,e,[n,r,i],s,o){iX(t,e[n],e[r],e[i],e.scale,s,o)}const sX=["x","scaleX","originX"],oX=["y","scaleY","originY"];function sk(t,e,n,r){ik(t.x,e,sX,n?n.x:void 0,r?r.x:void 0),ik(t.y,e,oX,n?n.y:void 0,r?r.y:void 0)}function ok(t){return t.translate===0&&t.scale===1}function n4(t){return ok(t.x)&&ok(t.y)}function aX(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function r4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function ak(t){return Xr(t.x)/Xr(t.y)}class lX{constructor(){this.members=[]}add(e){zw(this.members,e),e.scheduleRender()}remove(e){if(Uw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lk(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const cX=(t,e)=>t.depth-e.depth;class uX{constructor(){this.children=[],this.isDirty=!1}add(e){zw(this.children,e),this.isDirty=!0}remove(e){Uw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cX),this.isDirty=!1,this.children.forEach(e)}}function dX(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ho(r),t(s-e))};return _t.read(r,!0),()=>ho(r)}function fX(t){window.MotionDebug&&window.MotionDebug.record(t)}function hX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function pX(t,e,n){const r=Pr(t)?t:nu(t);return r.start($w("",r,e,n)),r.animation}const ck=["","X","Y","Z"],mX={visibility:"hidden"},uk=1e3;let gX=0;const Ia={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function i4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=gX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ia.totalNodes=Ia.resolvedTargetDeltas=Ia.recalculatedProjection=0,this.nodes.forEach(xX),this.nodes.forEach(EX),this.nodes.forEach(CX),this.nodes.forEach(bX),fX(Ia)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hX(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=dX(f,250),mm.hasAnimatedSinceResize&&(mm.hasAnimatedSinceResize=!1,this.nodes.forEach(fk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||LX,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!r4(this.targetLayout,p)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const S={...Bw(m,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||fk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dk);return}this.isUpdating||this.nodes.forEach(wX),this.isUpdating=!1,this.nodes.forEach(TX),this.nodes.forEach(yX),this.nodes.forEach(vX),this.clearAllSnapshots();const a=performance.now();Xn.delta=ta(0,1e3/60,a-Xn.timestamp),Xn.timestamp=a,Xn.isProcessing=!0,bv.update.process(Xn),bv.preRender.process(Xn),bv.render.process(Xn),Xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SX),this.sharedNodes.forEach(AX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!n4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||La(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),IX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return fn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Do(a.x,l.offset.x),Do(a.y,l.offset.y)),a}removeElementScroll(o){const a=fn();oi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){oi(a,o);const{scroll:f}=this.root;f&&(Do(a.x,-f.offset.x),Do(a.y,-f.offset.y))}Do(a.x,u.offset.x),Do(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=fn();oi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Tc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),La(u.latestValues)&&Tc(l,u.latestValues)}return La(this.latestValues)&&Tc(l,this.latestValues),l}removeTransform(o){const a=fn();oi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!La(c.latestValues))continue;Kb(c.latestValues)&&c.updateSnapshot();const u=fn(),d=c.measurePageBox();oi(u,d),sk(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return La(this.latestValues)&&sk(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Xn.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),qd(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Iq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),qM(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),qd(this.relativeTargetOrigin,this.target,h.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ia.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Kb(this.parent.latestValues)||YM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;oi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;$q(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=wc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wc(),this.projectionDeltaWithTransform=wc());const m=this.projectionTransform;Yd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=lk(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ia.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=wc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=fn(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,y=this.getStack(),v=!y||y.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(_X));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const T=S/1e3;hk(d.x,o.x,T),hk(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RX(this.relativeTarget,this.relativeTargetOrigin,f,T),x&&aX(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=fn()),oi(x,this.relativeTarget)),m&&(this.animationValues=u,tX(u,c,this.latestValues,T,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{mm.hasAnimatedSinceResize=!0,this.currentAnimation=pX(0,uk,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&s4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||fn();const d=Xr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Xr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}oi(a,l),Tc(a,u),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<ck.length;u++){const d="rotate"+ck[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mX;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pm(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=pm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=lk(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in pg){if(f[m]===void 0)continue;const{correct:y,applyTo:v}=pg[m],b=c.transform==="none"?f[m]:y(f[m],d);if(v){const x=v.length;for(let S=0;S<x;S++)c[v[S]]=b}else c[m]=b}return this.options.layoutId&&(c.pointerEvents=d===this?pm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dk),this.root.sharedNodes.clear()}}}function yX(t){t.updateLayout()}function vX(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ui(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Xr(f);f.min=r[d].min,f.max=f.min+h}):s4(s,n.layoutBox,r)&&ui(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Xr(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const a=wc();Yd(a,r,n.layoutBox);const l=wc();o?Yd(l,t.applyTransform(i,!0),n.measuredBox):Yd(l,r,n.layoutBox);const c=!n4(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=fn();qd(p,n.layoutBox,f.layoutBox);const m=fn();qd(m,r,h.layoutBox),r4(p,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xX(t){Ia.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SX(t){t.clearSnapshot()}function dk(t){t.clearMeasurements()}function wX(t){t.isLayoutDirty=!1}function TX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EX(t){t.resolveTargetDelta()}function CX(t){t.calcProjection()}function kX(t){t.resetRotation()}function AX(t){t.removeLeadSnapshot()}function hk(t,e,n){t.translate=Yt(e.translate,0,n),t.scale=Yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pk(t,e,n,r){t.min=Yt(e.min,n.min,r),t.max=Yt(e.max,n.max,r)}function RX(t,e,n,r){pk(t.x,e.x,n.x,r),pk(t.y,e.y,n.y,r)}function _X(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LX={duration:.45,ease:[.4,0,.1,1]},mk=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),gk=mk("applewebkit/")&&!mk("chrome/")?Math.round:ln;function yk(t){t.min=gk(t.min),t.max=gk(t.max)}function IX(t){yk(t.x),yk(t.y)}function s4(t,e,n){return t==="position"||t==="preserve-aspect"&&!Wb(ak(e),ak(n),.2)}const PX=i4({attachResizeListener:(t,e)=>Js(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Iv={current:void 0},o4=i4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Iv.current){const t=new PX({});t.mount(window),t.setOptions({layoutScroll:!0}),Iv.current=t}return Iv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DX={pan:{Feature:Yq},drag:{Feature:Kq,ProjectionNode:o4,MeasureLayout:JM}},MX=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function OX(t){const e=MX.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function qb(t,e,n=1){const[r,i]=OX(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return zM(o)?parseFloat(o):o}else return Nb(i)?qb(i,e,n+1):i}function FX(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Nb(s))return;const o=qb(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Nb(s))continue;const o=qb(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const jX=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),a4=t=>jX.has(t),NX=t=>Object.keys(t).some(a4),vk=t=>t===Al||t===Ie,xk=(t,e)=>parseFloat(t.split(", ")[e]),bk=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return xk(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?xk(s[1],t):0}},BX=new Set(["x","y","z"]),$X=fh.filter(t=>!BX.has(t));function zX(t){const e=[];return $X.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ru={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bk(4,13),y:bk(5,14)};ru.translateX=ru.x;ru.translateY=ru.y;const UX=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=ru[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=ru[c](l,s)}),t},VX=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(a4);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=Ju(u);const f=e[l];let h;if(gg(f)){const p=f.length,m=f[0]===null?1:0;u=f[m],d=Ju(u);for(let y=m;y<p&&f[y]!==null;y++)h?yg(Ju(f[y])===h):h=Ju(f[y])}else h=Ju(f);if(d!==h)if(vk(d)&&vk(h)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&h===Ie&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(h!=null&&h.transform)&&(u===0||f===0)?u===0?c.set(h.transform(u)):e[l]=d.transform(f):(o||(s=zX(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=UX(e,t,a);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),N0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function HX(t,e,n,r){return NX(e)?VX(t,e,n,r):{target:e,transitionEnd:r}}const WX=(t,e,n,r)=>{const i=FX(t,e,r);return e=i.target,r=i.transitionEnd,HX(t,e,n,r)},Xb={current:null},l4={current:!1};function GX(){if(l4.current=!0,!!N0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xb.current=t.matches;t.addListener(e),e()}else Xb.current=!1}function KX(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Pr(s))t.addValue(i,s),Sg(r)&&r.add(i);else if(Pr(o))t.addValue(i,nu(s,{owner:t})),Sg(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,nu(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Sk=new WeakMap,c4=Object.keys(Mf),YX=c4.length,wk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qX=kw.length;class XX{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_t.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=$0(n),this.isVariantNode=GD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];a[d]!==void 0&&Pr(f)&&(f.set(a[d],!1),Sg(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Sk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),l4.current||GX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sk.delete(this.current),this.projection&&this.projection.unmount(),ho(this.notifyUpdate),ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=kl.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&_t.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<YX;l++){const c=c4[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:h}=Mf[c];f&&(o=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),h&&(a=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&bc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:h})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wk.length;r++){const i=wk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=KX(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qX;r++){const i=kw[r],s=this.props[i];(Df(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=nu(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Mw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class u4 extends XX{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=fq(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){uq(this,r,o);const a=WX(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function QX(t){return window.getComputedStyle(t)}class ZX extends u4{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(kl.has(n)){const r=Nw(n);return r&&r.default||0}else{const r=QX(e),i=(XD(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XM(e,n)}build(e,n,r,i){_w(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Dw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){nM(e,n,r,i)}}class JX extends u4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kl.has(n)){const r=Nw(n);return r&&r.default||0}return n=rM.has(n)?n:Ew(n),e.getAttribute(n)}measureInstanceViewportBox(){return fn()}scrapeMotionValuesFromProps(e,n){return sM(e,n)}build(e,n,r,i){Iw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){iM(e,n,r,i)}mount(e){this.isSVGTag=Pw(e.tagName),super.mount(e)}}const eQ=(t,e)=>Rw(t)?new JX(e,{enableHardwareAcceleration:!1}):new ZX(e,{enableHardwareAcceleration:!0}),tQ={layout:{ProjectionNode:o4,MeasureLayout:JM}},nQ={...Aq,...YK,...DX,...tQ},_s=rK((t,e)=>OK(t,e,nQ,eQ));function d4(){const t=w.useRef(!1);return Tw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function rQ(){const t=d4(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>_t.postRender(r),[r]),e]}class iQ extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sQ({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),w.createElement(iQ,{isPresent:e,childRef:r,sizeRef:i},w.cloneElement(t,{ref:r}))}const Pv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=oM(oQ),l=w.useId(),c=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return w.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=w.createElement(sQ,{isPresent:n},t)),w.createElement(dh.Provider,{value:c},t)};function oQ(){return new Map}function aQ(t){return w.useEffect(()=>()=>t(),[])}const Pa=t=>t.key||"";function lQ(t,e){t.forEach(n=>{const r=Pa(n);e.set(r,n)})}function cQ(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const fa=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=w.useContext(Aw).forceRender||rQ()[0],l=d4(),c=cQ(t);let u=c;const d=w.useRef(new Map).current,f=w.useRef(u),h=w.useRef(new Map).current,p=w.useRef(!0);if(Tw(()=>{p.current=!1,lQ(c,h),f.current=u}),aQ(()=>{p.current=!0,h.clear(),d.clear()}),p.current)return w.createElement(w.Fragment,null,u.map(b=>w.createElement(Pv,{key:Pa(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},b)));u=[...u];const m=f.current.map(Pa),y=c.map(Pa),v=m.length;for(let b=0;b<v;b++){const x=m[b];y.indexOf(x)===-1&&!d.has(x)&&d.set(x,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((b,x)=>{if(y.indexOf(x)!==-1)return;const S=h.get(x);if(!S)return;const T=m.indexOf(x);let C=b;if(!C){const E=()=>{d.delete(x);const k=Array.from(h.keys()).filter(A=>!y.includes(A));if(k.forEach(A=>h.delete(A)),f.current=c.filter(A=>{const R=Pa(A);return R===x||k.includes(R)}),!d.size){if(l.current===!1)return;a(),r&&r()}};C=w.createElement(Pv,{key:Pa(S),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:s,mode:o},S),d.set(x,C)}u.splice(T,0,C)}),u=u.map(b=>{const x=b.key;return d.has(x)?b:w.createElement(Pv,{key:Pa(b),isPresent:!0,presenceAffectsLayout:s,mode:o},b)}),w.createElement(w.Fragment,null,d.size?u:u.map(b=>w.cloneElement(b)))},uQ=(t,e)=>t.find(n=>n.id===e);function Tk(t,e){const n=f4(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function f4(t,e){for(const[n,r]of Object.entries(t))if(uQ(r,e))return n}function dQ(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function fQ(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}var hQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pQ=AD(function(t){return hQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),mQ=pQ,gQ=function(e){return e!=="theme"},Ek=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?mQ:gQ},Ck=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},yQ=!1,vQ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return DD(n,r,i),RG(function(){return MD(n,r,i)}),null},xQ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Ck(e,n,r),l=a||Ek(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,h=1;h<f;h++)d.push(u[h],u[0][h])}var p=bw(function(m,y,v){var b=c&&m.as||i,x="",S=[],T=m;if(m.theme==null){T={};for(var C in m)T[C]=m[C];T.theme=w.useContext(Pf)}typeof m.className=="string"?x=xG(y.registered,S,m.className):m.className!=null&&(x=m.className+" ");var E=xw(d.concat(S),y.registered,T);x+=y.key+"-"+E.name,o!==void 0&&(x+=" "+o);var k=c&&a===void 0?Ek(b):l,A={};for(var R in m)c&&R==="as"||k(R)&&(A[R]=m[R]);return A.className=x,v&&(A.ref=v),w.createElement(w.Fragment,null,w.createElement(vQ,{cache:y,serialized:E,isStringTag:typeof b=="string"}),w.createElement(b,A))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return o===void 0&&yQ?"NO_COMPONENT_SELECTOR":"."+o}}),p.withComponent=function(m,y){return t(m,gl({},n,y,{shouldForwardProp:Ck(p,y,!0)})).apply(void 0,d)},p}},bQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Qb=xQ.bind();bQ.forEach(function(t){Qb[t]=Qb(t)});const SQ=new Set([...K$,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),wQ=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function TQ(t){return(wQ.has(t)||!SQ.has(t))&&t[0]!=="_"}const EQ=KB(Qb),CQ=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,[a]=JB(o,q$),l=Hr(t,e),c=PB({},i,l,iw(a),s),u=sD(c)(e.theme);return r?[u,r]:u};function Dv(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=TQ);const i=CQ({baseStyle:n}),s=EQ(t,r)(i);return w.forwardRef(function(l,c){const{children:u,...d}=l,{colorMode:f,forced:h}=Rs(),p=h?f:void 0;return w.createElement(s,{ref:c,"data-theme":p,...d},u)})}function kQ(){const t=new Map;return new Proxy(Dv,{apply(e,n,r){return Dv(...r)},get(e,n){return t.has(n)||t.set(n,Dv(n)),t.get(n)}})}const ce=kQ(),AQ={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},h4=w.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=AQ,toastSpacing:u="0.5rem"}=t,[d,f]=w.useState(a),h=qq();Zc(()=>{h||r==null||r()},[h]),Zc(()=>{f(a)},[a]);const p=()=>f(null),m=()=>f(a),y=()=>{h&&i()};w.useEffect(()=>{h&&s&&i()},[h,s,i]),f$(y,d);const v=w.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l}),[l,u]),b=w.useMemo(()=>dQ(o),[o]);return g.jsx(_s.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:m,custom:{position:o},style:b,children:g.jsx(ce.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:v,children:Hr(n,{id:e,onClose:y})})})});h4.displayName="ToastComponent";function ge(t){return w.forwardRef(t)}var RQ=typeof Element<"u",_Q=typeof Map=="function",LQ=typeof Set=="function",IQ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function gm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!gm(t[r],e[r]))return!1;return!0}var s;if(_Q&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!gm(r.value[1],e.get(r.value[0])))return!1;return!0}if(LQ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(IQ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(RQ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!gm(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var PQ=function(e,n){try{return gm(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const DQ=xu(PQ);function ha(){const t=w.useContext(Pf);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function p4(){const t=Rs(),e=ha();return{...t,theme:e}}function MQ(t,e,n){if(e==null)return e;const r=i=>{var s,o;return(o=(s=t.__breakpoints)==null?void 0:s.asArray)==null?void 0:o[i]};return r(e)??r(n)??n}function OQ(t,e,n){if(e==null)return e;const r=i=>{var s,o;return(o=(s=t.__cssMap)==null?void 0:s[i])==null?void 0:o.value};return r(e)??r(n)??n}function FQ(t,e,n){const r=ha();return m4(t,e,n)(r)}function m4(t,e,n){const r=Array.isArray(e)?e:[e],i=Array.isArray(n)?n:[n];return s=>{const o=i.filter(Boolean),a=r.map((l,c)=>{if(t==="breakpoints")return MQ(s,l,o[c]??l);const u=`${t}.${l}`;return OQ(s,u,o[c]??l)});return Array.isArray(e)?a:a[0]}}function g4(t,e={}){const{styleConfig:n,...r}=e,{theme:i,colorMode:s}=p4(),o=t?qP(i,`components.${t}`):void 0,a=n||o,l=yi({theme:i,colorMode:s},(a==null?void 0:a.defaultProps)??{},iw(Cu(r,["children"])),(u,d)=>u?void 0:d),c=w.useRef({});if(a){const d=o7(a)(l);DQ(c.current,d)||(c.current=d)}return c.current}function Or(t,e={}){return g4(t,e)}function Xi(t,e={}){return g4(t,e)}const kk={path:g.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[g.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),g.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),g.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Jn=ge((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=t,u=Re("chakra-icon",a),d=Or("Icon",t),f={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...d},h={ref:e,focusable:s,className:u,__css:f},p=r??kk.viewBox;if(n&&typeof n!="string")return g.jsx(ce.svg,{as:n,...h,...c});const m=o??kk.path;return g.jsx(ce.svg,{verticalAlign:"middle",viewBox:p,...h,...c,children:m})});Jn.displayName="Icon";function jQ(t){return g.jsx(Jn,{viewBox:"0 0 24 24",...t,children:g.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function NQ(t){return g.jsx(Jn,{viewBox:"0 0 24 24",...t,children:g.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function Ak(t){return g.jsx(Jn,{viewBox:"0 0 24 24",...t,children:g.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const BQ=Cl({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Mn=ge((t,e)=>{const n=Or("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=Qt(t),c=Re("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${BQ} ${s} linear infinite`,...n};return g.jsx(ce.div,{ref:e,__css:u,className:c,...l,children:r&&g.jsx(ce.span,{srOnly:!0,children:r})})});Mn.displayName="Spinner";const[$Q,Hw]=dn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[zQ,Ww]=dn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),y4={info:{icon:NQ,colorScheme:"blue"},warning:{icon:Ak,colorScheme:"orange"},success:{icon:jQ,colorScheme:"green"},error:{icon:Ak,colorScheme:"red"},loading:{icon:Mn,colorScheme:"blue"}};function UQ(t){return y4[t].colorScheme}function VQ(t){return y4[t].icon}const v4=ge(function(e,n){const{status:r="info",addRole:i=!0,...s}=Qt(e),o=e.colorScheme??UQ(r),a=Xi("Alert",{...e,colorScheme:o}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return g.jsx($Q,{value:{status:r},children:g.jsx(zQ,{value:a,children:g.jsx(ce.div,{"data-status":r,role:i?"alert":void 0,ref:n,...s,className:Re("chakra-alert",e.className),__css:l})})})});v4.displayName="Alert";function x4(t){const{status:e}=Hw(),n=VQ(e),r=Ww(),i=e==="loading"?r.spinner:r.icon;return g.jsx(ce.span,{display:"inherit","data-status":e,...t,className:Re("chakra-alert__icon",t.className),__css:i,children:t.children||g.jsx(n,{h:"100%",w:"100%"})})}x4.displayName="AlertIcon";const b4=ge(function(e,n){const r=Ww(),{status:i}=Hw();return g.jsx(ce.div,{ref:n,"data-status":i,...e,className:Re("chakra-alert__title",e.className),__css:r.title})});b4.displayName="AlertTitle";const S4=ge(function(e,n){const{status:r}=Hw(),i=Ww(),s={display:"inline",...i.description};return g.jsx(ce.div,{ref:n,"data-status":r,...e,className:Re("chakra-alert__desc",e.className),__css:s})});S4.displayName="AlertDescription";function HQ(t){return g.jsx(Jn,{focusable:"false","aria-hidden":!0,...t,children:g.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const Gw=ge(function(e,n){const r=Or("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=Qt(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return g.jsx(ce.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a,children:i||g.jsx(HQ,{width:"1em",height:"1em"})})});Gw.displayName="CloseButton";const WQ=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,colorScheme:l,icon:c}=t,u=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return g.jsxs(v4,{addRole:!1,status:e,variant:n,id:u==null?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[g.jsx(x4,{children:c}),g.jsxs(ce.div,{flex:"1",maxWidth:"100%",children:[i&&g.jsx(b4,{id:u==null?void 0:u.title,children:i}),a&&g.jsx(S4,{id:u==null?void 0:u.description,display:"block",children:a})]}),s&&g.jsx(Gw,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function w4(t={}){const{render:e,toastComponent:n=WQ}=t;return i=>typeof e=="function"?e({...i,...t}):g.jsx(n,{...i,...t})}const GQ={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},hs=KQ(GQ);function KQ(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=YQ(i,s),{position:a,id:l}=o;return r(c=>{const d=a.includes("top")?[o,...c[a]??[]]:[...c[a]??[],o];return{...c,[a]:d}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:c}=Tk(a,i);return l&&c!==-1&&(a[l][c]={...a[l][c],...s,message:w4(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=s[c].map(u=>({...u,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=f4(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>!!Tk(hs.getState(),i).position}}let Rk=0;function YQ(t,e={}){Rk+=1;const n=e.id??Rk,r=e.position??"bottom";return{id:n,message:t,position:r,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>hs.removeToast(String(n),r),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}const[T4,qQ]=dn({strict:!1,name:"PortalContext"}),Kw="chakra-portal",XQ=".chakra-portal",QQ=t=>g.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),ZQ=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=w.useState(null),s=w.useRef(null),[,o]=w.useState({});w.useEffect(()=>o({}),[]);const a=qQ(),l=WG();Xo(()=>{if(!r)return;const u=r.ownerDocument,d=e?a??u.body:u.body;if(!d)return;s.current=u.createElement("div"),s.current.className=Kw,d.appendChild(s.current),o({});const f=s.current;return()=>{d.contains(f)&&d.removeChild(f)}},[r]);const c=l!=null&&l.zIndex?g.jsx(QQ,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?ah.createPortal(g.jsx(T4,{value:s.current,children:c}),s.current):g.jsx("span",{ref:u=>{u&&i(u)}})},JQ=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),o=w.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=Kw),l},[i]),[,a]=w.useState({});return Xo(()=>a({}),[]),Xo(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?ah.createPortal(g.jsx(T4,{value:r?o:null,children:e}),o):null};function Au(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?g.jsx(JQ,{containerRef:n,...r}):g.jsx(ZQ,{...r})}Au.className=Kw;Au.selector=XQ;Au.displayName="Portal";const[eZ,tZ]=dn({name:"ToastOptionsContext",strict:!1}),nZ=t=>{const e=w.useSyncExternalStore(hs.subscribe,hs.getState,hs.getState),{motionVariants:n,component:r=h4,portalProps:i,animatePresenceProps:s}=t,a=Object.keys(e).map(l=>{const c=e[l];return g.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${l}`,id:`chakra-toast-manager-${l}`,style:fQ(l),children:g.jsx(fa,{...s,initial:!1,children:c.map(u=>g.jsx(r,{motionVariants:n,...u},u.id))})},l)});return g.jsx(Au,{...i,children:a})},rZ=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return g.jsxs(KG,{theme:r,...s,children:[g.jsx(eZ,{value:i==null?void 0:i.defaultOptions,children:n}),g.jsx(nZ,{...i})]})},iZ=rZ(bD);function _k(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const sZ=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function Lk(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function Ik(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}const Mv=typeof window<"u"?w.useLayoutEffect:w.useEffect,Pk=t=>t;var oZ=Object.defineProperty,aZ=(t,e,n)=>e in t?oZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,en=(t,e,n)=>(aZ(t,typeof e!="symbol"?e+"":e,n),n);class lZ{constructor(){en(this,"descendants",new Map),en(this,"register",e=>{if(e!=null)return sZ(e)?this.registerNode(e):n=>{this.registerNode(n,e)}}),en(this,"unregister",e=>{this.descendants.delete(e);const n=_k(Array.from(this.descendants.keys()));this.assignIndex(n)}),en(this,"destroy",()=>{this.descendants.clear()}),en(this,"assignIndex",e=>{this.descendants.forEach(n=>{const r=e.indexOf(n.node);n.index=r,n.node.dataset.index=n.index.toString()})}),en(this,"count",()=>this.descendants.size),en(this,"enabledCount",()=>this.enabledValues().length),en(this,"values",()=>Array.from(this.descendants.values()).sort((n,r)=>n.index-r.index)),en(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),en(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),en(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),en(this,"first",()=>this.item(0)),en(this,"firstEnabled",()=>this.enabledItem(0)),en(this,"last",()=>this.item(this.descendants.size-1)),en(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),en(this,"indexOf",e=>{var n;return e?((n=this.descendants.get(e))==null?void 0:n.index)??-1:-1}),en(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(n=>n.node.isSameNode(e))),en(this,"next",(e,n=!0)=>{const r=Lk(e,this.count(),n);return this.item(r)}),en(this,"nextEnabled",(e,n=!0)=>{const r=this.item(e);if(!r)return;const i=this.enabledIndexOf(r.node),s=Lk(i,this.enabledCount(),n);return this.enabledItem(s)}),en(this,"prev",(e,n=!0)=>{const r=Ik(e,this.count()-1,n);return this.item(r)}),en(this,"prevEnabled",(e,n=!0)=>{const r=this.item(e);if(!r)return;const i=this.enabledIndexOf(r.node),s=Ik(i,this.enabledCount()-1,n);return this.enabledItem(s)}),en(this,"registerNode",(e,n)=>{if(!e||this.descendants.has(e))return;const r=Array.from(this.descendants.keys()).concat(e),i=_k(r);n!=null&&n.disabled&&(n.disabled=!!n.disabled);const s={node:e,index:-1,...n};this.descendants.set(e,s),this.assignIndex(i)})}}function E4(){const[t,e]=dn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,e,()=>{const i=w.useRef(new lZ);return Mv(()=>()=>i.current.destroy()),i.current},i=>{const s=e(),[o,a]=w.useState(-1),l=w.useRef(null);Mv(()=>()=>{l.current&&s.unregister(l.current)},[]),Mv(()=>{if(!l.current)return;const u=Number(l.current.dataset.index);o!=u&&!Number.isNaN(u)&&a(u)});const c=Pk(i?s.register(i):s.register);return{descendants:s,index:o,enabledIndex:s.enabledIndexOf(l.current),register:rr(c,l)}}]}const Wa={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},td={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function Zb(t){switch((t==null?void 0:t.direction)??"right"){case"right":return td.slideRight;case"left":return td.slideLeft;case"bottom":return td.slideDown;case"top":return td.slideUp;default:return td.slideRight}}const rl={enter:{duration:.2,ease:Wa.easeOut},exit:{duration:.1,ease:Wa.easeIn}},Yi={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},cZ=t=>t!=null&&parseInt(t.toString(),10)>0,Dk={exit:{height:{duration:.2,ease:Wa.ease},opacity:{duration:.3,ease:Wa.ease}},enter:{height:{duration:.3,ease:Wa.ease},opacity:{duration:.4,ease:Wa.ease}}},uZ={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:i})=>({...t&&{opacity:cZ(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(n==null?void 0:n.exit)??Yi.exit(Dk.exit,i)}),enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:i})=>({...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(n==null?void 0:n.enter)??Yi.enter(Dk.enter,i)})},iu=w.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:s=0,endingHeight:o="auto",style:a,className:l,transition:c,transitionEnd:u,animatePresenceProps:d,...f}=t,[h,p]=w.useState(!1);w.useEffect(()=>{const x=setTimeout(()=>{p(!0)});return()=>clearTimeout(x)},[]),e$({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const m=parseFloat(s.toString())>0,y={startingHeight:s,endingHeight:o,animateOpacity:i,transition:h?c:{enter:{duration:0}},transitionEnd:{enter:u==null?void 0:u.enter,exit:r?u==null?void 0:u.exit:{...u==null?void 0:u.exit,display:m?"block":"none"}}},v=r?n:!0,b=n||r?"enter":"exit";return g.jsx(fa,{...d,initial:!1,custom:y,children:v&&g.jsx(_s.div,{ref:e,...f,className:Re("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:y,variants:uZ,initial:r?"exit":!1,animate:b,exit:"exit"})})});iu.displayName="Collapse";const[dZ,fZ]=dn({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function hZ(t){const e=t.trim().split(" "),n=e[0]??"",r=e.length>1?e[e.length-1]:"";return n&&r?`${n.charAt(0)}${r.charAt(0)}`:n.charAt(0)}function C4(t){const{name:e,getInitials:n,...r}=t,i=fZ();return g.jsx(ce.div,{role:"img","aria-label":e,...r,__css:i.label,children:e?n==null?void 0:n(e):null})}C4.displayName="AvatarName";const k4=t=>g.jsxs(ce.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[g.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),g.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function A4(t){const{loading:e,src:n,srcSet:r,onLoad:i,onError:s,crossOrigin:o,sizes:a,ignoreFallback:l}=t,[c,u]=w.useState("pending");w.useEffect(()=>{u(n?"loading":"pending")},[n]);const d=w.useRef(),f=w.useCallback(()=>{if(!n)return;h();const p=new Image;p.src=n,o&&(p.crossOrigin=o),r&&(p.srcset=r),a&&(p.sizes=a),e&&(p.loading=e),p.onload=m=>{h(),u("loaded"),i==null||i(m)},p.onerror=m=>{h(),u("failed"),s==null||s(m)},d.current=p},[n,o,r,a,i,s,e]),h=()=>{d.current&&(d.current.onload=null,d.current.onerror=null,d.current=null)};return Xo(()=>{if(!l)return c==="loading"&&f(),()=>{h()}},[c,f,l]),l?"loaded":c}const pZ=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function R4(t){const{src:e,srcSet:n,onError:r,onLoad:i,getInitials:s,name:o,borderRadius:a,loading:l,iconLabel:c,icon:u=g.jsx(k4,{}),ignoreFallback:d,referrerPolicy:f,crossOrigin:h}=t,m=A4({src:e,onError:r,crossOrigin:h,ignoreFallback:d})==="loaded";return!e||!m?o?g.jsx(C4,{className:"chakra-avatar__initials",getInitials:s,name:o}):w.cloneElement(u,{role:"img","aria-label":c}):g.jsx(ce.img,{src:e,srcSet:n,alt:o??c,onLoad:i,referrerPolicy:f,crossOrigin:h??void 0,className:"chakra-avatar__img",loading:l,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:a}})}R4.displayName="AvatarImage";const mZ={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},Jb=ge((t,e)=>{const n=Xi("Avatar",t),[r,i]=w.useState(!1),{src:s,srcSet:o,name:a,showBorder:l,borderRadius:c="full",onError:u,onLoad:d,getInitials:f=hZ,icon:h=g.jsx(k4,{}),iconLabel:p=" avatar",loading:m,children:y,borderColor:v,ignoreFallback:b,crossOrigin:x,referrerPolicy:S,...T}=Qt(t),C={borderRadius:c,borderWidth:l?"2px":void 0,...mZ,...n.container};return v&&(C.borderColor=v),g.jsx(ce.span,{ref:e,...T,className:Re("chakra-avatar",t.className),"data-loaded":He(r),__css:C,children:g.jsxs(dZ,{value:n,children:[g.jsx(R4,{src:s,srcSet:o,loading:m,onLoad:ft(d,()=>{i(!0)}),onError:u,getInitials:f,name:a,borderRadius:c,icon:h,iconLabel:p,ignoreFallback:b,crossOrigin:x,referrerPolicy:S}),y]})})});Jb.displayName="Avatar";const Ei=ge(function(e,n){const r=Or("Badge",e),{className:i,...s}=Qt(e);return g.jsx(ce.span,{ref:n,className:Re("chakra-badge",e.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});Ei.displayName="Badge";const se=ce("div");se.displayName="Box";const _4=ge(function(e,n){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return g.jsx(se,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});_4.displayName="Square";const L4=ge(function(e,n){const{size:r,...i}=e;return g.jsx(_4,{size:r,ref:n,borderRadius:"9999px",...i})});L4.displayName="Circle";const[Fme,gZ]=dn({strict:!1,name:"ButtonGroupContext"});function wd(t){const{children:e,className:n,...r}=t,i=w.isValidElement(e)?w.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=Re("chakra-button__icon",n);return g.jsx(ce.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}wd.displayName="ButtonIcon";function e1(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=g.jsx(Mn,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,l=Re("chakra-button__spinner",s),c=n==="start"?"marginEnd":"marginStart",u=w.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return g.jsx(ce.div,{className:l,...a,__css:u,children:i})}e1.displayName="ButtonSpinner";function yZ(t){const[e,n]=w.useState(!t);return{ref:w.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}const he=ge((t,e)=>{const n=gZ(),r=Or("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:u,iconSpacing:d="0.5rem",type:f,spinner:h,spinnerPlacement:p="start",className:m,as:y,shouldWrapChildren:v,...b}=Qt(t),x=w.useMemo(()=>{const E={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:E}}},[r,n]),{ref:S,type:T}=yZ(y),C={rightIcon:c,leftIcon:l,iconSpacing:d,children:a,shouldWrapChildren:v};return g.jsxs(ce.button,{disabled:i||s,ref:c$(e,S),as:y,type:f??T,"data-active":He(o),"data-loading":He(s),__css:x,className:Re("chakra-button",m),...b,children:[s&&p==="start"&&g.jsx(e1,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:d,children:h}),s?u||g.jsx(ce.span,{opacity:0,children:g.jsx(Mk,{...C})}):g.jsx(Mk,{...C}),s&&p==="end"&&g.jsx(e1,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:d,children:h})]})});he.displayName="Button";function Mk(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i,shouldWrapChildren:s}=t;return s?g.jsxs("span",{style:{display:"contents"},children:[e&&g.jsx(wd,{marginEnd:i,children:e}),r,n&&g.jsx(wd,{marginStart:i,children:n})]}):g.jsxs(g.Fragment,{children:[e&&g.jsx(wd,{marginEnd:i,children:e}),r,n&&g.jsx(wd,{marginStart:i,children:n})]})}const Xe=ge((t,e)=>{const{icon:n,children:r,isRound:i,"aria-label":s,...o}=t,a=n||r,l=w.isValidElement(a)?w.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return g.jsx(he,{px:"0",py:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o,children:l})});Xe.displayName="IconButton";const[vZ,xZ]=UG("Card"),Ok=ge(function(e,n){const{className:r,children:i,direction:s="column",justify:o,align:a,...l}=Qt(e),c=Xi("Card",e);return g.jsx(ce.div,{ref:n,className:Re("chakra-card",r),__css:{display:"flex",flexDirection:s,justifyContent:o,alignItems:a,position:"relative",minWidth:0,wordWrap:"break-word",...c.container},...l,children:g.jsx(vZ,{value:c,children:i})})}),Fk=ge(function(e,n){const{className:r,...i}=e,s=xZ();return g.jsx(ce.div,{ref:n,className:Re("chakra-card__body",r),__css:s.body,...i})}),Hn=ce("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Hn.displayName="Center";const bZ={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};ge(function(e,n){const{axis:r="both",...i}=e;return g.jsx(ce.div,{ref:n,__css:bZ[r],...i,position:"absolute"})});var SZ=()=>typeof document<"u",jk=!1,gh=null,yl=!1,t1=!1,n1=new Set;function Yw(t,e){n1.forEach(n=>n(t,e))}var wZ=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function TZ(t){return!(t.metaKey||!wZ&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Nk(t){yl=!0,TZ(t)&&(gh="keyboard",Yw("keyboard",t))}function Vl(t){if(gh="pointer",t.type==="mousedown"||t.type==="pointerdown"){yl=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let n=!1;try{n=e.matches(":focus-visible")}catch{}if(n)return;Yw("pointer",t)}}function EZ(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function CZ(t){EZ(t)&&(yl=!0,gh="virtual")}function kZ(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!yl&&!t1&&(gh="virtual",Yw("virtual",t)),yl=!1,t1=!1)}function AZ(){yl=!1,t1=!0}function Bk(){return gh!=="pointer"}function RZ(){if(!SZ()||jk)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){yl=!0,t.apply(this,n)},document.addEventListener("keydown",Nk,!0),document.addEventListener("keyup",Nk,!0),document.addEventListener("click",CZ,!0),window.addEventListener("focus",kZ,!0),window.addEventListener("blur",AZ,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Vl,!0),document.addEventListener("pointermove",Vl,!0),document.addEventListener("pointerup",Vl,!0)):(document.addEventListener("mousedown",Vl,!0),document.addEventListener("mousemove",Vl,!0),document.addEventListener("mouseup",Vl,!0)),jk=!0}function _Z(t){RZ(),t(Bk());const e=()=>t(Bk());return n1.add(e),()=>{n1.delete(e)}}const[LZ,I4]=dn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[IZ,H0]=dn({strict:!1,name:"FormControlContext"});function PZ(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:s,...o}=t,a=w.useId(),l=e||`field-${a}`,c=`${l}-label`,u=`${l}-feedback`,d=`${l}-helptext`,[f,h]=w.useState(!1),[p,m]=w.useState(!1),[y,v]=w.useState(!1),b=w.useCallback((E={},k=null)=>({id:d,...E,ref:rr(k,A=>{A&&m(!0)})}),[d]),x=w.useCallback((E={},k=null)=>({...E,ref:k,"data-focus":He(y),"data-disabled":He(i),"data-invalid":He(r),"data-readonly":He(s),id:E.id!==void 0?E.id:c,htmlFor:E.htmlFor!==void 0?E.htmlFor:l}),[l,i,y,r,s,c]),S=w.useCallback((E={},k=null)=>({id:u,...E,ref:rr(k,A=>{A&&h(!0)}),"aria-live":"polite"}),[u]),T=w.useCallback((E={},k=null)=>({...E,...o,ref:k,role:"group","data-focus":He(y),"data-disabled":He(i),"data-invalid":He(r),"data-readonly":He(s)}),[o,i,y,r,s]),C=w.useCallback((E={},k=null)=>({...E,ref:k,role:"presentation","aria-hidden":!0,children:E.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!y,onFocus:()=>v(!0),onBlur:()=>v(!1),hasFeedbackText:f,setHasFeedbackText:h,hasHelpText:p,setHasHelpText:m,id:l,labelId:c,feedbackId:u,helpTextId:d,htmlProps:o,getHelpTextProps:b,getErrorMessageProps:S,getRootProps:T,getLabelProps:x,getRequiredIndicatorProps:C}}const pi=ge(function(e,n){const r=Xi("Form",e),i=Qt(e),{getRootProps:s,htmlProps:o,...a}=PZ(i),l=Re("chakra-form-control",e.className);return g.jsx(IZ,{value:a,children:g.jsx(LZ,{value:r,children:g.jsx(ce.div,{...s({},n),className:l,__css:r.container})})})});pi.displayName="FormControl";const DZ=ge(function(e,n){const r=H0(),i=I4(),s=Re("chakra-form__helper-text",e.className);return g.jsx(ce.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:i.helperText,className:s})});DZ.displayName="FormHelperText";function qw(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...s}=P4(t);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":ev(n),"aria-required":ev(i),"aria-readonly":ev(r)}}function P4(t){const e=H0(),{id:n,disabled:r,readOnly:i,required:s,isRequired:o,isInvalid:a,isReadOnly:l,isDisabled:c,onFocus:u,onBlur:d,...f}=t,h=t["aria-describedby"]?[t["aria-describedby"]]:[];return e!=null&&e.hasFeedbackText&&(e!=null&&e.isInvalid)&&h.push(e.feedbackId),e!=null&&e.hasHelpText&&h.push(e.helpTextId),{...f,"aria-describedby":h.join(" ")||void 0,id:n??(e==null?void 0:e.id),isDisabled:r??c??(e==null?void 0:e.isDisabled),isReadOnly:i??l??(e==null?void 0:e.isReadOnly),isRequired:s??o??(e==null?void 0:e.isRequired),isInvalid:a??(e==null?void 0:e.isInvalid),onFocus:ft(e==null?void 0:e.onFocus,u),onBlur:ft(e==null?void 0:e.onBlur,d)}}const MZ={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function OZ(t={}){const e=P4(t),{isDisabled:n,isReadOnly:r,isRequired:i,isInvalid:s,id:o,onBlur:a,onFocus:l,"aria-describedby":c}=e,{defaultChecked:u,isChecked:d,isFocusable:f,onChange:h,isIndeterminate:p,name:m,value:y,tabIndex:v=void 0,"aria-label":b,"aria-labelledby":x,"aria-invalid":S,...T}=t,C=Cu(T,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),E=Ki(h),k=Ki(a),A=Ki(l),[R,L]=w.useState(!1),[D,P]=w.useState(!1),[M,j]=w.useState(!1),[F,O]=w.useState(!1);w.useEffect(()=>_Z(L),[]);const B=w.useRef(null),[I,$]=w.useState(!0),[G,Y]=w.useState(!!u),q=d!==void 0,te=q?d:G,ae=w.useCallback(Ee=>{if(r||n){Ee.preventDefault();return}q||Y(te?Ee.currentTarget.checked:p?!0:Ee.currentTarget.checked),E==null||E(Ee)},[r,n,te,q,p,E]);Xo(()=>{B.current&&(B.current.indeterminate=!!p)},[p]),Zc(()=>{n&&P(!1)},[n,P]),Xo(()=>{const Ee=B.current;if(!(Ee!=null&&Ee.form))return;const Ve=()=>{Y(!!u)};return Ee.form.addEventListener("reset",Ve),()=>{var fe;return(fe=Ee.form)==null?void 0:fe.removeEventListener("reset",Ve)}},[]);const le=n&&!f,Te=w.useCallback(Ee=>{Ee.key===" "&&O(!0)},[O]),Fe=w.useCallback(Ee=>{Ee.key===" "&&O(!1)},[O]);Xo(()=>{if(!B.current)return;B.current.checked!==te&&Y(B.current.checked)},[B.current]);const Qe=w.useCallback((Ee={},Ve=null)=>{const fe=Zt=>{D&&Zt.preventDefault(),O(!0)};return{...Ee,ref:Ve,"data-active":He(F),"data-hover":He(M),"data-checked":He(te),"data-focus":He(D),"data-focus-visible":He(D&&R),"data-indeterminate":He(p),"data-disabled":He(n),"data-invalid":He(s),"data-readonly":He(r),"aria-hidden":!0,onMouseDown:ft(Ee.onMouseDown,fe),onMouseUp:ft(Ee.onMouseUp,()=>O(!1)),onMouseEnter:ft(Ee.onMouseEnter,()=>j(!0)),onMouseLeave:ft(Ee.onMouseLeave,()=>j(!1))}},[F,te,n,D,R,M,p,s,r]),it=w.useCallback((Ee={},Ve=null)=>({...Ee,ref:Ve,"data-active":He(F),"data-hover":He(M),"data-checked":He(te),"data-focus":He(D),"data-focus-visible":He(D&&R),"data-indeterminate":He(p),"data-disabled":He(n),"data-invalid":He(s),"data-readonly":He(r)}),[F,te,n,D,R,M,p,s,r]),Me=w.useCallback((Ee={},Ve=null)=>({...C,...Ee,ref:rr(Ve,fe=>{fe&&$(fe.tagName==="LABEL")}),onClick:ft(Ee.onClick,()=>{var fe;I||((fe=B.current)==null||fe.click(),requestAnimationFrame(()=>{var Zt;(Zt=B.current)==null||Zt.focus({preventScroll:!0})}))}),"data-disabled":He(n),"data-checked":He(te),"data-invalid":He(s)}),[C,n,te,s,I]),De=w.useCallback((Ee={},Ve=null)=>({...Ee,ref:rr(B,Ve),type:"checkbox",name:m,value:y,id:o,tabIndex:v,onChange:ft(Ee.onChange,ae),onBlur:ft(Ee.onBlur,k,()=>P(!1)),onFocus:ft(Ee.onFocus,A,()=>P(!0)),onKeyDown:ft(Ee.onKeyDown,Te),onKeyUp:ft(Ee.onKeyUp,Fe),required:i,checked:te,disabled:le,readOnly:r,"aria-label":b,"aria-labelledby":x,"aria-invalid":S?!!S:s,"aria-describedby":c,"aria-disabled":n,style:MZ}),[m,y,o,ae,k,A,Te,Fe,i,te,le,r,b,x,S,s,c,n,v]),bt=w.useCallback((Ee={},Ve=null)=>({...Ee,ref:Ve,onMouseDown:ft(Ee.onMouseDown,FZ),"data-disabled":He(n),"data-checked":He(te),"data-invalid":He(s)}),[te,n,s]);return{state:{isInvalid:s,isFocused:D,isChecked:te,isActive:F,isHovered:M,isIndeterminate:p,isDisabled:n,isReadOnly:r,isRequired:i},getRootProps:Me,getCheckboxProps:Qe,getIndicatorProps:it,getInputProps:De,getLabelProps:bt,htmlProps:C}}function FZ(t){t.preventDefault(),t.stopPropagation()}const go=ge(function(e,n){const{className:r,centerContent:i,...s}=Qt(e),o=Or("Container",e);return g.jsx(ce.div,{ref:n,className:Re("chakra-container",r),...s,__css:{...o,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});go.displayName="Container";const D4=ge(function(e,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:s,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:c,...u}=Or("Divider",e),{className:d,orientation:f="horizontal",__css:h,...p}=Qt(e),m={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||s||a||"1px",width:"100%"}};return g.jsx(ce.hr,{ref:n,"aria-orientation":f,...p,__css:{...u,border:"0",borderColor:c,borderStyle:l,...m[f],...h},className:Re("chakra-divider",d)})});D4.displayName="Divider";function Td(t){return typeof t=="function"}function jZ(...t){return e=>t.reduce((n,r)=>r(n),e)}const NZ=t=>function(...n){let r=[...n],i=n[n.length-1];return IW(i)&&r.length>1?r=r.slice(0,r.length-1):i=t,jZ(...r.map(s=>o=>Td(s)?s(o):$Z(o,s)))(i)},BZ=NZ(bD);function $Z(...t){return yi({},...t,M4)}function M4(t,e,n,r){if((Td(t)||Td(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const s=Td(t)?t(...i):t,o=Td(e)?e(...i):e;return yi({},s,o,M4)};if(em(t)&&em(e))return[...t,...e];if(em(t)&&tr(e))return e}const de=ge(function(e,n){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:c,...u}=e,d={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return g.jsx(ce.div,{ref:n,__css:d,...u})});de.displayName="Flex";function zZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var O4={exports:{}},UZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VZ=UZ,HZ=VZ;function F4(){}function j4(){}j4.resetWarningCache=F4;var WZ=function(){function t(r,i,s,o,a,l){if(l!==HZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j4,resetWarningCache:F4};return n.PropTypes=n,n};O4.exports=WZ();var GZ=O4.exports;const jc=xu(GZ);var r1="data-focus-lock",N4="data-focus-lock-disabled",KZ="data-no-focus-lock",YZ="data-autofocus-inside",qZ="data-no-autofocus";function Ov(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XZ(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var QZ=typeof window<"u"?w.useLayoutEffect:w.useEffect,$k=new WeakMap;function B4(t,e){var n=XZ(null,function(r){return t.forEach(function(i){return Ov(i,r)})});return QZ(function(){var r=$k.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Ov(a,null)}),s.forEach(function(a){i.has(a)||Ov(a,o)})}$k.set(n,t)},[t]),n}var Fv={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},ps=function(){return ps=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ps.apply(this,arguments)};function $4(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZZ(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function z4(t){return t}function U4(t,e){e===void 0&&(e=z4);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Xw(t,e){return e===void 0&&(e=z4),U4(t,e)}function V4(t){t===void 0&&(t={});var e=U4(null);return e.options=ps({async:!0,ssr:!1},t),e}var H4=function(t){var e=t.sideCar,n=$4(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ps({},n))};H4.isSideCarExport=!0;function JZ(t,e){return t.useMedium(e),H4}var W4=Xw({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),G4=Xw(),eJ=Xw(),tJ=V4({async:!0,ssr:typeof document<"u"}),nJ=w.createContext(void 0),rJ=[],Qw=w.forwardRef(function(e,n){var r,i=w.useState(),s=i[0],o=i[1],a=w.useRef(),l=w.useRef(!1),c=w.useRef(null),u=w.useState({}),d=u[1],f=e.children,h=e.disabled,p=h===void 0?!1:h,m=e.noFocusGuards,y=m===void 0?!1:m,v=e.persistentFocus,b=v===void 0?!1:v,x=e.crossFrame,S=x===void 0?!0:x,T=e.autoFocus,C=T===void 0?!0:T;e.allowTextSelection;var E=e.group,k=e.className,A=e.whiteList,R=e.hasPositiveIndices,L=e.shards,D=L===void 0?rJ:L,P=e.as,M=P===void 0?"div":P,j=e.lockProps,F=j===void 0?{}:j,O=e.sideCar,B=e.returnFocus,I=B===void 0?!1:B,$=e.focusOptions,G=e.onActivation,Y=e.onDeactivation,q=w.useState({}),te=q[0],ae=w.useCallback(function(Ve){var fe=Ve.captureFocusRestore;if(!c.current){var Zt,jt=(Zt=document)==null?void 0:Zt.activeElement;c.current=jt,jt!==document.body&&(c.current=fe(jt))}a.current&&G&&G(a.current),l.current=!0,d()},[G]),le=w.useCallback(function(){l.current=!1,Y&&Y(a.current),d()},[Y]),Te=w.useCallback(function(Ve){var fe=c.current;if(fe){var Zt=(typeof fe=="function"?fe():fe)||document.body,jt=typeof I=="function"?I(Zt):I;if(jt){var Nt=typeof jt=="object"?jt:void 0;c.current=null,Ve?Promise.resolve().then(function(){return Zt.focus(Nt)}):Zt.focus(Nt)}}},[I]),Fe=w.useCallback(function(Ve){l.current&&W4.useMedium(Ve)},[]),Qe=G4.useMedium,it=w.useCallback(function(Ve){a.current!==Ve&&(a.current=Ve,o(Ve))},[]),Me=gl((r={},r[N4]=p&&"disabled",r[r1]=E,r),F),De=y!==!0,bt=De&&y!=="tail",yn=B4([n,it]),Ee=w.useMemo(function(){return{observed:a,shards:D,enabled:!p,active:l.current}},[p,l.current,D,s]);return w.createElement(w.Fragment,null,De&&[w.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:Fv}),R?w.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:Fv}):null],!p&&w.createElement(O,{id:te,sideCar:tJ,observed:s,disabled:p,persistentFocus:b,crossFrame:S,autoFocus:C,whiteList:A,shards:D,onActivation:ae,onDeactivation:le,returnFocus:Te,focusOptions:$,noFocusGuards:y}),w.createElement(M,gl({ref:yn},Me,{className:k,onBlur:Qe,onFocus:Fe}),w.createElement(nJ.Provider,{value:Ee},f)),bt&&w.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:Fv}))});Qw.propTypes={};function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},i1(t,e)}function iJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i1(t,e)}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function sJ(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oJ(t){var e=sJ(t,"string");return Ff(e)=="symbol"?e:e+""}function aJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(c){return c.props})),e(o)}var l=function(c){iJ(u,c);function u(){return c.apply(this,arguments)||this}u.peek=function(){return o};var d=u.prototype;return d.componentDidMount=function(){s.push(this),a()},d.componentDidUpdate=function(){a()},d.componentWillUnmount=function(){var h=s.indexOf(this);s.splice(h,1),a()},d.render=function(){return wr.createElement(i,this.props)},u}(w.PureComponent);return aJ(l,"displayName","SideEffect("+n(i)+")"),l}}var Ls=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},vl=function(t){return Array.isArray(t)?t:[t]},K4=function(t){return Array.isArray(t)?t[0]:t},cJ=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},Y4=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},q4=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},uJ=function(t){return t.hasAttribute("inert")},dJ=function(t,e){return!t||q4(t)||!cJ(t)&&!uJ(t)&&e(Y4(t))},X4=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=dJ(e,X4.bind(void 0,t));return t.set(e,r),r},fJ=function(t,e){return t&&!q4(t)?mJ(t)?e(Y4(t)):!1:!0},Q4=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=fJ(e,Q4.bind(void 0,t));return t.set(e,r),r},Z4=function(t){return t.dataset},hJ=function(t){return t.tagName==="BUTTON"},J4=function(t){return t.tagName==="INPUT"},e5=function(t){return J4(t)&&t.type==="radio"},pJ=function(t){return!((J4(t)||hJ(t))&&(t.type==="hidden"||t.disabled))},mJ=function(t){var e=t.getAttribute(qZ);return![!0,"true",""].includes(e)},Zw=function(t){var e;return!!(t&&(!((e=Z4(t))===null||e===void 0)&&e.focusGuard))},s1=function(t){return!Zw(t)},gJ=function(t){return!!t},yJ=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),i=n-r,s=t.index-e.index;if(i){if(!n)return 1;if(!r)return-1}return i||s},vJ=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},Jw=function(t,e,n){return Ls(t).map(function(r,i){var s=vJ(r);return{node:r,index:i,tabIndex:n&&s===-1?(r.dataset||{}).focusGuard?0:-1:s}}).filter(function(r){return!e||r.tabIndex>=0}).sort(yJ)},xJ=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],eT=xJ.join(","),bJ="".concat(eT,", [data-focus-guard]"),t5=function(t,e){return Ls((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?bJ:eT)?[r]:[],t5(r))},[])},SJ=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?su([t.contentDocument.body],e):[t]},su=function(t,e){return t.reduce(function(n,r){var i,s=t5(r,e),o=(i=[]).concat.apply(i,s.map(function(a){return SJ(a,e)}));return n.concat(o,r.parentNode?Ls(r.parentNode.querySelectorAll(eT)).filter(function(a){return a===r}):[])},[])},wJ=function(t){var e=t.querySelectorAll("[".concat(YZ,"]"));return Ls(e).map(function(n){return su([n])}).reduce(function(n,r){return n.concat(r)},[])},tT=function(t,e){return Ls(t).filter(function(n){return X4(e,n)}).filter(function(n){return pJ(n)})},zk=function(t,e){return e===void 0&&(e=new Map),Ls(t).filter(function(n){return Q4(e,n)})},nT=function(t,e,n){return Jw(tT(su(t,n),e),!0,n)},jf=function(t,e){return Jw(tT(su(t),e),!1)},TJ=function(t,e){return tT(wJ(t),e)},il=function(t,e){return t.shadowRoot?il(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:Ls(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?il(i,e):!1}return il(n,e)})},EJ=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},n5=function(t){return t.parentNode?n5(t.parentNode):t},rT=function(t){var e=vl(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(r1);return n.push.apply(n,i?EJ(Ls(n5(r).querySelectorAll("[".concat(r1,'="').concat(i,'"]:not([').concat(N4,'="disabled"])')))):[r]),n},[])},CJ=function(t){try{return t()}catch{return}},Nf=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?Nf(e.shadowRoot):e instanceof HTMLIFrameElement&&CJ(function(){return e.contentWindow.document})?Nf(e.contentWindow.document):e}},kJ=function(t,e){return t===e},AJ=function(t,e){return!!Ls(t.querySelectorAll("iframe")).some(function(n){return kJ(n,e)})},r5=function(t,e){return e===void 0&&(e=Nf(K4(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:rT(t).some(function(n){return il(n,e)||AJ(n,e)})},RJ=function(t){t===void 0&&(t=document);var e=Nf(t);return e?Ls(t.querySelectorAll("[".concat(KZ,"]"))).some(function(n){return il(n,e)}):!1},_J=function(t,e){return e.filter(e5).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},iT=function(t,e){return e5(t)&&t.name?_J(t,e):t},LJ=function(t){var e=new Set;return t.forEach(function(n){return e.add(iT(n,t))}),t.filter(function(n){return e.has(n)})},Uk=function(t){return t[0]&&t.length>1?iT(t[0],t):t[0]},Vk=function(t,e){return t.indexOf(iT(e,t))},o1="NEW_FOCUS",IJ=function(t,e,n,r,i){var s=t.length,o=t[0],a=t[s-1],l=Zw(r);if(!(r&&t.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,u=i?n.indexOf(i):c,d=i?t.indexOf(i):-1;if(c===-1)return d!==-1?d:o1;if(d===-1)return o1;var f=c-u,h=n.indexOf(o),p=n.indexOf(a),m=LJ(n),y=r!==void 0?m.indexOf(r):-1,v=y-(i?m.indexOf(i):c);if(!f&&d>=0||e.length===0)return d;var b=Vk(t,e[0]),x=Vk(t,e[e.length-1]);if(c<=h&&l&&Math.abs(f)>1)return x;if(c>=p&&l&&Math.abs(f)>1)return b;if(f&&Math.abs(v)>1)return d;if(c<=h)return x;if(c>p)return b;if(f)return Math.abs(f)>1?d:(s+d+f)%s}},PJ=function(t){return function(e){var n,r=(n=Z4(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},Hk=function(t,e,n){var r=t.map(function(s){var o=s.node;return o}),i=zk(r.filter(PJ(n)));return i&&i.length?Uk(i):Uk(zk(e))},a1=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&a1(t.parentNode.host||t.parentNode,e),e},jv=function(t,e){for(var n=a1(t),r=a1(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},i5=function(t,e,n){var r=vl(t),i=vl(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=jv(o||a,a)||o,n.filter(Boolean).forEach(function(l){var c=jv(s,l);c&&(!o||il(c,o)?o=c:o=jv(c,o))})}),o},Wk=function(t,e){return t.reduce(function(n,r){return n.concat(TJ(r,e))},[])},DJ=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(gJ)},MJ=function(t,e){var n=Nf(vl(t).length>0?document:K4(t).ownerDocument),r=rT(t).filter(s1),i=i5(n||t,t,r),s=new Map,o=jf(r,s),a=o.filter(function(p){var m=p.node;return s1(m)});if(a[0]){var l=jf([i],s).map(function(p){var m=p.node;return m}),c=DJ(l,a),u=c.map(function(p){var m=p.node;return m}),d=c.filter(function(p){var m=p.tabIndex;return m>=0}).map(function(p){var m=p.node;return m}),f=IJ(u,d,l,n,e);if(f===o1){var h=Hk(o,d,Wk(r,s))||Hk(o,u,Wk(r,s));if(h)return{node:h};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:c[f]}},OJ=function(t){var e=rT(t).filter(s1),n=i5(t,t,e),r=Jw(su([n],!0),!0,!0),i=su(e,!1);return r.map(function(s){var o=s.node,a=s.index;return{node:o,index:a,lockItem:i.indexOf(o)>=0,guard:Zw(o)}})},sT=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},Nv=0,Bv=!1,s5=function(t,e,n){n===void 0&&(n={});var r=MJ(t,e);if(!Bv&&r){if(Nv>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Bv=!0,setTimeout(function(){Bv=!1},1);return}Nv++,sT(r.node,n.focusOptions),Nv--}};function nd(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var FJ=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:nd(n),parent:nd(n.parentElement),left:nd(n.previousElementSibling),right:nd(n.nextElementSibling)}),n=n.parentElement;return{element:nd(t),stack:e,ownerDocument:t.ownerDocument}},jJ=function(t){var e,n,r,i,s;if(t)for(var o=t.stack,a=t.ownerDocument,l=new Map,c=0,u=o;c<u.length;c++){var d=u[c],f=(e=d.parent)===null||e===void 0?void 0:e.call(d);if(f&&a.contains(f)){for(var h=(n=d.left)===null||n===void 0?void 0:n.call(d),p=d.current(),m=f.contains(p)?p:void 0,y=(r=d.right)===null||r===void 0?void 0:r.call(d),v=nT([f],l),b=(s=(i=m??(h==null?void 0:h.nextElementSibling))!==null&&i!==void 0?i:y)!==null&&s!==void 0?s:h;b;){for(var x=0,S=v;x<S.length;x++){var T=S[x];if(b!=null&&b.contains(T.node))return T.node}b=b.nextElementSibling}if(v.length)return v[0].node}}},o5=function(t){var e=FJ(t);return function(){return jJ(e)}},NJ=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=vl(e);if(r.every(function(o){return!il(o,t)}))return console.error("Active element is not contained in the scope"),{};var i=n?nT(r,new Map):jf(r,new Map),s=i.findIndex(function(o){var a=o.node;return a===t});if(s!==-1)return{prev:i[s-1],next:i[s+1],first:i[0],last:i[i.length-1]}},BJ=function(t,e){var n=e?nT(vl(t),new Map):jf(vl(t),new Map);return{first:n[0],last:n[n.length-1]}},$J=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},a5=function(t,e,n){e===void 0&&(e={});var r=$J(e),i=NJ(t,r.scope,r.onlyTabbable);if(i){var s=n(i,r.cycle);s&&sT(s.node,r.focusOptions)}},zJ=function(t,e){e===void 0&&(e={}),a5(t,e,function(n,r){var i=n.next,s=n.first;return i||r&&s})},UJ=function(t,e){e===void 0&&(e={}),a5(t,e,function(n,r){var i=n.prev,s=n.last;return i||r&&s})},l5=function(t,e,n){var r,i=BJ(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),s=i[n];s&&sT(s.node,e.focusOptions)},VJ=function(t,e){e===void 0&&(e={}),l5(t,e,"first")},HJ=function(t,e){e===void 0&&(e={}),l5(t,e,"last")};function oT(t){setTimeout(t,1)}var WJ=function(e){return e&&"current"in e?e.current:e},c5=function(){return document&&document.activeElement===document.body},GJ=function(){return c5()||RJ()},Nc=null,Br=null,Gk=function(){return null},Bc=null,Bf=!1,aT=!1,KJ=function(){return!0},YJ=function(e){return(Nc.whiteList||KJ)(e)},qJ=function(e,n){Bc={observerNode:e,portaledElement:n}},XJ=function(e){return Bc&&Bc.portaledElement===e};function Kk(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var QJ=function(e){return e?!!Bf:Bf==="meanwhile"},ZJ=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},JJ=function(e,n){return n.some(function(r){return ZJ(e,r,r)})},u5=function(e){return jf(e,new Map)},eee=function(e){return!u5([e.parentNode]).some(function(n){return n.node===e})},Tg=function(){var e=!1;if(Nc){var n=Nc,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,c=n.noFocusGuards,u=r||Bc&&Bc.portaledElement;if(c5()&&Br&&(!document.body.contains(Br)||eee(Br))){Br=null;var d=Gk();d&&d.focus()}var f=document&&document.activeElement;if(u){var h=[u].concat(o.map(WJ).filter(Boolean)),p=function(){if(!QJ(a)||!c||!Br||aT)return!1;var x=u5(h),S=x.findIndex(function(T){var C=T.node;return C===Br});return S===0||S===x.length-1};if((!f||YJ(f))&&(i||p()||!GJ()||!Br&&s)&&(u&&!(r5(h)||f&&JJ(f,h)||XJ(f))&&(document&&!Br&&f&&!s?(f.blur&&f.blur(),document.body.focus()):(e=s5(h,Br,{focusOptions:l}),Bc={})),Bf=!1,Br=document&&document.activeElement,Gk=o5(Br)),document&&f!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var m=document&&document.activeElement,y=OJ(h),v=y.map(function(b){var x=b.node;return x}).indexOf(m);v>-1&&(y.filter(function(b){var x=b.guard,S=b.node;return x&&S.dataset.focusAutoGuard}).forEach(function(b){var x=b.node;return x.removeAttribute("tabIndex")}),Kk(v,y.length,1,y),Kk(v,-1,-1,y))}}}return e},d5=function(e){Tg()&&e&&(e.stopPropagation(),e.preventDefault())},lT=function(){return oT(Tg)},tee=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||qJ(r,n)},nee=function(){return null},f5=function(){aT=!0},h5=function(){aT=!1,Bf="just",oT(function(){Bf="meanwhile"})},ree=function(){document.addEventListener("focusin",d5),document.addEventListener("focusout",lT),window.addEventListener("focus",f5),window.addEventListener("blur",h5)},iee=function(){document.removeEventListener("focusin",d5),document.removeEventListener("focusout",lT),window.removeEventListener("focus",f5),window.removeEventListener("blur",h5)};function see(t){return t.filter(function(e){var n=e.disabled;return!n})}var p5={moveFocusInside:s5,focusInside:r5,focusNextElement:zJ,focusPrevElement:UJ,focusFirstElement:VJ,focusLastElement:HJ,captureFocusRestore:o5};function oee(t){var e=t.slice(-1)[0];e&&!Nc&&ree();var n=Nc,r=n&&e&&e.id===n.id;Nc=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(Br=null,(!r||n.observed!==e.observed)&&e.onActivation(p5),Tg(),oT(Tg)):(iee(),Br=null)}W4.assignSyncMedium(tee);G4.assignMedium(lT);eJ.assignMedium(function(t){return t(p5)});const aee=lJ(see,oee)(nee);var l1=w.forwardRef(function(e,n){return w.createElement(Qw,gl({sideCar:aee,ref:n},e))}),m5=Qw.propTypes||{};m5.sideCar;zZ(m5,["sideCar"]);l1.propTypes={};const lee=l1.default??l1,g5=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:i,children:s,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:c}=t,u=w.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&HB(r.current).length===0&&requestAnimationFrame(()=>{var p;(p=r.current)==null||p.focus()})},[e,r]),d=w.useCallback(()=>{var h;(h=n==null?void 0:n.current)==null||h.focus()},[n]),f=i&&!n;return g.jsx(lee,{crossFrame:c,persistentFocus:l,autoFocus:a,disabled:o,onActivation:u,onDeactivation:d,returnFocus:f,children:s})};g5.displayName="FocusLock";const mi=ge(function(e,n){const r=Or("FormLabel",e),i=Qt(e),{className:s,children:o,requiredIndicator:a=g.jsx(y5,{}),optionalIndicator:l=null,...c}=i,u=H0(),d=(u==null?void 0:u.getLabelProps(c,n))??{ref:n,...c};return g.jsxs(ce.label,{...d,className:Re("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r},children:[o,u!=null&&u.isRequired?a:l]})});mi.displayName="FormLabel";const y5=ge(function(e,n){const r=H0(),i=I4();if(!(r!=null&&r.isRequired))return null;const s=Re("chakra-form__required-indicator",e.className);return g.jsx(ce.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:i.requiredIndicator,className:s})});y5.displayName="RequiredIndicator";const yh=ge(function(e,n){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:c,autoRows:u,templateRows:d,autoColumns:f,templateColumns:h,...p}=e,m={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:f,gridColumn:a,gridRow:l,gridAutoFlow:c,gridAutoRows:u,gridTemplateRows:d,gridTemplateColumns:h};return g.jsx(ce.div,{ref:n,__css:m,...p})});yh.displayName="Grid";const $f=ge(function(e,n){const{columns:r,spacingX:i,spacingY:s,spacing:o,minChildWidth:a,...l}=e,c=ha(),u=a?uee(a,c):dee(r);return g.jsx(yh,{ref:n,gap:o,columnGap:i,rowGap:s,templateColumns:u,...l})});$f.displayName="SimpleGrid";function cee(t){return typeof t=="number"?`${t}px`:t}function uee(t,e){return sw(t,n=>{const r=m4("sizes",n,cee(n))(e);return n===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function dee(t){return sw(t,e=>e===null?null:`repeat(${e}, minmax(0, 1fr))`)}function jn(t){const{viewBox:e="0 0 24 24",d:n,displayName:r,defaultProps:i={}}=t,s=w.Children.toArray(t.path),o=ge((a,l)=>g.jsx(Jn,{ref:l,viewBox:e,...i,...a,children:s.length?s:g.jsx("path",{fill:"currentColor",d:n})}));return o.displayName=r,o}const c1=ge(function(e,n){const{htmlWidth:r,htmlHeight:i,alt:s,...o}=e;return g.jsx("img",{width:r,height:i,ref:n,alt:s,...o})});c1.displayName="NativeImage";const Ci=ge(function(e,n){const{fallbackSrc:r,fallback:i,src:s,srcSet:o,align:a,fit:l,loading:c,ignoreFallback:u,crossOrigin:d,fallbackStrategy:f="beforeLoadOrError",referrerPolicy:h,...p}=e,m=r!==void 0||i!==void 0,y=c!=null||u||!m,v=A4({...e,crossOrigin:d,ignoreFallback:y}),b=pZ(v,f),x={ref:n,objectFit:l,objectPosition:a,...y?p:Cu(p,["onError","onLoad"])};return b?i||g.jsx(ce.img,{as:c1,className:"chakra-image__placeholder",src:r,...x}):g.jsx(ce.img,{as:c1,src:s,srcSet:o,crossOrigin:d,loading:c,referrerPolicy:h,className:"chakra-image",...x})});Ci.displayName="Image";const Ct=ge(function(e,n){const{htmlSize:r,...i}=e,s=Xi("Input",i),o=Qt(i),a=qw(o),l=Re("chakra-input",e.className);return g.jsx(ce.input,{size:r,...a,__css:s.field,ref:n,className:l})});Ct.displayName="Input";Ct.id="Input";const Mt=ge(function(e,n){const r=Or("Link",e),{className:i,isExternal:s,...o}=Qt(e);return g.jsx(ce.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:Re("chakra-link",i),...o,__css:r})});Mt.displayName="Link";function fee(t,e={}){const{ssr:n=!0,fallback:r}=e,{getWindow:i}=GG(),s=Array.isArray(t)?t:[t];let o=Array.isArray(r)?r:[r];o=o.filter(c=>c!=null);const[a,l]=w.useState(()=>s.map((c,u)=>({media:c,matches:n?!!o[u]:i().matchMedia(c).matches})));return w.useEffect(()=>{const c=i();l(s.map(f=>({media:f,matches:c.matchMedia(f).matches})));const u=s.map(f=>c.matchMedia(f)),d=f=>{l(h=>h.slice().map(p=>p.media===f.media?{...p,matches:f.matches}:p))};return u.forEach(f=>{typeof f.addListener=="function"?f.addListener(d):f.addEventListener("change",d)}),()=>{u.forEach(f=>{typeof f.removeListener=="function"?f.removeListener(d):f.removeEventListener("change",d)})}},[i]),a.map(c=>c.matches)}function hee(t){var a;const e=tr(t)?t:{fallback:t??"base"},r=ha().__breakpoints.details.map(({minMaxQuery:l,breakpoint:c})=>({breakpoint:c,query:l.replace("@media screen and ","")})),i=r.map(l=>l.breakpoint===e.fallback),o=fee(r.map(l=>l.query),{fallback:i,ssr:e.ssr}).findIndex(l=>l==!0);return((a=r[o])==null?void 0:a.breakpoint)??e.fallback}function pee(t,e,n=ZP){let r=Object.keys(t).indexOf(e);if(r!==-1)return t[e];let i=n.indexOf(e);for(;i>=0;){const s=n[i];if(t.hasOwnProperty(s)){r=i;break}i-=1}if(r!==-1){const s=n[r];return t[s]}}function rn(t,e){var a;const n=tr(e)?e:{fallback:"base"},r=hee(n),i=ha();if(!r)return;const s=Array.from(((a=i.__breakpoints)==null?void 0:a.keys)||[]),o=Array.isArray(t)?Object.fromEntries(Object.entries(YB(t,s)).map(([l,c])=>[l,c])):t;return pee(o,r,s)}function mee(t,e,n,r){if(e==null)return r;if(!r)return t.find(o=>n(o).toLowerCase().startsWith(e.toLowerCase()));const i=t.filter(s=>n(s).toLowerCase().startsWith(e.toLowerCase()));if(i.length>0){let s;return i.includes(r)?(s=i.indexOf(r)+1,s===i.length&&(s=0),i[s]):(s=t.indexOf(i[0]),t[s])}return r}function gee(t){const{key:e}=t;return e.length===1||e.length>1&&/[^a-zA-Z0-9]/.test(e)}function yee(t={}){const{timeout:e=300,preventDefault:n=()=>!0}=t,[r,i]=w.useState([]),s=w.useRef(),o=()=>{s.current&&(clearTimeout(s.current),s.current=null)},a=()=>{o(),s.current=setTimeout(()=>{i([]),s.current=null},e)};w.useEffect(()=>o,[]);function l(c){return u=>{if(u.key==="Backspace"){const d=[...r];d.pop(),i(d);return}if(gee(u)){const d=r.concat(u.key);n(u)&&(u.preventDefault(),u.stopPropagation()),i(d),c(d.join("")),a()}}}return l}var kr="top",ki="bottom",Ai="right",Ar="left",cT="auto",vh=[kr,ki,Ai,Ar],ou="start",zf="end",vee="clippingParents",v5="viewport",rd="popper",xee="reference",Yk=vh.reduce(function(t,e){return t.concat([e+"-"+ou,e+"-"+zf])},[]),x5=[].concat(vh,[cT]).reduce(function(t,e){return t.concat([e,e+"-"+ou,e+"-"+zf])},[]),bee="beforeRead",See="read",wee="afterRead",Tee="beforeMain",Eee="main",Cee="afterMain",kee="beforeWrite",Aee="write",Ree="afterWrite",_ee=[bee,See,wee,Tee,Eee,Cee,kee,Aee,Ree];function Cs(t){return t?(t.nodeName||"").toLowerCase():null}function Qr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function xl(t){var e=Qr(t).Element;return t instanceof e||t instanceof Element}function Si(t){var e=Qr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function uT(t){if(typeof ShadowRoot>"u")return!1;var e=Qr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Lee(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Si(s)||!Cs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Iee(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Si(i)||!Cs(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Pee={name:"applyStyles",enabled:!0,phase:"write",fn:Lee,effect:Iee,requires:["computeStyles"]};function ws(t){return t.split("-")[0]}var sl=Math.max,Eg=Math.min,au=Math.round;function u1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function b5(){return!/^((?!chrome|android).)*safari/i.test(u1())}function lu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Si(t)&&(i=t.offsetWidth>0&&au(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&au(r.height)/t.offsetHeight||1);var o=xl(t)?Qr(t):window,a=o.visualViewport,l=!b5()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function dT(t){var e=lu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function S5(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&uT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function po(t){return Qr(t).getComputedStyle(t)}function Dee(t){return["table","td","th"].indexOf(Cs(t))>=0}function pa(t){return((xl(t)?t.ownerDocument:t.document)||window.document).documentElement}function W0(t){return Cs(t)==="html"?t:t.assignedSlot||t.parentNode||(uT(t)?t.host:null)||pa(t)}function qk(t){return!Si(t)||po(t).position==="fixed"?null:t.offsetParent}function Mee(t){var e=/firefox/i.test(u1()),n=/Trident/i.test(u1());if(n&&Si(t)){var r=po(t);if(r.position==="fixed")return null}var i=W0(t);for(uT(i)&&(i=i.host);Si(i)&&["html","body"].indexOf(Cs(i))<0;){var s=po(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function xh(t){for(var e=Qr(t),n=qk(t);n&&Dee(n)&&po(n).position==="static";)n=qk(n);return n&&(Cs(n)==="html"||Cs(n)==="body"&&po(n).position==="static")?e:n||Mee(t)||e}function fT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Xd(t,e,n){return sl(t,Eg(e,n))}function Oee(t,e,n){var r=Xd(t,e,n);return r>n?n:r}function w5(){return{top:0,right:0,bottom:0,left:0}}function T5(t){return Object.assign({},w5(),t)}function E5(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Fee=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,T5(typeof e!="number"?e:E5(e,vh))};function jee(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ws(n.placement),l=fT(a),c=[Ar,Ai].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Fee(i.padding,n),f=dT(s),h=l==="y"?kr:Ar,p=l==="y"?ki:Ai,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],v=xh(s),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,x=m/2-y/2,S=d[h],T=b-f[u]-d[p],C=b/2-f[u]/2+x,E=Xd(S,C,T),k=l;n.modifiersData[r]=(e={},e[k]=E,e.centerOffset=E-C,e)}}function Nee(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||S5(e.elements.popper,i)&&(e.elements.arrow=i))}const Bee={name:"arrow",enabled:!0,phase:"main",fn:jee,effect:Nee,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cu(t){return t.split("-")[1]}var $ee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zee(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:au(n*i)/i||0,y:au(r*i)/i||0}}function Xk(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,p=o.y,m=p===void 0?0:p,y=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=y.x,m=y.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),x=Ar,S=kr,T=window;if(c){var C=xh(n),E="clientHeight",k="clientWidth";if(C===Qr(n)&&(C=pa(n),po(C).position!=="static"&&a==="absolute"&&(E="scrollHeight",k="scrollWidth")),C=C,i===kr||(i===Ar||i===Ai)&&s===zf){S=ki;var A=d&&C===T&&T.visualViewport?T.visualViewport.height:C[E];m-=A-r.height,m*=l?1:-1}if(i===Ar||(i===kr||i===ki)&&s===zf){x=Ai;var R=d&&C===T&&T.visualViewport?T.visualViewport.width:C[k];h-=R-r.width,h*=l?1:-1}}var L=Object.assign({position:a},c&&$ee),D=u===!0?zee({x:h,y:m},Qr(n)):{x:h,y:m};if(h=D.x,m=D.y,l){var P;return Object.assign({},L,(P={},P[S]=b?"0":"",P[x]=v?"0":"",P.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",P))}return Object.assign({},L,(e={},e[S]=b?m+"px":"",e[x]=v?h+"px":"",e.transform="",e))}function Uee(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ws(e.placement),variation:cu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Xk(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Xk(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Vee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Uee,data:{}};var up={passive:!0};function Hee(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Qr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,up)}),a&&l.addEventListener("resize",n.update,up),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,up)}),a&&l.removeEventListener("resize",n.update,up)}}const Wee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hee,data:{}};var Gee={left:"right",right:"left",bottom:"top",top:"bottom"};function ym(t){return t.replace(/left|right|bottom|top/g,function(e){return Gee[e]})}var Kee={start:"end",end:"start"};function Qk(t){return t.replace(/start|end/g,function(e){return Kee[e]})}function hT(t){var e=Qr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pT(t){return lu(pa(t)).left+hT(t).scrollLeft}function Yee(t,e){var n=Qr(t),r=pa(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=b5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+pT(t),y:l}}function qee(t){var e,n=pa(t),r=hT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=sl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=sl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+pT(t),l=-r.scrollTop;return po(i||n).direction==="rtl"&&(a+=sl(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function mT(t){var e=po(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function C5(t){return["html","body","#document"].indexOf(Cs(t))>=0?t.ownerDocument.body:Si(t)&&mT(t)?t:C5(W0(t))}function Qd(t,e){var n;e===void 0&&(e=[]);var r=C5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Qr(r),o=i?[s].concat(s.visualViewport||[],mT(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Qd(W0(o)))}function d1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Xee(t,e){var n=lu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Zk(t,e,n){return e===v5?d1(Yee(t,n)):xl(e)?Xee(e,n):d1(qee(pa(t)))}function Qee(t){var e=Qd(W0(t)),n=["absolute","fixed"].indexOf(po(t).position)>=0,r=n&&Si(t)?xh(t):t;return xl(r)?e.filter(function(i){return xl(i)&&S5(i,r)&&Cs(i)!=="body"}):[]}function Zee(t,e,n,r){var i=e==="clippingParents"?Qee(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=Zk(t,c,r);return l.top=sl(u.top,l.top),l.right=Eg(u.right,l.right),l.bottom=Eg(u.bottom,l.bottom),l.left=sl(u.left,l.left),l},Zk(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function k5(t){var e=t.reference,n=t.element,r=t.placement,i=r?ws(r):null,s=r?cu(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case kr:l={x:o,y:e.y-n.height};break;case ki:l={x:o,y:e.y+e.height};break;case Ai:l={x:e.x+e.width,y:a};break;case Ar:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?fT(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case ou:l[c]=l[c]-(e[u]/2-n[u]/2);break;case zf:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Uf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?vee:a,c=n.rootBoundary,u=c===void 0?v5:c,d=n.elementContext,f=d===void 0?rd:d,h=n.altBoundary,p=h===void 0?!1:h,m=n.padding,y=m===void 0?0:m,v=T5(typeof y!="number"?y:E5(y,vh)),b=f===rd?xee:rd,x=t.rects.popper,S=t.elements[p?b:f],T=Zee(xl(S)?S:S.contextElement||pa(t.elements.popper),l,u,o),C=lu(t.elements.reference),E=k5({reference:C,element:x,strategy:"absolute",placement:i}),k=d1(Object.assign({},x,E)),A=f===rd?k:C,R={top:T.top-A.top+v.top,bottom:A.bottom-T.bottom+v.bottom,left:T.left-A.left+v.left,right:A.right-T.right+v.right},L=t.modifiersData.offset;if(f===rd&&L){var D=L[i];Object.keys(R).forEach(function(P){var M=[Ai,ki].indexOf(P)>=0?1:-1,j=[kr,ki].indexOf(P)>=0?"y":"x";R[P]+=D[j]*M})}return R}function Jee(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?x5:l,u=cu(r),d=u?a?Yk:Yk.filter(function(p){return cu(p)===u}):vh,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=Uf(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[ws(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function ete(t){if(ws(t)===cT)return[];var e=ym(t);return[Qk(t),e,Qk(e)]}function tte(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,m=n.allowedAutoPlacements,y=e.options.placement,v=ws(y),b=v===y,x=l||(b||!p?[ym(y)]:ete(y)),S=[y].concat(x).reduce(function(te,ae){return te.concat(ws(ae)===cT?Jee(e,{placement:ae,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):ae)},[]),T=e.rects.reference,C=e.rects.popper,E=new Map,k=!0,A=S[0],R=0;R<S.length;R++){var L=S[R],D=ws(L),P=cu(L)===ou,M=[kr,ki].indexOf(D)>=0,j=M?"width":"height",F=Uf(e,{placement:L,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),O=M?P?Ai:Ar:P?ki:kr;T[j]>C[j]&&(O=ym(O));var B=ym(O),I=[];if(s&&I.push(F[D]<=0),a&&I.push(F[O]<=0,F[B]<=0),I.every(function(te){return te})){A=L,k=!1;break}E.set(L,I)}if(k)for(var $=p?3:1,G=function(ae){var le=S.find(function(Te){var Fe=E.get(Te);if(Fe)return Fe.slice(0,ae).every(function(Qe){return Qe})});if(le)return A=le,"break"},Y=$;Y>0;Y--){var q=G(Y);if(q==="break")break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}}const nte={name:"flip",enabled:!0,phase:"main",fn:tte,requiresIfExists:["offset"],data:{_skip:!1}};function Jk(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function eA(t){return[kr,Ai,ki,Ar].some(function(e){return t[e]>=0})}function rte(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Uf(e,{elementContext:"reference"}),a=Uf(e,{altBoundary:!0}),l=Jk(o,r),c=Jk(a,i,s),u=eA(l),d=eA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const ite={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rte};function ste(t,e,n){var r=ws(t),i=[Ar,kr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Ar,Ai].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ote(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=x5.reduce(function(u,d){return u[d]=ste(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const ate={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ote};function lte(t){var e=t.state,n=t.name;e.modifiersData[n]=k5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const cte={name:"popperOffsets",enabled:!0,phase:"read",fn:lte,data:{}};function ute(t){return t==="x"?"y":"x"}function dte(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,m=p===void 0?0:p,y=Uf(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=ws(e.placement),b=cu(e.placement),x=!b,S=fT(v),T=ute(S),C=e.modifiersData.popperOffsets,E=e.rects.reference,k=e.rects.popper,A=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,R=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(C){if(s){var P,M=S==="y"?kr:Ar,j=S==="y"?ki:Ai,F=S==="y"?"height":"width",O=C[S],B=O+y[M],I=O-y[j],$=h?-k[F]/2:0,G=b===ou?E[F]:k[F],Y=b===ou?-k[F]:-E[F],q=e.elements.arrow,te=h&&q?dT(q):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:w5(),le=ae[M],Te=ae[j],Fe=Xd(0,E[F],te[F]),Qe=x?E[F]/2-$-Fe-le-R.mainAxis:G-Fe-le-R.mainAxis,it=x?-E[F]/2+$+Fe+Te+R.mainAxis:Y+Fe+Te+R.mainAxis,Me=e.elements.arrow&&xh(e.elements.arrow),De=Me?S==="y"?Me.clientTop||0:Me.clientLeft||0:0,bt=(P=L==null?void 0:L[S])!=null?P:0,yn=O+Qe-bt-De,Ee=O+it-bt,Ve=Xd(h?Eg(B,yn):B,O,h?sl(I,Ee):I);C[S]=Ve,D[S]=Ve-O}if(a){var fe,Zt=S==="x"?kr:Ar,jt=S==="x"?ki:Ai,Nt=C[T],Nn=T==="y"?"height":"width",kn=Nt+y[Zt],pt=Nt-y[jt],An=[kr,Ar].indexOf(v)!==-1,ni=(fe=L==null?void 0:L[T])!=null?fe:0,Fr=An?kn:Nt-E[Nn]-k[Nn]-ni+R.altAxis,vn=An?Nt+E[Nn]+k[Nn]-ni-R.altAxis:pt,xn=h&&An?Oee(Fr,Nt,vn):Xd(h?Fr:kn,Nt,h?vn:pt);C[T]=xn,D[T]=xn-Nt}e.modifiersData[r]=D}}const fte={name:"preventOverflow",enabled:!0,phase:"main",fn:dte,requiresIfExists:["offset"]};function hte(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pte(t){return t===Qr(t)||!Si(t)?hT(t):hte(t)}function mte(t){var e=t.getBoundingClientRect(),n=au(e.width)/t.offsetWidth||1,r=au(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gte(t,e,n){n===void 0&&(n=!1);var r=Si(e),i=Si(e)&&mte(e),s=pa(e),o=lu(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Cs(e)!=="body"||mT(s))&&(a=pte(e)),Si(e)?(l=lu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=pT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function yte(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function vte(t){var e=yte(t);return _ee.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function xte(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function bte(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var tA={placement:"bottom",modifiers:[],strategy:"absolute"};function nA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ste(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?tA:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},tA,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:xl(a)?Qd(a):a.contextElement?Qd(a.contextElement):[],popper:Qd(l)};var x=vte(bte([].concat(r,u.options.modifiers)));return u.orderedModifiers=x.filter(function(S){return S.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var v=u.elements,b=v.reference,x=v.popper;if(nA(b,x)){u.rects={reference:gte(b,xh(x),u.options.strategy==="fixed"),popper:dT(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var T=u.orderedModifiers[S],C=T.fn,E=T.options,k=E===void 0?{}:E,A=T.name;typeof C=="function"&&(u=C({state:u,options:k,name:A,instance:h})||u)}}}},update:xte(function(){return new Promise(function(y){h.forceUpdate(),y(u)})}),destroy:function(){m(),f=!0}};if(!nA(a,l))return h;h.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function p(){u.orderedModifiers.forEach(function(y){var v=y.name,b=y.options,x=b===void 0?{}:b,S=y.effect;if(typeof S=="function"){var T=S({state:u,name:v,instance:h,options:x}),C=function(){};d.push(T||C)}})}function m(){d.forEach(function(y){return y()}),d=[]}return h}}var wte=[Wee,cte,Vee,Pee,ate,nte,fte,Bee,ite],Tte=Ste({defaultModifiers:wte});const Hl=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),Un={arrowShadowColor:Hl("--popper-arrow-shadow-color"),arrowSize:Hl("--popper-arrow-size","8px"),arrowSizeHalf:Hl("--popper-arrow-size-half"),arrowBg:Hl("--popper-arrow-bg"),transformOrigin:Hl("--popper-transform-origin"),arrowOffset:Hl("--popper-arrow-offset")};function Ete(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const Cte={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},kte=t=>Cte[t],rA={scroll:!0,resize:!0};function Ate(t){let e;return typeof t=="object"?e={enabled:!0,options:{...rA,...t}}:e={enabled:t,options:rA},e}const Rte={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},_te={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{iA(t)},effect:({state:t})=>()=>{iA(t)}},iA=t=>{t.elements.popper.style.setProperty(Un.transformOrigin.var,kte(t.placement))},Lte={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{Ite(t)}},Ite=t=>{var n;if(!t.placement)return;const e=Pte(t.placement);if((n=t.elements)!=null&&n.arrow&&e){Object.assign(t.elements.arrow.style,{[e.property]:e.value,width:Un.arrowSize.varRef,height:Un.arrowSize.varRef,zIndex:-1});const r={[Un.arrowSizeHalf.var]:`calc(${Un.arrowSize.varRef} / 2 - 1px)`,[Un.arrowOffset.var]:`calc(${Un.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},Pte=t=>{if(t.startsWith("top"))return{property:"bottom",value:Un.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Un.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Un.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Un.arrowOffset.varRef}},Dte={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{sA(t)},effect:({state:t})=>()=>{sA(t)}},sA=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=Ete(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:Un.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Mte={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Ote={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Fte(t,e="ltr"){var r;const n=((r=Mte[t])==null?void 0:r[e])||t;return e==="ltr"?n:Ote[t]??n}function A5(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:i="absolute",arrowPadding:s=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:c=!0,boundary:u="clippingParents",preventOverflow:d=!0,matchWidth:f,direction:h="ltr"}=t,p=w.useRef(null),m=w.useRef(null),y=w.useRef(null),v=Fte(r,h),b=w.useRef(()=>{}),x=w.useCallback(()=>{var R;!e||!p.current||!m.current||((R=b.current)==null||R.call(b),y.current=Tte(p.current,m.current,{placement:v,modifiers:[Dte,Lte,_te,{...Rte,enabled:!!f},{name:"eventListeners",...Ate(o)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!c,options:{padding:8}},{name:"preventOverflow",enabled:!!d,options:{boundary:u}},...n??[]],strategy:i}),y.current.forceUpdate(),b.current=y.current.destroy)},[v,e,n,f,o,s,a,l,c,d,u,i]);w.useEffect(()=>()=>{var R;!p.current&&!m.current&&((R=y.current)==null||R.destroy(),y.current=null)},[]);const S=w.useCallback(R=>{p.current=R,x()},[x]),T=w.useCallback((R={},L=null)=>({...R,ref:rr(S,L)}),[S]),C=w.useCallback(R=>{m.current=R,x()},[x]),E=w.useCallback((R={},L=null)=>({...R,ref:rr(C,L),style:{...R.style,position:i,minWidth:f?void 0:"max-content",inset:"0 auto auto 0"}}),[i,C,f]),k=w.useCallback((R={},L=null)=>{const{size:D,shadowColor:P,bg:M,style:j,...F}=R;return{...F,ref:L,"data-popper-arrow":"",style:jte(R)}},[]),A=w.useCallback((R={},L=null)=>({...R,ref:L,"data-popper-arrow-inner":""}),[]);return{update(){var R;(R=y.current)==null||R.update()},forceUpdate(){var R;(R=y.current)==null||R.forceUpdate()},transformOrigin:Un.transformOrigin.varRef,referenceRef:S,popperRef:C,getPopperProps:E,getArrowProps:k,getArrowInnerProps:A,getReferenceProps:T}}function jte(t){const{size:e,shadowColor:n,bg:r,style:i}=t,s={...i,position:"absolute"};return e&&(s["--popper-arrow-size"]=e),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function Nte(){const t=w.useRef(new Map),e=t.current,n=w.useCallback((i,s,o,a)=>{t.current.set(o,{type:s,el:i,options:a}),i.addEventListener(s,o,a)},[]),r=w.useCallback((i,s,o,a)=>{i.removeEventListener(s,o,a),t.current.delete(o)},[]);return w.useEffect(()=>()=>{e.forEach((i,s)=>{r(i.el,i.type,s,i.options)})},[r,e]),{add:n,remove:r}}function $v(t){var i,s;const e=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])??t.target,{tagName:n,isContentEditable:r}=e;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function R5(t={}){const{ref:e,isDisabled:n,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:s=!0,onMouseDown:o,onMouseUp:a,onClick:l,onKeyDown:c,onKeyUp:u,tabIndex:d,onMouseOver:f,onMouseLeave:h,...p}=t,[m,y]=w.useState(!0),[v,b]=w.useState(!1),x=Nte(),S=O=>{O&&O.tagName!=="BUTTON"&&y(!1)},T=m?d:d||0,C=n&&!r,E=w.useCallback(O=>{if(n){O.stopPropagation(),O.preventDefault();return}O.currentTarget.focus(),l==null||l(O)},[n,l]),k=w.useCallback(O=>{v&&$v(O)&&(O.preventDefault(),O.stopPropagation(),b(!1),x.remove(document,"keyup",k,!1))},[v,x]),A=w.useCallback(O=>{if(c==null||c(O),n||O.defaultPrevented||O.metaKey||!$v(O.nativeEvent)||m)return;const B=i&&O.key==="Enter";s&&O.key===" "&&(O.preventDefault(),b(!0)),B&&(O.preventDefault(),O.currentTarget.click()),x.add(document,"keyup",k,!1)},[n,m,c,i,s,x,k]),R=w.useCallback(O=>{if(u==null||u(O),n||O.defaultPrevented||O.metaKey||!$v(O.nativeEvent)||m)return;s&&O.key===" "&&(O.preventDefault(),b(!1),O.currentTarget.click())},[s,m,n,u]),L=w.useCallback(O=>{O.button===0&&(b(!1),x.remove(document,"mouseup",L,!1))},[x]),D=w.useCallback(O=>{if(O.button!==0)return;if(n){O.stopPropagation(),O.preventDefault();return}m||b(!0),O.currentTarget.focus({preventScroll:!0}),x.add(document,"mouseup",L,!1),o==null||o(O)},[n,m,o,x,L]),P=w.useCallback(O=>{O.button===0&&(m||b(!1),a==null||a(O))},[a,m]),M=w.useCallback(O=>{if(n){O.preventDefault();return}f==null||f(O)},[n,f]),j=w.useCallback(O=>{v&&(O.preventDefault(),b(!1)),h==null||h(O)},[v,h]),F=rr(e,S);return m?{...p,ref:F,type:"button","aria-disabled":C?void 0:n,disabled:C,onClick:E,onMouseDown:o,onMouseUp:a,onKeyUp:u,onKeyDown:c,onMouseOver:f,onMouseLeave:h}:{...p,ref:F,role:"button","data-active":He(v),"aria-disabled":n?"true":void 0,tabIndex:C?void 0:T,onClick:E,onMouseDown:D,onMouseUp:P,onKeyUp:R,onKeyDown:A,onMouseOver:M,onMouseLeave:j}}const[Bte,$te,zte,Ute]=E4(),[Vte,bh]=dn({strict:!1,name:"MenuContext"});function _5(t){return(t==null?void 0:t.ownerDocument)??document}function Hte(t){return _5(t).activeElement===t}function Wte(t={}){const{id:e,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:i,autoSelect:s=!0,isLazy:o,isOpen:a,defaultIsOpen:l,onClose:c,onOpen:u,placement:d="bottom-start",lazyBehavior:f="unmount",direction:h,computePositionOnMount:p=!1,...m}=t,y=w.useRef(null),v=w.useRef(null),b=w.useRef(!0),x=zte(),S=w.useCallback(()=>{requestAnimationFrame(()=>{var q;(q=y.current)==null||q.focus({preventScroll:!1})})},[]),T=w.useCallback(()=>{const q=setTimeout(()=>{var te,ae;if(i)(te=i.current)==null||te.focus();else if(!x.count())(ae=y.current)==null||ae.focus({preventScroll:!1});else{const le=x.firstEnabled();le&&M(le.index)}});I.current.add(q)},[x,i]),C=w.useCallback(()=>{const q=setTimeout(()=>{var te;if(!x.count())(te=y.current)==null||te.focus({preventScroll:!1});else{const ae=x.lastEnabled();ae&&M(ae.index)}});I.current.add(q)},[x]),E=w.useCallback(()=>{u==null||u(),s?T():S()},[s,T,S,u]),{isOpen:k,onOpen:A,onClose:R,onToggle:L}=lh({isOpen:a,defaultIsOpen:l,onClose:c,onOpen:E});u$({enabled:k&&r,ref:y,handler:q=>{var ae,le,Te;const te=((le=(ae=q.composedPath)==null?void 0:ae.call(q))==null?void 0:le[0])??q.target;(Te=v.current)!=null&&Te.contains(te)||R()}});const D=A5({...m,enabled:k||p,placement:d,direction:h}),[P,M]=w.useState(-1);s$(y,{focusRef:v,visible:k,shouldFocus:!0});const j=n$({isOpen:k,ref:y}),[F,O]=a$(e,"menu-button","menu-list"),B=w.useCallback(()=>{A(),S()},[A,S]),I=w.useRef(new Set([]));w.useEffect(()=>{const q=I.current;return()=>{q.forEach(te=>clearTimeout(te)),q.clear()}},[]),Zc(()=>{var q;k||(M(-1),(q=y.current)==null||q.scrollTo(0,0))},[k]),Zc(()=>{k&&P===-1&&S()},[P,k]),w.useEffect(()=>{var te;if(!k)return;const q=x.item(P);(te=q==null?void 0:q.node)==null||te.focus({preventScroll:!b.current})},[x,P,k]);const $=w.useCallback(()=>{A(),T()},[T,A]),G=w.useCallback(()=>{b.current=!0,A(),C()},[A,C]),Y=w.useCallback(()=>{var Te,Fe;const q=_5(y.current),te=(Te=y.current)==null?void 0:Te.contains(q.activeElement);if(!(k&&!te))return;const le=(Fe=x.item(P))==null?void 0:Fe.node;le==null||le.focus({preventScroll:!b.current})},[k,P,x]);return{openAndFocusMenu:B,openAndFocusFirstItem:$,openAndFocusLastItem:G,onTransitionEnd:Y,unstable__animationState:j,descendants:x,popper:D,buttonId:F,menuId:O,forceUpdate:D.forceUpdate,orientation:"vertical",isOpen:k,onToggle:L,onOpen:A,onClose:R,menuRef:y,buttonRef:v,focusedIndex:P,closeOnSelect:n,closeOnBlur:r,autoSelect:s,setFocusedIndex:M,isLazy:o,lazyBehavior:f,initialFocusRef:i,scrollIntoViewRef:b}}function Gte(t={},e=null){const n=bh(),{onToggle:r,popper:i,openAndFocusFirstItem:s,openAndFocusLastItem:o,scrollIntoViewRef:a}=n,l=w.useCallback(c=>{const u=c.key,f={Enter:s,ArrowDown:s,ArrowUp:o}[u];f&&(a.current=!0,c.preventDefault(),c.stopPropagation(),f(c))},[s,o,a]);return{...t,ref:rr(n.buttonRef,e,i.referenceRef),id:n.buttonId,"data-active":He(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:ft(t.onClick,r),onKeyDown:ft(t.onKeyDown,l)}}function f1(t){var e;return Xte(t)&&!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))}function Kte(t={},e=null){const n=bh();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:i,menuRef:s,isOpen:o,onClose:a,menuId:l,isLazy:c,lazyBehavior:u,scrollIntoViewRef:d,unstable__animationState:f}=n,h=$te(),p=yee({preventDefault:b=>b.key!==" "&&f1(b.target)}),m=w.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const x=b.key,T={Tab:E=>E.preventDefault(),Escape:E=>{E.stopPropagation(),a()},ArrowDown:()=>{d.current=!0;const E=h.nextEnabled(r)??h.firstEnabled();E&&i(E.index)},ArrowUp:()=>{d.current=!0;const E=h.prevEnabled(r)??h.firstEnabled();E&&i(E.index)}}[x];if(T){b.preventDefault(),T(b);return}const C=p(E=>{const k=mee(h.values(),E,A=>{var R;return((R=A==null?void 0:A.node)==null?void 0:R.textContent)??""},h.item(r));if(k){const A=h.indexOf(k.node);i(A)}});f1(b.target)&&C(b)},[h,r,p,a,i,d]),y=w.useRef(!1);o&&(y.current=!0);const v=XP({wasSelected:y.current,enabled:c,mode:u,isSelected:f.present});return{...t,ref:rr(s,e),children:v?t.children:null,tabIndex:-1,role:"menu",id:l,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:ft(t.onKeyDown,m)}}function Yte(t={}){const{popper:e,isOpen:n}=bh();return e.getPopperProps({...t,style:{visibility:n?"visible":"hidden",...t.style}})}function qte(t={},e=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onClick:s,onFocus:o,isDisabled:a,isFocusable:l,closeOnSelect:c,type:u,...d}=t,f=bh(),{setFocusedIndex:h,focusedIndex:p,closeOnSelect:m,onClose:y,menuId:v,scrollIntoViewRef:b}=f,x=w.useRef(null),S=`${v}-menuitem-${w.useId()}`,{index:T,register:C}=Ute({disabled:a&&!l}),E=w.useCallback(M=>{n==null||n(M),!a&&(b.current=!1,h(T))},[h,T,a,n,b]),k=w.useCallback(M=>{r==null||r(M),x.current&&!Hte(x.current)&&E(M)},[E,r]),A=w.useCallback(M=>{i==null||i(M),!a&&h(-1)},[h,a,i]),R=w.useCallback(M=>{s==null||s(M),f1(M.currentTarget)&&(c??m)&&y()},[y,s,m,c]),L=w.useCallback(M=>{o==null||o(M),h(T)},[h,o,T]),D=T===p,P=R5({onClick:R,onFocus:L,onMouseEnter:E,onMouseMove:k,onMouseLeave:A,ref:rr(C,x,e),isDisabled:a,isFocusable:l});return{...d,...P,type:u??P.type,id:S,role:"menuitem",tabIndex:D?0:-1}}function Xte(t){if(!Qte(t))return!1;const e=t.ownerDocument.defaultView??window;return t instanceof e.HTMLElement}function Qte(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[Zte,Sh]=dn({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),L5=t=>{const{children:e}=t,n=Xi("Menu",t),r=Qt(t),{direction:i}=ha(),{descendants:s,...o}=Wte({...r,direction:i}),a=w.useMemo(()=>o,[o]),{isOpen:l,onClose:c,forceUpdate:u}=a;return g.jsx(Bte,{value:s,children:g.jsx(Vte,{value:a,children:g.jsx(Zte,{value:n,children:Hr(e,{isOpen:l,onClose:c,forceUpdate:u})})})})};L5.displayName="Menu";const Jte=ge((t,e)=>{const n=Sh();return g.jsx(ce.button,{ref:e,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),I5=ge((t,e)=>{const{children:n,as:r,...i}=t,s=Gte(i,e),o=r||Jte;return g.jsx(o,{...s,className:Re("chakra-menu__menu-button",t.className),children:g.jsx(ce.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});I5.displayName="MenuButton";const P5=ge((t,e)=>{const n=Sh();return g.jsx(ce.span,{ref:e,...t,__css:n.command,className:"chakra-menu__command"})});P5.displayName="MenuCommand";const D5=t=>{const{className:e,children:n,...r}=t,i=Sh(),s=w.Children.only(n),o=w.isValidElement(s)?w.cloneElement(s,{focusable:"false","aria-hidden":!0,className:Re("chakra-menu__icon",s.props.className)}):null,a=Re("chakra-menu__icon-wrapper",e);return g.jsx(ce.span,{className:a,...r,__css:i.icon,children:o})};D5.displayName="MenuIcon";const ene=ge((t,e)=>{const{type:n,...r}=t,i=Sh(),s=r.as||n?n??void 0:"button",o=w.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...i.item}),[i.item]);return g.jsx(ce.button,{ref:e,type:s,...r,__css:o})}),ec=ge((t,e)=>{const{icon:n,iconSpacing:r="0.75rem",command:i,commandSpacing:s="0.75rem",children:o,...a}=t,l=qte(a,e),u=n||i?g.jsx("span",{style:{pointerEvents:"none",flex:1},children:o}):o;return g.jsxs(ene,{...l,className:Re("chakra-menu__menuitem",l.className),children:[n&&g.jsx(D5,{fontSize:"0.8em",marginEnd:r,children:n}),u,i&&g.jsx(P5,{marginStart:s,children:i})]})});ec.displayName="MenuItem";const tne={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},nne=ce(_s.div),M5=ge(function(e,n){var f;const{rootProps:r,motionProps:i,...s}=e,{isOpen:o,onTransitionEnd:a,unstable__animationState:l}=bh(),c=Kte(s,n),u=Yte(r),d=Sh();return g.jsx(ce.div,{...u,__css:{zIndex:e.zIndex??((f=d.list)==null?void 0:f.zIndex)},children:g.jsx(nne,{variants:tne,initial:!1,animate:o?"enter":"exit",__css:{outline:0,...d.list},...i,...c,className:Re("chakra-menu__menu-list",c.className),onUpdate:a,onAnimationComplete:jB(l.onComplete,c.onAnimationComplete)})})});M5.displayName="MenuList";var rne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wl=new WeakMap,dp=new WeakMap,fp={},zv=0,O5=function(t){return t&&(t.host||O5(t.parentNode))},ine=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=O5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sne=function(t,e,n,r){var i=ine(e,Array.isArray(t)?t:[t]);fp[n]||(fp[n]=new WeakMap);var s=fp[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",m=(Wl.get(f)||0)+1,y=(s.get(f)||0)+1;Wl.set(f,m),s.set(f,y),o.push(f),m===1&&p&&dp.set(f,!0),y===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),zv++,function(){o.forEach(function(d){var f=Wl.get(d)-1,h=s.get(d)-1;Wl.set(d,f),s.set(d,h),f||(dp.has(d)||d.removeAttribute(r),dp.delete(d)),h||d.removeAttribute(n)}),zv--,zv||(Wl=new WeakMap,Wl=new WeakMap,dp=new WeakMap,fp={})}},one=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=rne(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),sne(r,i,n,"aria-hidden")):function(){return null}},ane=Object.defineProperty,lne=(t,e,n)=>e in t?ane(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cne=(t,e,n)=>(lne(t,e+"",n),n);class une{constructor(){cne(this,"modals"),this.modals=new Set}add(e){return this.modals.add(e),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){if(!e)return!1;const n=Array.from(this.modals)[this.modals.size-1];return e===n}}const h1=new une;function F5(t,e){const[n,r]=w.useState(0);return w.useEffect(()=>{const i=t.current;if(i){if(e){const s=h1.add(i);r(s)}return()=>{h1.remove(i),r(0)}}},[e,t]),n}function dne(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:i=!0,closeOnEsc:s=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,c=w.useRef(null),u=w.useRef(null),[d,f,h]=hne(r,"chakra-modal","chakra-modal--header","chakra-modal--body");fne(c,e&&o);const p=F5(c,e),m=w.useRef(null),y=w.useCallback(A=>{m.current=A.target},[]),v=w.useCallback(A=>{A.key==="Escape"&&(A.stopPropagation(),s&&(n==null||n()),l==null||l())},[s,n,l]),[b,x]=w.useState(!1),[S,T]=w.useState(!1),C=w.useCallback((A={},R=null)=>({role:"dialog",...A,ref:rr(R,c),id:d,tabIndex:-1,"aria-modal":!0,"aria-labelledby":b?f:void 0,"aria-describedby":S?h:void 0,onClick:ft(A.onClick,L=>L.stopPropagation())}),[h,S,d,f,b]),E=w.useCallback(A=>{A.stopPropagation(),m.current===A.target&&h1.isTopModal(c.current)&&(i&&(n==null||n()),a==null||a())},[n,i,a]),k=w.useCallback((A={},R=null)=>({...A,ref:rr(R,u),onClick:ft(A.onClick,E),onKeyDown:ft(A.onKeyDown,v),onMouseDown:ft(A.onMouseDown,y)}),[v,y,E]);return{isOpen:e,onClose:n,headerId:f,bodyId:h,setBodyMounted:T,setHeaderMounted:x,dialogRef:c,overlayRef:u,getDialogProps:C,getDialogContainerProps:k,index:p}}function fne(t,e){const n=t.current;w.useEffect(()=>{if(!(!t.current||!e))return one(t.current)},[e,t,n])}function hne(t,...e){const n=w.useId(),r=t||n;return w.useMemo(()=>e.map(i=>`${i}-${r}`),[r,e])}const[pne,Rl]=dn({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[mne,ra]=dn({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Ru=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames||!0},{portalProps:n,children:r,autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:f,lockFocusAcrossFrames:h,animatePresenceProps:p,onCloseComplete:m}=e,y=Xi("Modal",e),b={...dne(e),autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:f,lockFocusAcrossFrames:h};return g.jsx(mne,{value:b,children:g.jsx(pne,{value:y,children:g.jsx(fa,{...p,onExitComplete:m,children:b.isOpen&&g.jsx(Au,{...n,children:r})})})})};Ru.displayName="Modal";var vm="right-scroll-bar-position",xm="width-before-scroll-bar",gne="with-scroll-bars-hidden",yne="--removed-body-scroll-bar-size",j5=V4(),Uv=function(){},G0=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Uv,onWheelCapture:Uv,onTouchMoveCapture:Uv}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,m=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,b=t.gapMode,x=$4(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,T=B4([n,e]),C=ps(ps({},x),i);return w.createElement(w.Fragment,null,u&&w.createElement(S,{sideCar:j5,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(a),ps(ps({},C),{ref:T})):w.createElement(v,ps({},C,{className:l,ref:T}),a))});G0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};G0.classNames={fullWidth:xm,zeroRight:vm};var vne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vne();return e&&t.setAttribute("nonce",e),t}function bne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Sne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wne=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xne())&&(bne(e,n),Sne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Tne=function(){var t=wne();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},N5=function(){var t=Tne(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Ene={left:0,top:0,right:0,gap:0},Vv=function(t){return parseInt(t||"",10)||0},Cne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Vv(n),Vv(r),Vv(i)]},kne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ene;var e=Cne(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ane=N5(),$c="data-scroll-locked",Rne=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(gne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat($c,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vm," .").concat(vm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($c,`] {
    `).concat(yne,": ").concat(a,`px;
  }
`)},oA=function(){var t=parseInt(document.body.getAttribute($c)||"0",10);return isFinite(t)?t:0},_ne=function(){w.useEffect(function(){return document.body.setAttribute($c,(oA()+1).toString()),function(){var t=oA()-1;t<=0?document.body.removeAttribute($c):document.body.setAttribute($c,t.toString())}},[])},Lne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;_ne();var s=w.useMemo(function(){return kne(i)},[i]);return w.createElement(Ane,{styles:Rne(s,!e,i,n?"":"!important")})},p1=!1;if(typeof window<"u")try{var hp=Object.defineProperty({},"passive",{get:function(){return p1=!0,!0}});window.addEventListener("test",hp,hp),window.removeEventListener("test",hp,hp)}catch{p1=!1}var Gl=p1?{passive:!1}:!1,Ine=function(t){return t.tagName==="TEXTAREA"},B5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ine(t)&&n[e]==="visible")},Pne=function(t){return B5(t,"overflowY")},Dne=function(t){return B5(t,"overflowX")},aA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=$5(t,r);if(i){var s=z5(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Mne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},One=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$5=function(t,e){return t==="v"?Pne(e):Dne(e)},z5=function(t,e){return t==="v"?Mne(e):One(e)},Fne=function(t,e){return t==="h"&&e==="rtl"?-1:1},jne=function(t,e,n,r,i){var s=Fne(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=z5(t,a),p=h[0],m=h[1],y=h[2],v=m-y-s*p;(p||v)&&$5(t,a)&&(d+=v,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},pp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lA=function(t){return[t.deltaX,t.deltaY]},cA=function(t){return t&&"current"in t?t.current:t},Nne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$ne=0,Kl=[];function zne(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState($ne++)[0],s=w.useState(N5)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=ZZ([t.lockRef.current],(t.shards||[]).map(cA),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=pp(m),b=n.current,x="deltaX"in m?m.deltaX:b[0]-v[0],S="deltaY"in m?m.deltaY:b[1]-v[1],T,C=m.target,E=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in m&&E==="h"&&C.type==="range")return!1;var k=aA(E,C);if(!k)return!0;if(k?T=E:(T=E==="v"?"h":"v",k=aA(E,C)),!k)return!1;if(!r.current&&"changedTouches"in m&&(x||S)&&(r.current=T),!T)return!0;var A=r.current||T;return jne(A,y,m,A==="h"?x:S,!0)},[]),l=w.useCallback(function(m){var y=m;if(!(!Kl.length||Kl[Kl.length-1]!==s)){var v="deltaY"in y?lA(y):pp(y),b=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&Nne(T.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(cA).filter(Boolean).filter(function(T){return T.contains(y.target)}),S=x.length>0?a(y,x[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),c=w.useCallback(function(m,y,v,b){var x={name:m,delta:y,target:v,should:b,shadowParent:Une(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(S){return S!==x})},1)},[]),u=w.useCallback(function(m){n.current=pp(m),r.current=void 0},[]),d=w.useCallback(function(m){c(m.type,lA(m),m.target,a(m,t.lockRef.current))},[]),f=w.useCallback(function(m){c(m.type,pp(m),m.target,a(m,t.lockRef.current))},[]);w.useEffect(function(){return Kl.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Gl),document.addEventListener("touchmove",l,Gl),document.addEventListener("touchstart",u,Gl),function(){Kl=Kl.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Gl),document.removeEventListener("touchmove",l,Gl),document.removeEventListener("touchstart",u,Gl)}},[]);var h=t.removeScrollBar,p=t.inert;return w.createElement(w.Fragment,null,p?w.createElement(s,{styles:Bne(i)}):null,h?w.createElement(Lne,{gapMode:t.gapMode}):null)}function Une(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Vne=JZ(j5,zne);var U5=w.forwardRef(function(t,e){return w.createElement(G0,ps({},t,{ref:e,sideCar:Vne}))});U5.classNames=G0.classNames;function V5(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:i,blockScrollOnMount:s,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:c,lockFocusAcrossFrames:u,isOpen:d}=ra(),[f,h]=ZM();w.useEffect(()=>{!f&&h&&setTimeout(h)},[f,h]);const p=F5(r,d);return g.jsx(g5,{autoFocus:e,isDisabled:!n,initialFocusRef:i,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:u,children:g.jsx(U5,{removeScrollBar:!c,allowPinchZoom:o,enabled:p===1&&s,forwardProps:!0,children:t.children})})}const Hne={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:i})=>({opacity:0,x:t,y:e,transition:(n==null?void 0:n.exit)??Yi.exit(rl.exit,i),transitionEnd:r==null?void 0:r.exit}),enter:({transition:t,transitionEnd:e,delay:n})=>({opacity:1,x:0,y:0,transition:(t==null?void 0:t.enter)??Yi.enter(rl.enter,n),transitionEnd:e==null?void 0:e.enter}),exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:i,delay:s})=>{const o={x:e,y:t};return{opacity:0,transition:(n==null?void 0:n.exit)??Yi.exit(rl.exit,s),...i?{...o,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...o,...r==null?void 0:r.exit}}}}},Ed={initial:"initial",animate:"enter",exit:"exit",variants:Hne},Wne=w.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,className:o,offsetX:a=0,offsetY:l=8,transition:c,transitionEnd:u,delay:d,animatePresenceProps:f,...h}=e,p=r?i&&r:!0,m=i||r?"enter":"exit",y={offsetX:a,offsetY:l,reverse:s,transition:c,transitionEnd:u,delay:d};return g.jsx(fa,{...f,custom:y,children:p&&g.jsx(_s.div,{ref:n,className:Re("chakra-offset-slide",o),custom:y,...Ed,animate:m,...h})})});Wne.displayName="SlideFade";const Gne={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:i})=>({opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(n==null?void 0:n.exit)??Yi.exit(rl.exit,i)}),enter:({transitionEnd:t,transition:e,delay:n})=>({opacity:1,scale:1,transition:(e==null?void 0:e.enter)??Yi.enter(rl.enter,n),transitionEnd:t==null?void 0:t.enter})},H5={initial:"exit",animate:"enter",exit:"exit",variants:Gne},W5=w.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:c,delay:u,animatePresenceProps:d,...f}=e,h=r?i&&r:!0,p=i||r?"enter":"exit",m={initialScale:o,reverse:s,transition:l,transitionEnd:c,delay:u};return g.jsx(fa,{...d,custom:m,children:h&&g.jsx(_s.div,{ref:n,className:Re("chakra-offset-slide",a),...H5,animate:p,custom:m,...f})})});W5.displayName="ScaleFade";const Kne={slideInBottom:{...Ed,custom:{offsetY:16,reverse:!0}},slideInRight:{...Ed,custom:{offsetX:16,reverse:!0}},slideInTop:{...Ed,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...Ed,custom:{offsetX:-16,reverse:!0}},scale:{...H5,custom:{initialScale:.95,reverse:!0}},none:{}},Yne=ce(_s.section),qne=t=>Kne[t||"none"],G5=w.forwardRef((t,e)=>{const{preset:n,motionProps:r=qne(n),...i}=t;return g.jsx(Yne,{ref:e,...r,...i})});G5.displayName="ModalTransition";const wh=ge((t,e)=>{const{className:n,children:r,containerProps:i,motionProps:s,...o}=t,{getDialogProps:a,getDialogContainerProps:l}=ra(),c=a(o,e),u=l(i),d=Re("chakra-modal__content",n),f=Rl(),h={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...f.dialog},p={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...f.dialogContainer},{motionPreset:m}=ra();return g.jsx(V5,{children:g.jsx(ce.div,{...u,className:"chakra-modal__content-container",tabIndex:-1,__css:p,children:g.jsx(G5,{preset:m,motionProps:s,className:d,...c,__css:h,children:r})})})});wh.displayName="ModalContent";const _u=ge((t,e)=>{const{className:n,...r}=t,{bodyId:i,setBodyMounted:s}=ra();w.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=Re("chakra-modal__body",n),a=Rl();return g.jsx(ce.div,{ref:e,className:o,id:i,...r,__css:a.body})});_u.displayName="ModalBody";const Lu=ge((t,e)=>{const{onClick:n,className:r,...i}=t,{onClose:s}=ra(),o=Re("chakra-modal__close-btn",r),a=Rl();return g.jsx(Gw,{ref:e,__css:a.closeButton,className:o,onClick:ft(n,l=>{l.stopPropagation(),s()}),...i})});Lu.displayName="ModalCloseButton";const gT=ge((t,e)=>{const{className:n,...r}=t,i=Re("chakra-modal__footer",n),s=Rl(),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...s.footer};return g.jsx(ce.footer,{ref:e,...r,__css:o,className:i})});gT.displayName="ModalFooter";const K0=ge((t,e)=>{const{className:n,...r}=t,{headerId:i,setHeaderMounted:s}=ra();w.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=Re("chakra-modal__header",n),a=Rl(),l={flex:0,...a.header};return g.jsx(ce.header,{ref:e,className:o,id:i,...r,__css:l})});K0.displayName="ModalHeader";const Xne={enter:({transition:t,transitionEnd:e,delay:n}={})=>({opacity:1,transition:(t==null?void 0:t.enter)??Yi.enter(rl.enter,n),transitionEnd:e==null?void 0:e.enter}),exit:({transition:t,transitionEnd:e,delay:n}={})=>({opacity:0,transition:(t==null?void 0:t.exit)??Yi.exit(rl.exit,n),transitionEnd:e==null?void 0:e.exit})},K5={initial:"exit",animate:"enter",exit:"exit",variants:Xne},Qne=w.forwardRef(function(e,n){const{unmountOnExit:r,in:i,className:s,transition:o,transitionEnd:a,delay:l,animatePresenceProps:c,...u}=e,d=i||r?"enter":"exit",f=r?i&&r:!0,h={transition:o,transitionEnd:a,delay:l};return g.jsx(fa,{...c,custom:h,children:f&&g.jsx(_s.div,{ref:n,className:Re("chakra-fade",s),custom:h,...K5,animate:d,...u})})});Qne.displayName="Fade";const Zne=ce(_s.div),Iu=ge((t,e)=>{const{className:n,transition:r,motionProps:i,...s}=t,o=Re("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Rl().overlay},{motionPreset:c}=ra(),d=i||(c==="none"?{}:K5);return g.jsx(Zne,{...d,__css:l,ref:e,className:o,...s})});Iu.displayName="ModalOverlay";const[Jne,ere]=dn(),tre={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function nre(t,e){var n;if(t)return((n=tre[t])==null?void 0:n[e])??t}function rre(t){var c;const{isOpen:e,onClose:n,placement:r="right",children:i,...s}=t,o=ha(),a=(c=o.components)==null?void 0:c.Drawer,l=nre(r,o.direction);return g.jsx(Jne,{value:{placement:l},children:g.jsx(Ru,{isOpen:e,onClose:n,styleConfig:a,...s,children:i})})}const uA={exit:{duration:.15,ease:Wa.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},ire={exit:({direction:t,transition:e,transitionEnd:n,delay:r})=>{const{exit:i}=Zb({direction:t});return{...i,transition:(e==null?void 0:e.exit)??Yi.exit(uA.exit,r),transitionEnd:n==null?void 0:n.exit}},enter:({direction:t,transitionEnd:e,transition:n,delay:r})=>{const{enter:i}=Zb({direction:t});return{...i,transition:(n==null?void 0:n.enter)??Yi.enter(uA.enter,r),transitionEnd:e==null?void 0:e.enter}}},Y5=w.forwardRef(function(e,n){const{direction:r="right",style:i,unmountOnExit:s,in:o,className:a,transition:l,transitionEnd:c,delay:u,motionProps:d,animatePresenceProps:f,...h}=e,p=Zb({direction:r}),m=Object.assign({position:"fixed"},p.position,i),y=s?o&&s:!0,v=o||s?"enter":"exit",b={transitionEnd:c,transition:l,direction:r,delay:u};return g.jsx(fa,{...f,custom:b,children:y&&g.jsx(_s.div,{...h,ref:n,initial:"exit",className:Re("chakra-slide",a),animate:v,exit:"exit",custom:b,variants:ire,style:m,...d})})});Y5.displayName="Slide";const sre=ce(Y5),q5=ge((t,e)=>{const{className:n,children:r,motionProps:i,containerProps:s,...o}=t,{getDialogProps:a,getDialogContainerProps:l,isOpen:c}=ra(),u=a(o,e),d=l(s),f=Re("chakra-modal__content",n),h=Rl(),p={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...h.dialog},m={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...h.dialogContainer},{placement:y}=ere();return g.jsx(V5,{children:g.jsx(ce.div,{...d,className:"chakra-modal__content-container",__css:m,children:g.jsx(sre,{motionProps:i,direction:y,in:c,className:f,...u,__css:p,children:r})})})});q5.displayName="DrawerContent";const m1=t=>g.jsx(ce.circle,{cx:50,cy:50,r:42,fill:"transparent",...t});m1.displayName="Circle";function ore(t,e,n){return(t-e)*100/(n-e)}const are=Cl({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),lre=Cl({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});Cl({"0%":{left:"-40%"},"100%":{left:"100%"}});Cl({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function cre(t){const{value:e=0,min:n,max:r,valueText:i,getValueText:s,isIndeterminate:o,role:a="progressbar"}=t,l=ore(e,n,r);return{bind:{"data-indeterminate":o?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":o?void 0:e,"aria-valuetext":(()=>{if(e!=null)return typeof s=="function"?s(e,l):i})(),role:a},percent:l,value:e}}const X5=t=>{const{size:e,isIndeterminate:n,...r}=t;return g.jsx(ce.svg,{viewBox:"0 0 100 100",__css:{width:e,height:e,animation:n?`${lre} 2s linear infinite`:void 0},...r})};X5.displayName="Shape";const yT=ge((t,e)=>{const{size:n="48px",max:r=100,min:i=0,valueText:s,getValueText:o,value:a,capIsRound:l,children:c,thickness:u="10px",color:d="#0078d4",trackColor:f="#edebe9",isIndeterminate:h,...p}=t,m=cre({min:i,max:r,value:a,valueText:s,getValueText:o,isIndeterminate:h}),y=h?void 0:(m.percent??0)*2.64,v=y==null?void 0:`${y} ${264-y}`,b=h?{css:{animation:`${are} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:v,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},x={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:n};return g.jsxs(ce.div,{ref:e,className:"chakra-progress",...m.bind,...p,__css:x,children:[g.jsxs(X5,{size:n,isIndeterminate:h,children:[g.jsx(m1,{stroke:f,strokeWidth:u,className:"chakra-progress__track"}),g.jsx(m1,{stroke:d,strokeWidth:u,className:"chakra-progress__indicator",strokeLinecap:l?"round":void 0,opacity:m.value===0&&!h?0:void 0,...b})]}),c]})});yT.displayName="CircularProgress";const vT=ce("div",{baseStyle:{fontSize:"0.24em",top:"50%",left:"50%",width:"100%",textAlign:"center",position:"absolute",transform:"translate(-50%, -50%)"}});vT.displayName="CircularProgressLabel";const Q5=ge(function(e,n){const{children:r,placeholder:i,className:s,...o}=e;return g.jsxs(ce.select,{...o,ref:n,className:Re("chakra-select",s),children:[i&&g.jsx("option",{value:"",children:i}),r]})});Q5.displayName="SelectField";const Rr=ge((t,e)=>{var x;const n=Xi("Select",t),{rootProps:r,placeholder:i,icon:s,color:o,height:a,h:l,minH:c,minHeight:u,iconColor:d,iconSize:f,...h}=Qt(t),[p,m]=ZB(h,G$),y=qw(m),v={width:"100%",height:"fit-content",position:"relative",color:o},b={paddingEnd:"2rem",...n.field,_focus:{zIndex:"unset",...(x=n.field)==null?void 0:x._focus}};return g.jsxs(ce.div,{className:"chakra-select__wrapper",__css:v,...p,...r,children:[g.jsx(Q5,{ref:e,height:l??a,minH:c??u,placeholder:i,...y,__css:b,children:t.children}),g.jsx(Z5,{"data-disabled":He(y.disabled),...(d||o)&&{color:d||o},__css:n.icon,...f&&{fontSize:f},children:s})]})});Rr.displayName="Select";const ure=t=>g.jsx("svg",{viewBox:"0 0 24 24",...t,children:g.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),dre=ce("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),Z5=t=>{const{children:e=g.jsx(ure,{}),...n}=t,r=w.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return g.jsx(dre,{...n,className:"chakra-select__icon-wrapper",children:w.isValidElement(e)?r:null})};Z5.displayName="SelectIcon";function fre(){const t=w.useRef(!0);return w.useEffect(()=>{t.current=!1},[]),t.current}const hre=ce("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),g1=ke("skeleton-start-color"),y1=ke("skeleton-end-color"),pre=Cl({from:{opacity:0},to:{opacity:1}}),mre=Cl({from:{borderColor:g1.reference,background:g1.reference},to:{borderColor:y1.reference,background:y1.reference}}),Zr=ge((t,e)=>{const n={...t,fadeDuration:typeof t.fadeDuration=="number"?t.fadeDuration:.4,speed:typeof t.speed=="number"?t.speed:.8},r=Or("Skeleton",n),i=fre(),{startColor:s="",endColor:o="",isLoaded:a,fadeDuration:l,speed:c,className:u,fitContent:d,animation:f,...h}=Qt(n),[p,m]=FQ("colors",[s,o]),y=d$(a),v=Re("chakra-skeleton",u),b={...p&&{[g1.variable]:p},...m&&{[y1.variable]:m}};if(a){const x=i||y?"none":`${pre} ${l}s`;return g.jsx(ce.div,{ref:e,className:v,__css:{animation:x},...h})}return g.jsx(hre,{ref:e,className:v,...h,__css:{width:d?"fit-content":void 0,...r,...b,_dark:{...r._dark,...b},animation:f||`${c}s linear infinite alternate ${mre}`}})});Zr.displayName="Skeleton";const Ga=ce("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Ga.displayName="Spacer";const J5=t=>g.jsx(ce.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});J5.displayName="StackItem";function gre(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":sw(n,i=>r[i])}}const Dr=ge((t,e)=>{const{isInline:n,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:u,shouldWrapChildren:d,...f}=t,h=n?"row":r??"column",p=w.useMemo(()=>gre({spacing:o,direction:h}),[o,h]),m=!!c,y=!d&&!m,v=w.useMemo(()=>{const x=GP(l);return y?x:x.map((S,T)=>{const C=typeof S.key<"u"?S.key:T,E=T+1===x.length,A=d?g.jsx(J5,{children:S},C):S;if(!m)return A;const R=w.cloneElement(c,{__css:p}),L=E?null:R;return g.jsxs(w.Fragment,{children:[A,L]},C)})},[c,p,m,y,d,l]),b=Re("chakra-stack",u);return g.jsx(ce.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:h,flexWrap:a,gap:m?void 0:o,className:b,...f,children:v})});Dr.displayName="Stack";const ht=ge((t,e)=>g.jsx(Dr,{align:"center",...t,direction:"row",ref:e}));ht.displayName="HStack";const e3=t=>g.jsx(ce.div,{className:"chakra-stack__divider",...t,__css:{...t.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});e3.displayName="StackDivider";const Ue=ge((t,e)=>g.jsx(Dr,{align:"center",...t,direction:"column",ref:e}));Ue.displayName="VStack";const uu=ge(function(e,n){const r=Xi("Switch",e),{spacing:i="0.5rem",children:s,...o}=Qt(e),{getIndicatorProps:a,getInputProps:l,getCheckboxProps:c,getRootProps:u,getLabelProps:d}=OZ(o),f=w.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container}),[r.container]),h=w.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track}),[r.track]),p=w.useMemo(()=>({userSelect:"none",marginStart:i,...r.label}),[i,r.label]);return g.jsxs(ce.label,{...u(),className:Re("chakra-switch",e.className),__css:f,children:[g.jsx("input",{className:"chakra-switch__input",...l({},n)}),g.jsx(ce.span,{...c(),className:"chakra-switch__track",__css:h,children:g.jsx(ce.span,{__css:r.thumb,className:"chakra-switch__thumb",...a()})}),s&&g.jsx(ce.span,{className:"chakra-switch__label",...d(),__css:p,children:s})]})});uu.displayName="Switch";const[yre,Th]=dn({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),t3=ge((t,e)=>{const n=Xi("Table",t),{className:r,layout:i,...s}=Qt(t);return g.jsx(yre,{value:n,children:g.jsx(ce.table,{ref:e,__css:{tableLayout:i,...n.table},className:Re("chakra-table",r),...s})})});t3.displayName="Table";const vre=ge((t,e)=>{const n=Th();return g.jsx(ce.tbody,{...t,ref:e,__css:n.tbody})}),v1=ge(({isNumeric:t,...e},n)=>{const r=Th();return g.jsx(ce.td,{...e,ref:n,__css:r.td,"data-is-numeric":t})}),Hv=ge(({isNumeric:t,...e},n)=>{const r=Th();return g.jsx(ce.th,{...e,ref:n,__css:r.th,"data-is-numeric":t})}),xre=ge((t,e)=>{const n=Th();return g.jsx(ce.thead,{...t,ref:e,__css:n.thead})}),x1=ge((t,e)=>{const n=Th();return g.jsx(ce.tr,{...t,ref:e,__css:n.tr})}),[bre,Sre,wre,Tre]=E4();function Ere(t){const{defaultIndex:e,onChange:n,index:r,isManual:i,isLazy:s,lazyBehavior:o="unmount",orientation:a="horizontal",direction:l="ltr",...c}=t,[u,d]=w.useState(e??0),[f,h]=r$({defaultValue:e??0,value:r,onChange:n});w.useEffect(()=>{r!=null&&d(r)},[r]);const p=wre(),m=w.useId();return{id:`tabs-${t.id??m}`,selectedIndex:f,focusedIndex:u,setSelectedIndex:h,setFocusedIndex:d,isManual:i,isLazy:s,lazyBehavior:o,orientation:a,descendants:p,direction:l,htmlProps:c}}const[Cre,Y0]=dn({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function kre(t){const{focusedIndex:e,orientation:n,direction:r}=Y0(),i=Sre(),s=w.useCallback(o=>{const a=()=>{var x;const b=i.nextEnabled(e);b&&((x=b.node)==null||x.focus())},l=()=>{var x;const b=i.prevEnabled(e);b&&((x=b.node)==null||x.focus())},c=()=>{var x;const b=i.firstEnabled();b&&((x=b.node)==null||x.focus())},u=()=>{var x;const b=i.lastEnabled();b&&((x=b.node)==null||x.focus())},d=n==="horizontal",f=n==="vertical",h=o.key,p=r==="ltr"?"ArrowLeft":"ArrowRight",m=r==="ltr"?"ArrowRight":"ArrowLeft",v={[p]:()=>d&&l(),[m]:()=>d&&a(),ArrowDown:()=>f&&a(),ArrowUp:()=>f&&l(),Home:c,End:u}[h];v&&(o.preventDefault(),v(o))},[i,e,n,r]);return{...t,role:"tablist","aria-orientation":n,onKeyDown:ft(t.onKeyDown,s)}}function Are(t){const{isDisabled:e=!1,isFocusable:n=!1,...r}=t,{setSelectedIndex:i,isManual:s,id:o,setFocusedIndex:a,selectedIndex:l}=Y0(),{index:c,register:u}=Tre({disabled:e&&!n}),d=c===l,f=()=>{i(c)},h=()=>{a(c),!s&&!(e&&n)&&i(c)};return{...R5({...r,ref:rr(u,t.ref),isDisabled:e,isFocusable:n,onClick:ft(t.onClick,f)}),id:n3(o,c),role:"tab",tabIndex:d?0:-1,type:"button","aria-selected":d,"aria-controls":r3(o,c),onFocus:e?void 0:ft(t.onFocus,h)}}const[Rre,_re]=dn({});function Lre(t){const e=Y0(),{id:n,selectedIndex:r}=e,s=GP(t.children).map((o,a)=>w.createElement(Rre,{key:o.key??a,value:{isSelected:a===r,id:r3(n,a),tabId:n3(n,a),selectedIndex:r}},o));return{...t,children:s}}function Ire(t){const{children:e,...n}=t,{isLazy:r,lazyBehavior:i}=Y0(),{isSelected:s,id:o,tabId:a}=_re(),l=w.useRef(!1);s&&(l.current=!0);const c=XP({wasSelected:l.current,isSelected:s,enabled:r,mode:i});return{tabIndex:0,...n,children:c?e:null,role:"tabpanel","aria-labelledby":a,hidden:!s,id:o}}function n3(t,e){return`${t}--tab-${e}`}function r3(t,e){return`${t}--tabpanel-${e}`}const[Pre,q0]=dn({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),Vf=ge(function(e,n){const r=Xi("Tabs",e),{children:i,className:s,...o}=Qt(e),{htmlProps:a,descendants:l,...c}=Ere(o),u=w.useMemo(()=>c,[c]),{isFitted:d,...f}=a,h={position:"relative",...r.root};return g.jsx(bre,{value:l,children:g.jsx(Cre,{value:u,children:g.jsx(Pre,{value:r,children:g.jsx(ce.div,{className:Re("chakra-tabs",s),ref:n,...f,__css:h,children:i})})})})});Vf.displayName="Tabs";const eo=ge(function(e,n){const r=q0(),i=Are({...e,ref:n}),s={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return g.jsx(ce.button,{...i,className:Re("chakra-tabs__tab",e.className),__css:s})});eo.displayName="Tab";const Hf=ge(function(e,n){const r=kre({...e,ref:n}),i=q0(),s={display:"flex",...i.tablist};return g.jsx(ce.div,{...r,className:Re("chakra-tabs__tablist",e.className),__css:s})});Hf.displayName="TabList";const to=ge(function(e,n){const r=Ire({...e,ref:n}),i=q0();return g.jsx(ce.div,{outline:"0",...r,className:Re("chakra-tabs__tab-panel",e.className),__css:i.tabpanel})});to.displayName="TabPanel";const Wf=ge(function(e,n){const r=Lre(e),i=q0();return g.jsx(ce.div,{...r,width:"100%",ref:n,className:Re("chakra-tabs__tab-panels",e.className),__css:i.tabpanels})});Wf.displayName="TabPanels";const Dre=["h","minH","height","minHeight"],xT=ge((t,e)=>{const n=Or("Textarea",t),{className:r,rows:i,...s}=Qt(t),o=qw(s),a=i?Cu(n,Dre):n;return g.jsx(ce.textarea,{ref:e,rows:i,...o,className:Re("chakra-textarea",r),__css:a})});xT.displayName="Textarea";function Mre(t,e){const n=t??"bottom",i={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[n];return(i==null?void 0:i[e])??n}function Ore(t,e){const n=i=>({...e,...i,position:Mre((i==null?void 0:i.position)??(e==null?void 0:e.position),t)}),r=i=>{const s=n(i),o=w4(s);return hs.notify(o,s)};return r.update=(i,s)=>{hs.update(i,n(s))},r.promise=(i,s)=>{const o=r({...s.loading,status:"loading",duration:null});i.then(a=>r.update(o,{status:"success",duration:5e3,...Hr(s.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...Hr(s.error,a)}))},r.closeAll=hs.closeAll,r.close=hs.close,r.isActive=hs.isActive,r}function Eh(t){const{theme:e}=p4(),n=tZ();return w.useMemo(()=>Ore(e.direction,{...n,...t}),[t,e.direction,n])}const Fre={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},b1=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},bm=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function jre(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:i,closeOnScroll:s,closeOnPointerDown:o=i,closeOnEsc:a=!0,onOpen:l,onClose:c,placement:u,id:d,isOpen:f,defaultIsOpen:h,arrowSize:p=10,arrowShadowColor:m,arrowPadding:y,modifiers:v,isDisabled:b,gutter:x,offset:S,direction:T,...C}=t,{isOpen:E,onOpen:k,onClose:A}=lh({isOpen:f,defaultIsOpen:h,onOpen:l,onClose:c}),{referenceRef:R,getPopperProps:L,getArrowInnerProps:D,getArrowProps:P}=A5({enabled:E,placement:u,arrowPadding:y,modifiers:v,gutter:x,offset:S,direction:T}),M=w.useId(),F=`tooltip-${d??M}`,O=w.useRef(null),B=w.useRef(),I=w.useCallback(()=>{B.current&&(clearTimeout(B.current),B.current=void 0)},[]),$=w.useRef(),G=w.useCallback(()=>{$.current&&(clearTimeout($.current),$.current=void 0)},[]),Y=w.useCallback(()=>{G(),A()},[A,G]),q=Nre(O,Y),te=w.useCallback(()=>{if(!b&&!B.current){E&&q();const De=bm(O);B.current=De.setTimeout(k,e)}},[q,b,E,k,e]),ae=w.useCallback(()=>{I();const De=bm(O);$.current=De.setTimeout(Y,n)},[n,Y,I]),le=w.useCallback(()=>{E&&r&&ae()},[r,ae,E]),Te=w.useCallback(()=>{E&&o&&ae()},[o,ae,E]),Fe=w.useCallback(De=>{E&&De.key==="Escape"&&ae()},[E,ae]);tm(()=>b1(O),"keydown",a?Fe:void 0),tm(()=>{if(!s)return null;const De=O.current;if(!De)return null;const bt=JP(De);return bt.localName==="body"?bm(O):bt},"scroll",()=>{E&&s&&Y()},{passive:!0,capture:!0}),w.useEffect(()=>{b&&(I(),E&&A())},[b,E,A,I]),w.useEffect(()=>()=>{I(),G()},[I,G]),tm(()=>O.current,"pointerleave",ae);const Qe=w.useCallback((De={},bt=null)=>({...De,ref:rr(O,bt,R),onPointerEnter:ft(De.onPointerEnter,Ee=>{Ee.pointerType!=="touch"&&te()}),onClick:ft(De.onClick,le),onPointerDown:ft(De.onPointerDown,Te),onFocus:ft(De.onFocus,te),onBlur:ft(De.onBlur,ae),"aria-describedby":E?F:void 0}),[te,ae,Te,E,F,le,R]),it=w.useCallback((De={},bt=null)=>L({...De,style:{...De.style,[Un.arrowSize.var]:p?`${p}px`:void 0,[Un.arrowShadowColor.var]:m}},bt),[L,p,m]),Me=w.useCallback((De={},bt=null)=>{const yn={...De.style,position:"relative",transformOrigin:Un.transformOrigin.varRef};return{ref:bt,...C,...De,id:F,role:"tooltip",style:yn}},[C,F]);return{isOpen:E,show:te,hide:ae,getTriggerProps:Qe,getTooltipProps:Me,getTooltipPositionerProps:it,getArrowProps:P,getArrowInnerProps:D}}const Wv="chakra-ui:close-tooltip";function Nre(t,e){return w.useEffect(()=>{const n=b1(t);return n.addEventListener(Wv,e),()=>n.removeEventListener(Wv,e)},[e,t]),()=>{const n=b1(t),r=bm(t);n.dispatchEvent(new r.CustomEvent(Wv))}}const Bre=ce(_s.div),S1=ge((t,e)=>{const n=Or("Tooltip",t),r=Qt(t),i=ha(),{children:s,label:o,shouldWrapChildren:a,"aria-label":l,hasArrow:c,bg:u,portalProps:d,background:f,backgroundColor:h,bgColor:p,motionProps:m,animatePresenceProps:y,...v}=r,b=f??h??u??p;if(b){n.bg=b;const R=n7(i,"colors",b);n[Un.arrowBg.var]=R}const x=jre({...v,direction:i.direction}),S=!w.isValidElement(s)||a;let T;if(S)T=g.jsx(ce.span,{display:"inline-block",tabIndex:0,...x.getTriggerProps(),children:s});else{const R=w.Children.only(s);T=w.cloneElement(R,x.getTriggerProps(R.props,R.ref))}const C=!!l,E=x.getTooltipProps({},e),k=C?Cu(E,["role","id"]):E,A=QP(E,["role","id"]);return o?g.jsxs(g.Fragment,{children:[T,g.jsx(fa,{...y,children:x.isOpen&&g.jsx(Au,{...d,children:g.jsx(ce.div,{...x.getTooltipPositionerProps(),__css:{zIndex:n.zIndex,pointerEvents:"none"},children:g.jsxs(Bre,{variants:Fre,initial:"exit",animate:"enter",exit:"exit",...m,...k,__css:n,children:[o,C&&g.jsx(ce.span,{srOnly:!0,...A,children:l}),c&&g.jsx(ce.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:g.jsx(ce.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:n.bg}})})]})})})})]}):g.jsx(g.Fragment,{children:s})});S1.displayName="Tooltip";const on=ge(function(e,n){const r=Or("Heading",e),{className:i,...s}=Qt(e);return g.jsx(ce.h2,{ref:n,className:Re("chakra-heading",e.className),...s,__css:r})});on.displayName="Heading";const H=ge(function(e,n){const r=Or("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=Qt(e),c=iw({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return g.jsx(ce.p,{ref:n,className:Re("chakra-text",e.className),...c,...l,__css:r})});H.displayName="Text";const i3=ge(function(e,n){const{spacing:r="0.5rem",spacingX:i,spacingY:s,children:o,justify:a,direction:l,align:c,className:u,shouldWrapChildren:d,...f}=e,h=w.useMemo(()=>d?w.Children.map(o,(p,m)=>g.jsx(Zd,{children:p},m)):o,[o,d]);return g.jsx(ce.div,{ref:n,className:Re("chakra-wrap",u),...f,children:g.jsx(ce.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:a,alignItems:c,flexDirection:l,listStyleType:"none",gap:r,columnGap:i,rowGap:s,padding:"0"},children:h})})});i3.displayName="Wrap";const Zd=ge(function(e,n){const{className:r,...i}=e;return g.jsx(ce.li,{ref:n,__css:{display:"flex",alignItems:"flex-start"},className:Re("chakra-wrap__listitem",r),...i})});Zd.displayName="WrapItem";var s3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dA=wr.createContext&&wr.createContext(s3),$re=["attr","size","title"];function zre(t,e){if(t==null)return{};var n=Ure(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ure(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o3(t){return t&&t.map((e,n)=>wr.createElement(e.tag,kg({key:n},e.attr),o3(e.child)))}function We(t){return e=>wr.createElement(Gre,Cg({attr:kg({},t.attr)},e),o3(t.child))}function Gre(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=zre(t,$re),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),wr.createElement("svg",Cg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:kg(kg({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&wr.createElement("title",null,s),t.children)};return dA!==void 0?wr.createElement(dA.Consumer,null,n=>e(n)):e(s3)}function a3(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function l3(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Kre(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function c3(t){return We({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function u3(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function bT(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function d3(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Yre(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Gv(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function qre(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function ma(t){return We({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function ga(t){return We({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Xre(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function Qre(t){return We({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function Ag(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function ST(t){return We({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function Zre(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function hA(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(t)}function Jre(t){return We({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function eie(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function tie(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function nie(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Rg(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function rie(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Kv(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(t)}function f3(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function iie(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function pA(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function X0(t){return We({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Yv(t){return We({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function mA(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function gA(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function yA(t){return We({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"},child:[]}]})(t)}function h3(t,e){return function(){return t.apply(e,arguments)}}const{toString:sie}=Object.prototype,{getPrototypeOf:wT}=Object,Q0=(t=>e=>{const n=sie.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qi=t=>(t=t.toLowerCase(),e=>Q0(e)===t),Z0=t=>e=>typeof e===t,{isArray:Pu}=Array,Gf=Z0("undefined");function oie(t){return t!==null&&!Gf(t)&&t.constructor!==null&&!Gf(t.constructor)&&Yr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const p3=Qi("ArrayBuffer");function aie(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&p3(t.buffer),e}const lie=Z0("string"),Yr=Z0("function"),m3=Z0("number"),J0=t=>t!==null&&typeof t=="object",cie=t=>t===!0||t===!1,Sm=t=>{if(Q0(t)!=="object")return!1;const e=wT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uie=Qi("Date"),die=Qi("File"),fie=Qi("Blob"),hie=Qi("FileList"),pie=t=>J0(t)&&Yr(t.pipe),mie=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yr(t.append)&&((e=Q0(t))==="formdata"||e==="object"&&Yr(t.toString)&&t.toString()==="[object FormData]"))},gie=Qi("URLSearchParams"),[yie,vie,xie,bie]=["ReadableStream","Request","Response","Headers"].map(Qi),Sie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ch(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Pu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function g3(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y3=t=>!Gf(t)&&t!==Ka;function w1(){const{caseless:t}=y3(this)&&this||{},e={},n=(r,i)=>{const s=t&&g3(e,i)||i;Sm(e[s])&&Sm(r)?e[s]=w1(e[s],r):Sm(r)?e[s]=w1({},r):Pu(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ch(arguments[r],n);return e}const wie=(t,e,n,{allOwnKeys:r}={})=>(Ch(e,(i,s)=>{n&&Yr(i)?t[s]=h3(i,n):t[s]=i},{allOwnKeys:r}),t),Tie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Eie=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Cie=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&wT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kie=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Aie=t=>{if(!t)return null;if(Pu(t))return t;let e=t.length;if(!m3(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Rie=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wT(Uint8Array)),_ie=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Lie=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Iie=Qi("HTMLFormElement"),Pie=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),vA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Die=Qi("RegExp"),v3=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ch(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Mie=t=>{v3(t,(e,n)=>{if(Yr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Yr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Oie=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Pu(t)?r(t):r(String(t).split(e)),n},Fie=()=>{},jie=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,qv="abcdefghijklmnopqrstuvwxyz",xA="0123456789",x3={DIGIT:xA,ALPHA:qv,ALPHA_DIGIT:qv+qv.toUpperCase()+xA},Nie=(t=16,e=x3.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Bie(t){return!!(t&&Yr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const $ie=t=>{const e=new Array(10),n=(r,i)=>{if(J0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Pu(r)?[]:{};return Ch(r,(o,a)=>{const l=n(o,i+1);!Gf(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},zie=Qi("AsyncFunction"),Uie=t=>t&&(J0(t)||Yr(t))&&Yr(t.then)&&Yr(t.catch),b3=((t,e)=>t?setImmediate:e?((n,r)=>(Ka.addEventListener("message",({source:i,data:s})=>{i===Ka&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ka.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Yr(Ka.postMessage)),Vie=typeof queueMicrotask<"u"?queueMicrotask.bind(Ka):typeof process<"u"&&process.nextTick||b3,ee={isArray:Pu,isArrayBuffer:p3,isBuffer:oie,isFormData:mie,isArrayBufferView:aie,isString:lie,isNumber:m3,isBoolean:cie,isObject:J0,isPlainObject:Sm,isReadableStream:yie,isRequest:vie,isResponse:xie,isHeaders:bie,isUndefined:Gf,isDate:uie,isFile:die,isBlob:fie,isRegExp:Die,isFunction:Yr,isStream:pie,isURLSearchParams:gie,isTypedArray:Rie,isFileList:hie,forEach:Ch,merge:w1,extend:wie,trim:Sie,stripBOM:Tie,inherits:Eie,toFlatObject:Cie,kindOf:Q0,kindOfTest:Qi,endsWith:kie,toArray:Aie,forEachEntry:_ie,matchAll:Lie,isHTMLForm:Iie,hasOwnProperty:vA,hasOwnProp:vA,reduceDescriptors:v3,freezeMethods:Mie,toObjectSet:Oie,toCamelCase:Pie,noop:Fie,toFiniteNumber:jie,findKey:g3,global:Ka,isContextDefined:y3,ALPHABET:x3,generateString:Nie,isSpecCompliantForm:Bie,toJSONObject:$ie,isAsyncFn:zie,isThenable:Uie,setImmediate:b3,asap:Vie};function $e(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const S3=$e.prototype,w3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{w3[t]={value:t}});Object.defineProperties($e,w3);Object.defineProperty(S3,"isAxiosError",{value:!0});$e.from=(t,e,n,r,i,s)=>{const o=Object.create(S3);return ee.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),$e.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Hie=null;function T1(t){return ee.isPlainObject(t)||ee.isArray(t)}function T3(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function bA(t,e,n){return t?t.concat(e).map(function(i,s){return i=T3(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Wie(t){return ee.isArray(t)&&!t.some(T1)}const Gie=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function ey(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ee.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(ee.isDate(p))return p.toISOString();if(!l&&ee.isBlob(p))throw new $e("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(p)||ee.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let v=p;if(p&&!y&&typeof p=="object"){if(ee.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(ee.isArray(p)&&Wie(p)||(ee.isFileList(p)||ee.endsWith(m,"[]"))&&(v=ee.toArray(p)))return m=T3(m),v.forEach(function(x,S){!(ee.isUndefined(x)||x===null)&&e.append(o===!0?bA([m],S,s):o===null?m:m+"[]",c(x))}),!1}return T1(p)?!0:(e.append(bA(y,m,s),c(p)),!1)}const d=[],f=Object.assign(Gie,{defaultVisitor:u,convertValue:c,isVisitable:T1});function h(p,m){if(!ee.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),ee.forEach(p,function(v,b){(!(ee.isUndefined(v)||v===null)&&i.call(e,v,ee.isString(b)?b.trim():b,m,f))===!0&&h(v,m?m.concat(b):[b])}),d.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return h(t),e}function SA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function TT(t,e){this._pairs=[],t&&ey(t,this,e)}const E3=TT.prototype;E3.append=function(e,n){this._pairs.push([e,n])};E3.toString=function(e){const n=e?function(r){return e.call(this,r,SA)}:SA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Kie(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C3(t,e,n){if(!e)return t;const r=n&&n.encode||Kie,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ee.isURLSearchParams(e)?e.toString():new TT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class wA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const k3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yie=typeof URLSearchParams<"u"?URLSearchParams:TT,qie=typeof FormData<"u"?FormData:null,Xie=typeof Blob<"u"?Blob:null,Qie={isBrowser:!0,classes:{URLSearchParams:Yie,FormData:qie,Blob:Xie},protocols:["http","https","file","blob","url","data"]},ET=typeof window<"u"&&typeof document<"u",E1=typeof navigator=="object"&&navigator||void 0,Zie=ET&&(!E1||["ReactNative","NativeScript","NS"].indexOf(E1.product)<0),Jie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ese=ET&&window.location.href||"http://localhost",tse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ET,hasStandardBrowserEnv:Zie,hasStandardBrowserWebWorkerEnv:Jie,navigator:E1,origin:ese},Symbol.toStringTag,{value:"Module"})),_r={...tse,...Qie};function nse(t,e){return ey(t,new _r.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return _r.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function rse(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ise(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function A3(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ee.isArray(i)?i.length:o,l?(ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ee.isArray(i[o])&&(i[o]=ise(i[o])),!a)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,i)=>{e(rse(r),i,n,0)}),n}return null}function sse(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const kh={transitional:k3,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(A3(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nse(e,this.formSerializer).toString();if((a=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ey(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),sse(e)):e}],transformResponse:[function(e){const n=this.transitional||kh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?$e.from(a,$e.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_r.classes.FormData,Blob:_r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{kh.headers[t]={}});const ose=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ase=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&ose[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},TA=Symbol("internals");function id(t){return t&&String(t).trim().toLowerCase()}function wm(t){return t===!1||t==null?t:ee.isArray(t)?t.map(wm):String(t)}function lse(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const cse=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xv(t,e,n,r,i){if(ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function use(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function dse(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Lr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=id(l);if(!u)throw new Error("header name must be a non-empty string");const d=ee.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=wm(a))}const o=(a,l)=>ee.forEach(a,(c,u)=>s(c,u,l));if(ee.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ee.isString(e)&&(e=e.trim())&&!cse(e))o(ase(e),n);else if(ee.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=id(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return lse(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=id(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Xv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=id(o),o){const a=ee.findKey(r,o);a&&(!n||Xv(r,r[a],a,n))&&(delete r[a],i=!0)}}return ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Xv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(r,s);if(o){n[o]=wm(i),delete n[s];return}const a=e?use(s):String(s).trim();a!==s&&delete n[s],n[a]=wm(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[TA]=this[TA]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=id(o);r[a]||(dse(i,o),r[a]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}}Lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Lr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(Lr);function Qv(t,e){const n=this||kh,r=e||n,i=Lr.from(r.headers);let s=r.data;return ee.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function R3(t){return!!(t&&t.__CANCEL__)}function Du(t,e,n){$e.call(this,t??"canceled",$e.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(Du,$e,{__CANCEL__:!0});function _3(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new $e("Request failed with status code "+n.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fse(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hse(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function pse(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const _g=(t,e,n=3)=>{let r=0;const i=hse(50,250);return pse(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},EA=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},CA=t=>(...e)=>ee.asap(()=>t(...e)),mse=_r.hasStandardBrowserEnv?function(){const e=_r.navigator&&/(msie|trident)/i.test(_r.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=ee.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),gse=_r.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&o.push("path="+r),ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yse(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vse(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function L3(t,e){return t&&!yse(e)?vse(t,e):e}const kA=t=>t instanceof Lr?{...t}:t;function bl(t,e){e=e||{};const n={};function r(c,u,d){return ee.isPlainObject(c)&&ee.isPlainObject(u)?ee.merge.call({caseless:d},c,u):ee.isPlainObject(u)?ee.merge({},u):ee.isArray(u)?u.slice():u}function i(c,u,d){if(ee.isUndefined(u)){if(!ee.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!ee.isUndefined(u))return r(void 0,u)}function o(c,u){if(ee.isUndefined(u)){if(!ee.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(kA(c),kA(u),!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);ee.isUndefined(f)&&d!==a||(n[u]=f)}),n}const I3=t=>{const e=bl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Lr.from(o),e.url=C3(L3(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ee.isFormData(n)){if(_r.hasStandardBrowserEnv||_r.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(_r.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&mse(e.url))){const c=i&&s&&gse.read(s);c&&o.set(i,c)}return e},xse=typeof XMLHttpRequest<"u",bse=xse&&function(t){return new Promise(function(n,r){const i=I3(t);let s=i.data;const o=Lr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const x=Lr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:t,request:y};_3(function(E){n(E),m()},function(E){r(E),m()},T),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new $e("Request aborted",$e.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new $e("Network Error",$e.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||k3;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new $e(S,T.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&ee.forEach(o.toJSON(),function(S,T){y.setRequestHeader(T,S)}),ee.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=_g(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=_g(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=x=>{y&&(r(!x||x.type?new Du(null,t,y):x),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=fse(i.url);if(b&&_r.protocols.indexOf(b)===-1){r(new $e("Unsupported protocol "+b+":",$e.ERR_BAD_REQUEST,t));return}y.send(s||null)})},Sse=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof $e?u:new Du(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new $e(`timeout ${e} of ms exceeded`,$e.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>ee.asap(a),l}},wse=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Tse=async function*(t,e){for await(const n of Ese(t))yield*wse(n,e)},Ese=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},AA=(t,e,n,r)=>{const i=Tse(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},ty=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",P3=ty&&typeof ReadableStream=="function",Cse=ty&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),D3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},kse=P3&&D3(()=>{let t=!1;const e=new Request(_r.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),RA=64*1024,C1=P3&&D3(()=>ee.isReadableStream(new Response("").body)),Lg={stream:C1&&(t=>t.body)};ty&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lg[e]&&(Lg[e]=ee.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new $e(`Response type '${e}' is not supported`,$e.ERR_NOT_SUPPORT,r)})})})(new Response);const Ase=async t=>{if(t==null)return 0;if(ee.isBlob(t))return t.size;if(ee.isSpecCompliantForm(t))return(await new Request(_r.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(t)||ee.isArrayBuffer(t))return t.byteLength;if(ee.isURLSearchParams(t)&&(t=t+""),ee.isString(t))return(await Cse(t)).byteLength},Rse=async(t,e)=>{const n=ee.toFiniteNumber(t.getContentLength());return n??Ase(e)},_se=ty&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=I3(t);c=c?(c+"").toLowerCase():"text";let h=Sse([i,s&&s.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&kse&&n!=="get"&&n!=="head"&&(y=await Rse(u,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(ee.isFormData(r)&&(C=T.headers.get("content-type"))&&u.setContentType(C),T.body){const[E,k]=EA(y,_g(CA(l)));r=AA(T.body,RA,E,k)}}ee.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let b=await fetch(p);const x=C1&&(c==="stream"||c==="response");if(C1&&(a||x&&m)){const T={};["status","statusText","headers"].forEach(A=>{T[A]=b[A]});const C=ee.toFiniteNumber(b.headers.get("content-length")),[E,k]=a&&EA(C,_g(CA(a),!0))||[];b=new Response(AA(b.body,RA,E,()=>{k&&k(),m&&m()}),T)}c=c||"text";let S=await Lg[ee.findKey(Lg,c)||"text"](b,t);return!x&&m&&m(),await new Promise((T,C)=>{_3(T,C,{data:S,headers:Lr.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,t,p),{cause:v.cause||v}):$e.from(v,v&&v.code,t,p)}}),k1={http:Hie,xhr:bse,fetch:_se};ee.forEach(k1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _A=t=>`- ${t}`,Lse=t=>ee.isFunction(t)||t===null||t===!1,M3={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Lse(n)&&(r=k1[(o=String(n)).toLowerCase()],r===void 0))throw new $e(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(_A).join(`
`):" "+_A(s[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:k1};function Zv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Du(null,t)}function LA(t){return Zv(t),t.headers=Lr.from(t.headers),t.data=Qv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),M3.getAdapter(t.adapter||kh.adapter)(t).then(function(r){return Zv(t),r.data=Qv.call(t,t.transformResponse,r),r.headers=Lr.from(r.headers),r},function(r){return R3(r)||(Zv(t),r&&r.response&&(r.response.data=Qv.call(t,t.transformResponse,r.response),r.response.headers=Lr.from(r.response.headers))),Promise.reject(r)})}const O3="1.7.7",CT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{CT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const IA={};CT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+O3+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new $e(i(o," has been removed"+(n?" in "+n:"")),$e.ERR_DEPRECATED);return n&&!IA[o]&&(IA[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Ise(t,e,n){if(typeof t!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new $e("option "+s+" must be "+l,$e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $e("Unknown option "+s,$e.ERR_BAD_OPTION)}}const A1={assertOptions:Ise,validators:CT},To=A1.validators;class ol{constructor(e){this.defaults=e,this.interceptors={request:new wA,response:new wA}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&A1.assertOptions(r,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:A1.assertOptions(i,{encode:To.function,serialize:To.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[n.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Lr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[LA.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=LA.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=bl(this.defaults,e);const n=L3(e.baseURL,e.url);return C3(n,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){ol.prototype[e]=function(n,r){return this.request(bl(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(bl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ol.prototype[e]=n(),ol.prototype[e+"Form"]=n(!0)});class kT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Du(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new kT(function(i){e=i}),cancel:e}}}function Pse(t){return function(n){return t.apply(null,n)}}function Dse(t){return ee.isObject(t)&&t.isAxiosError===!0}const R1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(R1).forEach(([t,e])=>{R1[e]=t});function F3(t){const e=new ol(t),n=h3(ol.prototype.request,e);return ee.extend(n,ol.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return F3(bl(t,i))},n}const vt=F3(kh);vt.Axios=ol;vt.CanceledError=Du;vt.CancelToken=kT;vt.isCancel=R3;vt.VERSION=O3;vt.toFormData=ey;vt.AxiosError=$e;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=Pse;vt.isAxiosError=Dse;vt.mergeConfig=bl;vt.AxiosHeaders=Lr;vt.formToJSON=t=>A3(ee.isHTMLForm(t)?new FormData(t):t);vt.getAdapter=M3.getAdapter;vt.HttpStatusCode=R1;vt.default=vt;const Mse={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},j3={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},sn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},or={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ro={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ne{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=ne.getVersionPrecision(e),s=ne.getVersionPrecision(n);let o=Math.max(i,s),a=0;const l=ne.map([e,n],c=>{const u=o-ne.getVersionPrecision(c),d=c+new Array(u+1).join(".0");return ne.map(d.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const s=e[r];if(n(s,r))return s}}static assign(e,...n){const r=e;let i,s;if(Object.assign)return Object.assign(e,...n);for(i=0,s=n.length;i<s;i+=1){const o=n[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return e}static getBrowserAlias(e){return Mse[e]}static getBrowserTypeByAlias(e){return j3[e]||""}}const Et=/version\/(\d+(\.?_?\d+)+)/i,Ose=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=ne.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=ne.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=ne.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=ne.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=ne.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=ne.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=ne.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=ne.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=ne.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=ne.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=ne.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=ne.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=ne.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=ne.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=ne.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=ne.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=ne.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=ne.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=ne.getFirstMatch(Et,t)||ne.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=ne.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=ne.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=ne.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=ne.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=ne.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=ne.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=ne.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=ne.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=ne.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=ne.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:ne.getFirstMatch(i,t),version:ne.getSecondMatch(i,t)}}}],Fse=[{test:[/Roku\/DVP/],describe(t){const e=ne.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:or.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ne.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:or.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ne.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=ne.getWindowsVersionName(e);return{name:or.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:or.iOS},n=ne.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=ne.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=ne.getMacOSVersionName(e),r={name:or.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ne.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:or.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=ne.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=ne.getAndroidVersionName(e),r={name:or.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ne.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:or.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ne.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ne.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ne.getFirstMatch(/\bbb(\d+)/i,t);return{name:or.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ne.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:or.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ne.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:or.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:or.Linux}}},{test:[/CrOS/],describe(){return{name:or.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=ne.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:or.PlayStation4,version:e}}}],jse=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=ne.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:sn.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:sn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:sn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:sn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:sn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:sn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:sn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=ne.getFirstMatch(/(ipod|iphone)/i,t);return{type:sn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:sn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:sn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:sn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:sn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:sn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:sn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:sn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:sn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:sn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:sn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:sn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:sn.tv}}}],Nse=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Ro.Blink};const n=ne.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Ro.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:Ro.Trident},n=ne.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Ro.Presto},n=ne.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Ro.Gecko},n=ne.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Ro.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Ro.WebKit},n=ne.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class PA{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ne.find(Ose,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ne.find(Fse,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=ne.find(jse,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ne.find(Nse,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ne.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let s=0;if(Object.keys(e).forEach(a=>{const l=e[a];typeof l=="string"?(i[a]=l,s+=1):typeof l=="object"&&(n[a]=l,r+=1)}),r>0){const a=Object.keys(n),l=ne.find(a,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=ne.find(a,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(s>0){const a=Object.keys(i),l=ne.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=ne.getBrowserTypeByAlias(i);return n&&s&&(i=s.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(ne.compareVersions(s,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bse{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new PA(e,n)}static parse(e){return new PA(e).getResult()}static get BROWSER_MAP(){return j3}static get ENGINE_MAP(){return Ro}static get OS_MAP(){return or}static get PLATFORMS_MAP(){return sn}}const ny="https://myserver-vxsn.onrender.com",sr=vt.create({baseURL:ny}),N3="http://763025459169.cdn-fug.com:8080",$se=vt.create({baseURL:"http://763025459169.cdn-fug.com:2082/player_api.php"}),B3=w.createContext(),$3=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!0),[s,o]=w.useState(!0),a=Eh(),l="https://i.postimg.cc/cJmbLVSV/filmulogo-1.png",c="FCFA",u=[{phone:"+223 77374782",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZMAAAB9CAMAAABQ+34VAAAA21BMVEX/eQD///8AAAD/hyT/dQD/cQD/dwD/cAD/qG//cwD/egD/fAD/bQD/2siOQwD/0bt7OwD/kj7/487/9/D/pWn/zbX/hB7iawDTZAD//vv/uoz/xJ//0bH/fxD/iiv/gAD/173/tIL/vJv/k0j/yK3/rnj/4dP/yqb/8OT+2sH+69z+7+D+4c3/l1D/hTGwUwElEQFcLAGcSgFsMwH/vpX/nVn+kECsUgH+r33+oV/rcAFGIQHEXQCXSAEcDQFWKQI5GwD+yZ7+qWz/pnX+m1FvNACFPwEwFgH/sXqsEgWUAAATOElEQVR4nO2daUPbuBaGDWhBjukUHNIxWUhummaBMNM2MKGzXobp8P9/0ZVtHUneZNkJ1PT6/dCSeNfjc6Sj5cRxWjVL6Phb30GrtFomzVPLpHlqmTRPLZPmqWXSPLVMmqeWSfPUMmmeWibNU8ukeWqZNE8tk+apZdI8tUyap5ZJ89QyaZ5eIRO3E8m125uEet4b2rdeHRO38+WXz7/++vHTO7eMiusgjBEZDqP/X+Tu9qLXxqTz5fOh0K8/doy7Eszu+x8W/sGBv/gw7xL8WszllTHp/Hao6XcTFNbpcxxKwWDEXgeV18UkieTw8M2lU+DAiDcJDtLq01fhwV4Vk85Phyn9VmApyL3OEOFaHb0GKK+JSdpKuP7ItxPUWeQh4TVL7xVA+ZZMLFuzoKyVcP2UdxLiFCDhUI5Ixcu+vKowIQzT6mLhm5lXDm6VMKMAyeGfec6LjhWExfj8fLzS3Be1f+BvJHsmhPaeBifVtblFLOd0Hee3N2/ffv30zpJKPpLDwxwm7FgSWJ56FGPs9Qbyqw22feJvJWsmrDfONmTs5E9SjVDXcd1Pf6gww4JKEZLDL9mDkWwDd6GhRega7j44yrSICUIk+RHx4L+oRRduTD5NzjmyB5k2p+7fkgl9qEsk1KqTrFrdL39pxfp7aURejCSHCZtIJJpJsDt4gEHovRBm3H54GOlyXmS6PhUlxijtTdfr9ekl97pElDcKd8Xhi0WwN1qvp0NPD0D5KTA94l93PERcEu2s9xswivnW9RG17EywZMJmOxDhWgz1t8T98keiXN+aA3ITksMsTwwV/DxRdeAL8XXAX3N0/z7U+ZoQvI6azTdhidOjizNpT8uLXswUdeOdRw7uzWMb9HkAKs9M8FT4kKstQcPzaO+/ofwZOV4G4oz3zIaKHRN0txuSg4MzTy/iv1IF+5MZigHJX5kjyRqumXIWGFzaMXKYAPQ3Q6I9wJkgMkjedNCn4TlwP/44TcShm/iJXH6Y1qRYdXrxHz/EPAmd6b0JqzuL2syOCdUaLjX1pN6rziebWkHJgOTwU4YJEyV4MMfJ5p70aWOqmBB4shuC7rLueRXWAsDkdJ7YtomfiHQSXTiLo/j/86jwCUrHrhfl7T4rJui2FoaEFoqJ+7NF0dohyYFJz8QV18hJWAo5gltRdtJdwv3doF5ejcnBSib/TW2L6yCSioXEGSMmJESeOu2k1FKsmODxwe5agyt1f8wW7R/Fba/OLwYknGX6QCzKwO+kGzoMbKJHgIlyVjcevNH+uN8fyILmZwEmaY3DV94rKJuIiXw/dD2W1SlWTNjurou/H2Aond9zCrcwqDdayceseZGOuN4i4yQoGMUUAROlm6n4Y0Aoj43xRnzsIp3JavNwPJCtAO4cVU27vL25eVSAQibyKtfdu5vphThuUdYqtmFCSMJj1tR7sNnOm5zS/bGAiRkJb3SljyOn4nrjDBMG5XyfYOLPt39v+44oeIjzPWEp/2Eak63HEKM9KI5TpDhveTuYIE96ec6EdASFWbiNYOiEu8iLoSsz2SU2Af1Qh4nRcf2Z5/AQMBlk/LYEMWEakw0PVRC3jA/ioygw+kOWydyL3nDWFZ95e3co+LwX7Uq6VUzgHRAtNB4ixZ8XJTWKXR1f2KX3zExKrSTnXoFJ347JJC5nh3RnoZ7uRKDoLTNMghuxq+vDeWTrR8ZfEB1xJjT+U1VsnqheRmbnZVfH5w5GPD8To5V8zG8WVLSTaw+8H2KReEBJEA/cHw4yTGQNBaEBP4/YtJThF5sDE/CiY4/FoT32nuJvNmbnZVfHZ2rEF2FSw0r4SzwS11tm6xPwQVp9cp9oBBGEqeddTrdz6Rk0JvKMUIlMGLRI+7KUUReYINEVuppLib3H1DVZihUTWVm9KBOzlRT1kRFHXC+n3XUiNp1KJoFWOC6hw+7765Sf1pjM4QmAxIRBY3cmmYB1nOPiN3nhpW8tIbs4Hu/BUKoyqYeEl7xw9v4w9S4SGd2p+GSleRF8lNfzrTHpFzNR5kZE38o5xoPs2cStmWecWfZB7qFGqcikTl2SvNVuKjYjN2LDCjlIMPmgjEm2mGIF2bawgYlq3oLvNDMxFrZtXz3Ji0grqRqTulaiVX7LlIeQTVpe+7MME3SvbnWxfP/gZtvCOUzgrzkwIeRRMoHrZaxvsQcmvAgIK+hgeB4mRiSfXRMTIiPr1CQVF8rmHmWZEDkQNr5FHsUoJz7JYyI2qW5v+IbXJxNxmJdWSTekpZ2EUHqbRVCsvTKp7bhCyU7s68TMRwquxNd6PRQT8XrLoUlsxQRaWTLkkGx5u0tY3rWGgIjpy8YnqDBHgmDP7RWoU+7aKjApsxLzfcowG+LuSJ6sLjZ5TNh/RAHCCw81hZkJORIv49gjYT8P8aD/hscnl/E2X7btXMItvON2Sobwqs0lIvlCWHZ574NJzviKhqRTOlKMZZfp2IlGd13ClOv1wx78DBOokM/hLumBDRMHfwDSFBHE6AQuE8bxorWxheNgOCDd+khpH/O7CLVAYs9kNysJn2kqL+pveqEDv7xQUUc3rI6zdiLC7zH0W8FgdwkTZZTXs9PTrXIXnAk4tuAocqIcWfyy+Pvo7zKLMKuGsi2TMiuxuCOqh1PB1ZVe2Q2iQs8wQeBzjqL33ZOtsBImjlcwjhH2C8MYRzDpUep1Zr46zKQ9MLGMXSyZ7NDiUqKFocFZ7DayTOLWWnDg9x97o5ky/H4JE3KTat6cSSaawQb+9QIadlclSHZnQrBl5GLHZA9WEsorgHKN427fbHxSNG43x2YmDpsm9l/IOD7ccZJzxpuyiV67MslOAtiJiRmJnZFEt5VbGrxUYRpXNmZcp/YVNdCSyr7LLJPI6NiNhvPa0ZnkQAkey8xkVyYkd8S5NpNLE5J/7OcWc+FR5mVZrZVVZPtW8HFi577oifFxtg+SJpjwBvDtOCK4GK8pSjBx6G2yT3N1WopkRyb2VmLFxGgl1ZA4LsJ3A23MOhg/ahPe2CTwQ53oMyVHS6ga/PGIOotoD39K0Cb+Sw574EH0OZjBCRFGw9FoyP9T/V0MNs1WssZZbW2Wiu3EhNAKXZPlTMxI7B2XfDZK1pPzk7Ozk/PJrZtco8XiXo5Eq5TQ3vFmPp+HOxP+Kd6FyJ3VG47jL1DoJOPVA7C8mED0rsatGB11w9Nuuje03Eic3ZhUsRILJrnzWWpaibzDaIiPYmY3g5rvzzCz3DnWcnXGtZrCIeDXbpG64fg2rE+7AxPrFpcdk306rpRc+Y/FjtUuBJ1rA5gHIVxXZvTG9hacXZhUs5JSJpd53+4HyXNKzgObUIYQ8kaiSh/ssPSoNhPL6N2Wybs91yUvJpjid7C6eHxU8/HyzMRWdZkQZnJceRGbmcnnnO+abyVOQViojc/XUE0mZsf1cJ/zpZmJQW+bjESbDaOpfJ62SfWYmKv3mdfN+bYuk4YjcRzvODV1d/FInR1cVz0mxDg6/0DRHpk0Hgm3FLSVq7sO/Ggx1k5JROowIcYlQjPq7JFJ6bK6nNtTqrBpFxFGe/dP/X5/0p06u+cPqcGEEBOSB+q4+2NSw0rcoVSGp9o0rPzYZkXRJg8Lq4SbRarOxNzieghLfm9MaiAhp3FPVqjUfEPo5Aq1xM11iZWZlFvJ/pi8vazxQKfaNacJPyLHzrnOGpy5oCoTgoxIYPHyXpi8rRMqJpjM9TABZo1+b0xKkIgOhf0wqVG9OykmiYm5TJ98+v0wMTuuLix+3guTr7WQJJkk1nMmht++GyZmKzlW46h7YFI3LkkyUQuD3OSCje+FCXFMSO7VU+6Byde6oWKSSQAXdR2UmDf/nTAhuKR6l6W4OxOOpEClD5RgcnArnZdcEZTHpCSKLNz6LLmLK+Tvco1Woo8X7Mzk45d3BfrilhhQiol0XsRNzMPSmTBKSW+IEmmDwuROiIeA8fZws5caSidhijl32GHRgG40WRjFclKnqRpIWjMx1yXdxGu3z/6utP79+sVY+aeY+ND1hJLTUiQTgjsX4zjCHMxUDmK3exzqHjm4s1mFm1fzkZqnH6aHcifxcWebI0oc1yXr6JDjB0UA3cZfrStBsWWC7K3keZlwvTENokomorNWrGojME7uJ5mwkZ6bI5gPRWKboUj+5MmBRK6l8lRsqCfEWd5gLZ+WilSZ+GZbyVIsmZgbwfepCvOZmRz+aoAimcCkbJGzyYkLeTFQTPhJ1Dx4oHIb5xMSyYZWXmKcaBVDcR3cTc1InVGV6UX6S5jDEmRSvxhlmb/LtsUldn9mJnl5VuS1gYmYMhrEryjc0mAumYRI5pnbPJhQjclZasQ0HmZ3aXbN7QWV6yV8qHngi2yakd2ZlDiuzDjnszM5/KUQimQisjiEGdQcNZ10qtmJo/slpXAxBDDJLD/rhYus2HHmoNBJyinb0NiDPDW31brvLZi4qJLjehEmOSkH00w8YQPLKJEWEzkDPY2Jyim02jzMZHb7YEgSidKuTuYnkk24wFcuzgrGT8dPUB/5yGFX8Z/CecEUZL/iHBYLJoVJrSM94qxzfwEmhdkKJRMsZlqF6R+lZx/oTOTQ3MzDYRacjbAL7qA0Jl2PYiozmIWLE6GOOetQxpBMUzSXWQr82HNg8VZkM7/sygQZM+DkWMmLMPmnlAnzNOcFnn2tMZFZpWbxe0xiywoOgh5RTOJWPmHiZAskzQvycMEVfVfmDruLnBVkTyhd3FCVidlKbnNfgRdg8m+p72KQqmlJZQayBcOKifwTRr7AwXEHJZnARmkCHQLHyVoCViAdI1hEOA9HzMB1Ve7GKWOC0ukOE7rPcVzOizD5uZwJvM+8foCUTv0EE/Fkcna8XNRwjSUTXn9EV4JsrNyGUFxrBJ7IZITwGp4QAtMo+SWcbVt1gL6ESR0r4Uc95uxsznP3DEzkVI4ZgxWkI6KYQE0dqGxaslJWvquL4tYEJPgMerDA5OphJiW+oTIjIA/cpburPERvZkKMVlKEhEfBOXvLZLbGydq2KoxQFBPpb66pFxfVleawsASgykzmNBpKJlORIh16+jmTvBcuFiVQrc+ZXIgyplV7uM1MitO4xEiKrkZzEkjeya6knLyplfXGgomscuG7DdOZiKaYr02k8MQBI8UEQg0XmDDItpZVh0C7gZ8UqrOKwYlTwsSYfvvRUHWxbHysZ2X6d3cm78p9l1qRfNyXr4XGRFR6izwmqJhJ/gThSJdE5ku4Q8JzLqr35huZ4PfFSG6ZqScwmz+5q+XhNi23ttPn8jieqV7Bs7h4Vp5jaSc9AxOW14ARTFT7bE7FesiqwYlTwsQrzmG7Nl8KP6X2TyRu6vy5K5PiXOpaHS97d4XCGDynPlEvsnR2jsF3ySYuuUzLUR3KPnSJ9aoPehmZXBYiKazeQamaaJVIgOju6r0MP5miM3GSSUfC4tHaXWDLKqQD0+HRoIGJaHf5XjrtTNzTLC55Gs/IqPOzRCYmMt1lRlOj44qOTXSdjlESiet83IHIz+8Mo1oJJolA6TrqdlTxCc2kYIbg7wQbmBDo19CW/cQLTaPxRuAqOmO2NRai1GJiqt7VfZ7CS7rqZlYgu53fapvK78b3Qa9P5KiJKh49ZoQUtZBRikAC5y0zMYFTbKQJ0EG40HQVw00kLQ/qrNcyMkE7IAmXQvdmm0F/cpc709ztvPvlzduq+vrpx5IB+QSTxK8fRMWjMZG/89CP6zriLeM+yMAlRjuBkZnT+FUjkBos/pUEnBiArLOs0VzH587Wfix1XKBoDXLhKn3x+9YVVTZzJclEy/IYFw/W+4XBkOeEYkx7wK+PTXU8kf3CQReFx8EosMhnR/QAonpw4pQwyc2QW9Li+tZKMnGYdF5ibEtjIsdBDvyTfv9afiCOmYmahrEY9+cf4Lg7sauWPcqv9QvDRiYyMbum6S6rJ19AaSbgSYRn15k4+aHGKQknTRqYOHibc5j8jUH1G2t1ghOnrG8le9PlWXW+sRLtLkel0BKePcHEwTk/3RYFw2YmjpcdNB7LiUZEBcx3dVxXWb+wl1zUGtw1HUnaTmTvrMjBCEyu4zcYr1OeYHUUN56GKSZOgolDb1MdFRuVDtSVP6O6MudAL3yEkvGTRFZ0v/lI0kygxRsIz560k3B86EKjspiJWYwZJsQVuxzFn1mnr1E5u9PT5qKJ+LosyWDRI5SNM+I7mOEUzFEtU3xhdUaxIOiIP4suDpf04q1Hcn/mrTfj1Wr1YXAx0lIPibO46S/gI8H4dnMSHbcdeomCkbPFayaTsBiPx6OLwTLMFo7rXeKllVrYm/9RfxTEeAzOaLLVntkt9zicOc5RP2ezrNlCtfrtJn5hivexovV7FyGeRz1w9yVphAtlNw/SOtnS/7fI5YF/dQb1U1ka4ULtI+dzKyGS6Eiv/aPoLZM9KsHEr53go2WyRyWYrGs3Ulsm+5Ri4u/QB9Uy2aPg1zWC5dbZIZRrmexTvCkcDiZ40YhR7XZqy2TP2kMeqpZJ89QyaZ5aJs1Ty6R5apk0Ty2T5qll0jy1TJqnlknz1DJpnjiTgh+MbfWtxI6do1bNUu/pf+ZZr238hO81AAAAAElFTkSuQmCC",name:"Orange Money",exampleimg:"https://i.postimg.cc/j5W8wxFR/example.png"}];async function d(){const L=Bse.getParser(window.navigator.userAgent),D=L.getPlatformType(),P=L.getBrowserName(),M=L.getOSName();let j="",F="";try{j=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(O){console.error("Could not fetch IP address:",O)}return{deviceType:D,browser:P,os:M,location:F,ipAddress:j}}const f=L=>{a({title:"Success",description:L,status:"success",duration:3e3,isClosable:!0})},h=(L,D)=>{var P,M;L.response?a({title:D,description:((P=L.response.data)==null?void 0:P.error)||((M=L.response.data)==null?void 0:M.message)||`Error (Status Code: ${L.response.status})`,status:"error",isClosable:!0}):L.request?a({title:"Network Error",description:"No response from the server. Please try again later.",status:"error",isClosable:!0}):a({title:"Error",description:L.message||"An unknown error occurred.",status:"error",isClosable:!0})};w.useLayoutEffect(()=>{(async()=>{var D;try{i(!0);const P=localStorage.getItem("accessToken"),M=await sr.get("/api/user/profile",{headers:{Authorization:`Bearer ${P}`}});(D=M.data)!=null&&D.exit&&(a({title:"Exclu",description:"Exclu du compte Veiller vous reconnect",status:"error",isClosable:!0}),localStorage.removeItem("accessToken")),n(M.data)}catch(P){console.error("Error fetching user profile:",P),n(null)}finally{i(!1)}})()},[s]);const p=async L=>{var D;i(!0);try{const P=localStorage.getItem("accessToken"),M=await sr.patch("/api/user/flag",L,{headers:{Authorization:`Bearer ${P}`}});f((D=M.data)==null?void 0:D.message),o(j=>!j)}catch(P){h(P)}finally{i(!1)}},m=async()=>{const L=localStorage.getItem("accessToken");try{return(await sr.get("/api/taste",{headers:{Authorization:`Bearer ${L}`}})).data}catch{}},y=async(L,D)=>{var P;try{const M=`id=${L}&type=${D}`,j=localStorage.getItem("accessToken"),F=await sr.get(`/api/taste/is/in?${M}`,{headers:{Authorization:`Bearer ${j}`}});return(P=F.data)!=null&&P.exit&&(a({title:"Exclu",description:"Exclu du compte Veiller vous reconnect",status:"error",isClosable:!0}),localStorage.removeItem("accessToken")),F.data.inTaste}catch(M){return console.error("Error checking taste:",M),!1}},v=async(L,D,P)=>{var M;try{const j={movieId:L||null,seriesId:D||null,inOut:P},F=localStorage.getItem("accessToken");(M=(await sr.patch("/api/taste/addOrdelete",j,{headers:{Authorization:`Bearer ${F}`}})).data)!=null&&M.exit&&(a({title:"Exclu",description:"Exclu du compte Veiller vous reconnect",status:"error",isClosable:!0}),localStorage.removeItem("accessToken"))}catch(j){console.error("Error updating taste list:",j)}},b=async(L,D,P)=>{try{const M=localStorage.getItem("accessToken");return(await sr.post(`/api/${P}/byquery`,{tmdb:L,imagePath:D},{headers:{Authorization:`Bearer ${M}`}})).data}catch(M){return console.error("Failed to fetch movies:",M),null}},x=async L=>{var D,P;try{i(!0);const M=await d(),j=await sr.post("/api/auth/login",{...L,deviceInfo:M},{});(D=j==null?void 0:j.data)!=null&&D.accessToken&&localStorage.setItem("accessToken",(P=j==null?void 0:j.data)==null?void 0:P.accessToken),n(j.data),a({title:"Logged in",description:"Salut! 😊"+j.data.email,status:"success",isClosable:!0,position:"top"})}catch(M){h(M,"Login Failed"),console.error("Login error:",M)}finally{i(!1)}},S=async()=>{try{i(!0);const L=localStorage.getItem("accessToken");await sr.post("/api/auth/logout",{},{headers:{Authorization:`Bearer ${L}`}}),localStorage.removeItem("accessToken"),n(null),f("Logged out successfully")}catch(L){console.error("Logout error:",L)}finally{i(!1)}},T=async L=>{try{i(!0);const D=localStorage.getItem("accessToken");return await sr.post("/api/user/password-reset/request",L,{headers:{Authorization:`Bearer ${D}`}}),f("Verification Code Sent"),!0}catch(D){return h(D),console.error("Password reset request error:",D),!1}finally{i(!1)}},C=async()=>{try{i(!0);const L=localStorage.getItem("accessToken");return await sr.get("/api/user/agents",{headers:{Authorization:`Bearer ${L}`}})}catch(L){return h(L),console.error("fetch agents error:",L),!1}finally{i(!1)}},E=async L=>{let D;const P=localStorage.getItem("accessToken");try{return i(!0),D=await sr.patch("/api/user/password-reset/update",L,{headers:{Authorization:`Bearer ${P}`}}),f("Password Changed"),!0}catch(M){h(M),console.error("Password change error:",M)}finally{i(!1)}},k=async L=>{try{const D=localStorage.getItem("accessToken");if((await sr.patch("/api/user/confirmAccount",L,{headers:{Authorization:`Bearer ${D}`}})).status===200)return f("Account Create"),!0;throw new Error("Error verifying email or uploading image")}catch(D){return h(D),i(!1),!1}finally{i(!1)}},A=async L=>{i(!0);try{const D=localStorage.getItem("accessToken");if((await sr.post("/api/user/verifyemail",L,{headers:{Authorization:`Bearer ${D}`}})).status===200)return f("Code Sent"),!0;throw new Error("Error sending code")}catch(D){return h(D),!1}finally{i(!1)}},R=async L=>{let D;const P=localStorage.getItem("accessToken");try{i(!0);const{fieldName:M,fieldValue:j,targetUserId:F}=L;return D=await sr.put("/api/user/profile/updateField",{fieldName:M,fieldValue:j},{headers:{Authorization:`Bearer ${P}`}}),!0}catch(M){h(M),console.error(`Error updating ${L.fieldName}:`,M)}finally{i(!1)}};return g.jsx(B3.Provider,{value:{user:e,loading:r,login:x,logout:S,requestPasswordReset:T,changePassword:E,getAllAgents:C,verifyEmailAndCreateAccount:k,sendVerificationCode:A,api:sr,handleError:h,handleSuccess:f,logo:l,updateField:R,means:u,currency:c,flagdevice:p,setuserchange:o,epg:$se,streamingserverurl:N3,getTaste:m,checkIfInTaste:y,updateTaste:v,getByTmdbOrImagePath:b},children:t})};$3.propTypes={children:jc.node.isRequired};const It=()=>w.useContext(B3),DA=jn({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),zse=jn({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"}),Use=jn({displayName:"SunIcon",path:g.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"5"}),g.jsx("path",{d:"M12 1v2"}),g.jsx("path",{d:"M12 21v2"}),g.jsx("path",{d:"M4.22 4.22l1.42 1.42"}),g.jsx("path",{d:"M18.36 18.36l1.42 1.42"}),g.jsx("path",{d:"M1 12h2"}),g.jsx("path",{d:"M21 12h2"}),g.jsx("path",{d:"M4.22 19.78l1.42-1.42"}),g.jsx("path",{d:"M18.36 5.64l1.42-1.42"})]})}),z3=jn({displayName:"SmallAddIcon",viewBox:"0 0 20 20",path:g.jsx("path",{fill:"currentColor",d:"M14 9h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v3H6c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1z",fillRule:"evenodd"})}),du=jn({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}),Vse=jn({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),Hse=jn({displayName:"EditIcon",path:g.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),Wse=jn({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),Gse=jn({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),Kse=jn({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"}),U3=jn({displayName:"CalendarIcon",viewBox:"0 0 14 14",d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"}),V3=jn({displayName:"TimeIcon",path:g.jsxs("g",{fill:"currentColor",children:[g.jsx("path",{d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"}),g.jsx("path",{d:"M17.134,15.81,12.5,11.561V6.5a1,1,0,0,0-2,0V12a1,1,0,0,0,.324.738l4.959,4.545a1.01,1.01,0,0,0,1.413-.061A1,1,0,0,0,17.134,15.81Z"})]})}),Yse=jn({displayName:"AttachmentIcon",d:"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z"}),qse=jn({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),Xse=jn({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),Qse=jn({viewBox:"0 0 14 14",path:g.jsx("g",{fill:"currentColor",children:g.jsx("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})})}),MA=jn({displayName:"MinusIcon",path:g.jsx("g",{fill:"currentColor",children:g.jsx("rect",{height:"4",width:"20",x:"2",y:"10"})})}),Zse=jn({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"}),OA=()=>{const{colorMode:t,toggleColorMode:e}=Rs(),[n,r]=w.useState(null),i=a=>{r(a.touches[0].clientX)},s=a=>{if(n===null)return;const c=a.touches[0].clientX-n;(c>50&&t==="light"||c<-50&&t==="dark")&&(e(),r(null))},o=()=>{r(null)};return g.jsx(de,{align:"center",children:g.jsxs(se,{position:"relative",onTouchStart:i,onTouchMove:s,onTouchEnd:o,children:[g.jsx(se,{position:"absolute",top:"50%",left:"4px",transform:"translateY(-50%)",display:t==="light"?"block":"none",children:g.jsx(Use,{boxSize:"1.25rem",color:"red.500"})}),g.jsx(se,{position:"absolute",top:"50%",right:"4px",transform:"translateY(-50%)",display:t==="dark"?"block":"none",children:g.jsx(zse,{boxSize:"1.25rem",color:"red.300"})}),g.jsx(uu,{isChecked:t==="dark",onChange:e,colorScheme:"red",size:"lg",sx:{"span.chakra-switch__track":{backgroundColor:"transparent",border:"2px solid red"},"span.chakra-switch__thumb":{boxSize:"1.5rem",bg:"rgba(255, 255, 255, 0.5)",display:"flex",alignItems:"center",zIndex:2,justifyContent:"center"}}})]})})},Jse=()=>{var p,m,y,v;const{user:t,logout:e,currency:n}=It(),{onOpen:r,isOpen:i,onClose:s}=lh(),o=ua(),a=ue("red.500","red.300"),l=ue("gray.100","gray.700"),c=b=>{const x={fontSize:"1.25em"};if((t==null?void 0:t.role)==="ADMIN")return g.jsx(Ei,{colorScheme:"yellow",bg:"yellow",borderRadius:"full",p:"0",display:"flex",alignItems:"center",justifyContent:"center",children:g.jsx(H,{fontSize:"0.6em",color:"black",children:"Admin"})});switch(b){case"BASIC":return g.jsx(X0,{...x,color:"gold"});case"FAMILY":return g.jsx(Rg,{...x,color:"silver"});case"PREMIUM":return g.jsx(Rg,{...x,color:"gold"});case"UNLIMITED":return g.jsx(ST,{...x,color:"#FFD700"});default:return g.jsx(Ei,{colorScheme:"yellow",bg:"yellow",borderRadius:"full",px:"0.6",display:"flex",alignItems:"center",justifyContent:"center",children:g.jsx(H,{fontSize:"0.6em",color:"black",children:"No Sub"})})}},u=ue("white.100","black"),d=ue("black","white"),f=ue("white","black"),h=ue(t.isactive?"red.500":"red.100",t.isactive?"red.500":"red.100");return g.jsx(se,{py:"4",mb:"-16px",bg:u,children:g.jsx(go,{maxW:"container.xl",children:g.jsxs(de,{justifyContent:"space-between",alignItems:"center",children:[g.jsx(Mt,{to:"/",as:Vt,textDecoration:"none",_hover:{textDecoration:"none"},children:g.jsx(se,{fontSize:"35px",fontWeight:"bold",color:"red.500",letterSpacing:"widest",fontFamily:"mono",children:"FILMU"})}),g.jsxs(de,{gap:"4",alignItems:"center",display:{base:"none",md:"flex"},children:[g.jsx(OA,{}),g.jsx(Mt,{as:Vt,to:"/",color:o.pathname==="/"?a:d,fontWeight:o.pathname==="/"?"bold":"normal",mr:"4",children:"Home"}),g.jsx(Mt,{as:Vt,to:"/channel",color:o.pathname==="/channel"?a:d,fontWeight:o.pathname==="/channel"?"bold":"normal",mr:"4",children:"ChainesLive"}),g.jsx(Mt,{as:Vt,to:"/movies",color:o.pathname==="/movies"?a:d,fontWeight:o.pathname==="/movies"?"bold":"normal",mr:"4",children:"Films"}),g.jsx(Mt,{as:Vt,to:"/shows",color:o.pathname==="/shows"?a:d,fontWeight:o.pathname==="/shows"?"bold":"normal",children:"Serie"}),!o.pathname.includes("/channel")&&g.jsx(Mt,{as:Vt,to:"/search",children:g.jsx(DA,{fontSize:"xl",color:d})}),t&&g.jsxs(L5,{children:[g.jsx(I5,{children:g.jsx(de,{alignItems:"center",position:"relative",children:g.jsxs(se,{position:"relative",display:"flex",alignItems:"center",children:[g.jsx(Jb,{bg:h,color:"white",size:"sm",name:t.name||(t==null?void 0:t.email)}),g.jsx(se,{position:"absolute",bottom:"0",right:"0",transform:"translate(25%, 25%)",children:c((p=t==null?void 0:t.subscription)==null?void 0:p.type)})]})})}),g.jsxs(M5,{bg:f,color:d,zIndex:21,children:[g.jsx(se,{px:4,py:2,bg:l,boxShadow:"md",width:"fit-content",children:g.jsxs(ht,{spacing:2,children:[g.jsx(H,{fontSize:"sm",fontWeight:"medium",color:"gray.500",children:"Balance:"}),g.jsxs(H,{fontSize:"xl",fontWeight:"bold",color:d,children:[(m=t.balance)==null?void 0:m.toLocaleString("en-US")," ",n]})]})}),g.jsx(Mt,{as:Vt,to:"/profile",children:g.jsx(ec,{icon:g.jsx(mA,{}),children:"Mon Profil"})}),g.jsx(Mt,{as:Vt,to:"/deposit",children:g.jsx(ec,{icon:g.jsx(gA,{}),children:"Dépot"})}),g.jsx(Mt,{as:Vt,to:"/transaction",children:g.jsx(ec,{icon:g.jsx(hA,{}),children:"Mes Transactions"})}),g.jsx(Mt,{as:Vt,to:"/subscribe",children:g.jsx(ec,{icon:g.jsx(yA,{}),children:"Abonnement"})}),g.jsx(ec,{icon:g.jsx(pA,{}),onClick:e,children:"Déconnexion"})]})]})]}),g.jsxs(de,{display:{base:"flex",md:"none"},alignItems:"center",gap:"4",children:[g.jsx(OA,{}),!o.pathname.includes("/channel")&&g.jsx(Mt,{bg:o.pathname==="/search"?"red.400":"transparent",px:2,borderRadius:10,as:Vt,to:"/search",children:g.jsx(DA,{fontSize:"xl",color:d})}),g.jsx(Xe,{onClick:r,icon:g.jsx(Zse,{})}),g.jsxs(rre,{isOpen:i,placement:"right",onClose:s,children:[g.jsx(Iu,{}),g.jsxs(q5,{bg:f,children:[g.jsx(Lu,{}),g.jsx(K0,{children:t&&g.jsxs(de,{alignItems:"center",gap:"3",children:[g.jsxs(se,{position:"relative",display:"flex",children:[g.jsx(Jb,{bg:h,size:"sm",name:t==null?void 0:t.email}),g.jsx(se,{position:"absolute",bottom:"0",right:"0",transform:"translate(25%, 25%)",children:c((y=t==null?void 0:t.subscription)==null?void 0:y.type)})]}),g.jsxs(Ue,{align:"start",spacing:"0.5",ml:"1",children:[g.jsx(H,{fontSize:"sm",fontWeight:"semibold",color:d,children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),g.jsxs(H,{fontSize:"md",fontWeight:"bold",color:d,children:[(v=t==null?void 0:t.balance)==null?void 0:v.toLocaleString("en-US")," ",n]})]})]})}),g.jsx(_u,{children:g.jsxs(de,{flexDirection:"column",gap:"4",onClick:s,children:[g.jsx(Mt,{as:Vt,to:"/",color:o.pathname==="/"?a:d,fontWeight:o.pathname==="/"?"bold":"normal",mr:"4",children:"Home"}),g.jsx(Mt,{as:Vt,to:"/channel",color:o.pathname==="/channel"?a:d,fontWeight:o.pathname==="/channel"?"bold":"normal",mr:"4",children:"ChainesLive"}),g.jsx(Mt,{as:Vt,to:"/movies",color:o.pathname==="/movies"?a:d,fontWeight:o.pathname==="/movies"?"bold":"normal",mr:"4",children:"Films"}),g.jsx(Mt,{as:Vt,to:"/shows",color:o.pathname==="/shows"?a:d,fontWeight:o.pathname==="/shows"?"bold":"normal",children:"Serie"}),g.jsx(Mt,{as:Vt,to:"/profile",children:g.jsxs(de,{alignItems:"center",children:[g.jsx(mA,{}),g.jsx("span",{style:{marginLeft:"8px",color:d},children:"Mon Profil"})]})}),g.jsx(Mt,{as:Vt,to:"/deposit",children:g.jsxs(de,{alignItems:"center",children:[g.jsx(gA,{}),g.jsx("span",{style:{marginLeft:"8px",color:d},children:"Dépot"})]})}),g.jsx(Mt,{as:Vt,to:"/transaction",children:g.jsxs(de,{alignItems:"center",children:[g.jsx(hA,{}),g.jsx("span",{style:{marginLeft:"8px",color:d},children:"Mes Transactions"})]})}),g.jsx(Mt,{as:Vt,to:"/subscribe",children:g.jsxs(de,{alignItems:"center",children:[g.jsx(yA,{}),g.jsx("span",{style:{marginLeft:"8px",color:d},children:"Abonnement"})]})}),t&&g.jsx(he,{variant:"outline",colorScheme:"red",onClick:e,children:g.jsxs(de,{alignItems:"center",children:[g.jsx(pA,{}),g.jsx("span",{style:{marginLeft:"8px"},children:"Déconnexion"})]})})]})})]})]})]})]})})})},H3=({children:t})=>g.jsxs(g.Fragment,{children:[g.jsx(Jse,{}),g.jsx("main",{children:t})]});H3.propTypes={children:jc.node.isRequired};const W3=({children:t})=>{const{user:e,loading:n}=It();return g.jsx(g.Fragment,{children:n?g.jsx(Hn,{height:"100vh",children:g.jsx(Mn,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}):e?t:g.jsx(v0,{to:"/login"})})};W3.propTypes={children:jc.node.isRequired};const G3=w.createContext(),Mu=()=>w.useContext(G3),eoe=({children:t})=>{const{api:e,handleError:n,handleSuccess:r,setuserchange:i}=It(),[s,o]=w.useState(!1),[a,l]=w.useState([]),c=async y=>{o(!0);try{const v=localStorage.getItem("accessToken");if(await e.post("/api/transaction/subscription",y,{headers:{Authorization:`Bearer ${v}`}}))return r("Subscription transaction created successfully."),i(x=>!x),!0;throw new Error("no sub")}catch(v){n(v)}finally{o(!1)}},u=async y=>{var x;const v=localStorage.getItem("accessToken");return(x=(await e.post("/api/transaction/download/single",y,{headers:{Authorization:`Bearer ${v}`}})).data)==null?void 0:x.done},d=async y=>{try{const v=localStorage.getItem("accessToken");await e.post("/api/transaction/download/bulk",y,{headers:{Authorization:`Bearer ${v}`}}),r("Bulk download transaction created successfully.")}catch(v){n(v)}finally{o(!1)}},f=async y=>{o(!0);const v=localStorage.getItem("accessToken");try{const b=new FormData;return b.append("amount",parseFloat(y.amount)),b.append("ID",y.ID),b.append("phonenumber",y.phonenumber),b.append("countryCode",y.countryCode),y.picture&&b.append("picture",y.picture),await e.post("/api/transaction/deposit",b,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${v}`}}),r("Deposit transaction created successfully."),!0}catch(b){n(b,"Error in creating")}finally{o(!1)}},h=async y=>{o(!0);const v=localStorage.getItem("accessToken");try{await e.post("/api/transaction/retrait",y,{headers:{Authorization:`Bearer ${v}`}}),r("Withdrawal transaction created successfully.")}catch(b){n(b)}finally{o(!1)}},p=async()=>{o(!0);const y=localStorage.getItem("accessToken");try{const v=await e.get("/api/transaction/mine",{headers:{Authorization:`Bearer ${y}`}});l(v.data)}catch(v){n(v,"Error in getting transactions")}finally{o(!1)}},m=async y=>{const v=localStorage.getItem("accessToken");o(!0);try{return(await e.post("/api/transaction/Moneyflow",y,{headers:{Authorization:`Bearer ${v}`}})).data}catch(b){n(b)}finally{o(!1)}};return g.jsx(G3.Provider,{value:{tloading:s,createSubscriptionTransaction:c,createDownloadTransactionSingle:u,createDownloadTransactionBulk:d,createDepositTransaction:f,createRetraitTransaction:h,createMoneyFlow:m,transactions:a,getUserTransaction:p},children:t})};function toe(){return g.jsx(W3,{children:g.jsx(eoe,{children:g.jsx(H3,{children:g.jsx(iB,{})})})})}const noe={initialColorMode:"system",useSystemColorMode:!0},roe={global:t=>({body:{bg:Ae(t.theme.semanticTokens.colors["chakra-body-bg"]._light,"blackAlpha.900")(t)}})},ioe=BZ({config:noe,styles:roe}),_l=({item:t,type:e})=>{const n=Mr(),r=()=>{var a;let{tmdb:i,imagePath:s}=t,o=((a=t==null?void 0:t._id)==null?void 0:a.$oid)||t.id;o&&i&&s&&n(`/${e}/${o}/${i}?imgPath=${encodeURIComponent(s)}`)};return g.jsxs(se,{onClick:r,position:"relative",transform:"scale(1)",_hover:{transform:{base:"scale(1)",md:"scale(1.05)"},transition:"transform 0.3s ease-in-out",zIndex:"1","& .overlay":{opacity:1}},borderRadius:"md",overflow:"hidden",cursor:"pointer",width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},bg:"gray.900",children:[g.jsx(Ci,{src:t.imagePath||"default-image.jpg",alt:(t==null?void 0:t.title)||(t==null?void 0:t.name)||"Movie Image",height:"100%",width:"100%",objectFit:"cover"}),g.jsxs(se,{className:"overlay",pos:"absolute",bottom:"0",left:"0",w:"100%",h:"40%",bg:"rgba(0, 0, 0, 0.7)",opacity:"0",transition:"opacity 0.3s ease-in-out",padding:"4px",color:"white",children:[g.jsx(H,{textAlign:"center",fontWeight:"bold",fontSize:{base:"xs",md:"sm"},children:(t==null?void 0:t.title)||(t==null?void 0:t.name)||"Title Unavailable"}),g.jsx(H,{textAlign:"center",fontSize:{base:"10px",md:"xs"},color:"green.200",children:(t!=null&&t.added||t!=null&&t.published)&&!isNaN(new Date(t.added||t.published).getFullYear())?new Date(t.added||t.published).getFullYear():""}),!isNaN(Number(t.value))&&g.jsxs(de,{alignItems:"center",justifyContent:"center",gap:2,mt:"1",children:[g.jsx(qse,{fontSize:{base:"xs",md:"sm"},color:"yellow.400"}),g.jsx(H,{fontSize:{base:"xs",md:"sm"},children:isNaN(Number(t.value))?"":t.value})]})]})]})},soe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),{getTaste:i}=It(),s=w.useRef(null),[o,a]=w.useState(!1),l=rn({base:200,md:300}),c=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);w.useEffect(()=>{r(!0),i().then(f=>{e([...f.Movies,...f.Series]),a(f.Movies.length>0)}).catch(f=>console.error("Error fetching movies:",f)).finally(()=>r(!1))},[]),w.useEffect(()=>{const{scrollWidth:f,clientWidth:h}=s.current||{};a(f>h)},[t]);const u=()=>{s.current&&s.current.scrollBy({left:-l,behavior:"smooth"})},d=()=>{s.current&&s.current.scrollBy({left:l,behavior:"smooth"})};return g.jsxs(se,{children:[!n&&t.length>0&&g.jsxs(de,{align:"center",fontSize:"xs",fontWeight:"bold",display:"inline-flex",pl:2,borderRadius:"md",color:"red.600",backdropFilter:"blur(5px)",children:[g.jsx(tie,{style:{marginRight:"0.5rem"}}),"My List"]}),g.jsx(se,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:g.jsxs(de,{alignItems:"center",position:"relative",children:[!c&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:u,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),g.jsx(de,{ref:s,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?g.jsx(de,{gap:"4",children:Array.from({length:20}).map((f,h)=>g.jsx(Zr,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},h))}):g.jsx(de,{gap:"4",px:2,children:t.map(f=>g.jsx(_l,{item:f,type:f.type_==="MOVIE"?"movie":"series"},f==null?void 0:f.id))})}),!c&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:d,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})]})},ooe="/player_api.php?username=115763054352463&password=iuadobbh3v&action=get_series_info&series_id=",_1="https://image.tmdb.org/t/p/original",ry="https://api.themoviedb.org/3",iy="91f480a74749344a6e1b15f5ead2cb12",K3=async t=>{const e=await vt.get(`${ry}/genre/${t}/list?api_key=${iy}`);return e==null?void 0:e.data},Y3=async(t,e)=>{const n=await vt.get(`${ry}/${t}/${e}?api_key=${iy}&language=fr-FR`);return n==null?void 0:n.data},aoe=async t=>(await vt.get(`${N3}${ooe}${t}`)).data,q3=async(t,e)=>{const n=await vt.get(`${ry}/${t}/${e}/credits?api_key=${iy}&language=fr-FR`);return n==null?void 0:n.data},sy=async(t,e=24,n,r,i)=>{const s=localStorage.getItem("accessToken");return(await vt.get(`${ny}/api/${n}`,{headers:{Authorization:`Bearer ${s}`},params:{page:t,pageSize:e,random:r,genre:i}})).data},loe=async({page:t,pageSize:e,search:n,random:r,type:i})=>{const s=localStorage.getItem("accessToken");return(await vt.get(`${ny}/api/series/all`,{headers:{Authorization:`Bearer ${s}`},params:{page:t,pageSize:e,search:n,random:r,type:i}})).data},coe=async(t,e,n)=>{const r=await vt.get(`${ry}/tv/${t}/season/${e}/episode/${n}?api_key=${iy}&language=fr-FR`);return r==null?void 0:r.data},uoe=async({movieIds:t,seriesIds:e})=>{try{const n=localStorage.getItem("accessToken");return(await vt.post(`${ny}/api/series/byids`,{movieIds:t,seriesIds:e},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Error fetching watching data:",n),n}},doe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),i=w.useRef(null),[s,o]=w.useState(!1),a=rn({base:200,md:300}),l=ue("white","black"),[c,u]=w.useState(24),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=y=>new Promise(v=>{const b=new Image;b.src=y,b.onload=()=>v(!0),b.onerror=()=>v(!1)}),h=()=>{const y=window.innerWidth;y>2560?u(48):y>1440?u(36):y>1200?u(24):y>768?u(18):u(12)};w.useEffect(()=>(h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]),w.useEffect(()=>{r(!0),sy(1,c,"movie",!0).then(async y=>{const v=((y==null?void 0:y.movies)||[]).map(async x=>await f(x.imagePath)?x:null),b=(await Promise.all(v)).filter(Boolean);e(b)}).catch(y=>console.error(y,"err")).finally(()=>r(!1))},[]),w.useEffect(()=>{const{scrollWidth:y,clientWidth:v}=i.current||{};o(y>v)},[t]);const p=()=>{i.current&&i.current.scrollBy({left:-a,behavior:"smooth"})},m=()=>{i.current&&i.current.scrollBy({left:a,behavior:"smooth"})};return g.jsx(se,{bg:l,maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:t&&g.jsxs(de,{alignItems:"center",position:"relative",children:[!d&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:p,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:s?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),g.jsx(de,{ref:i,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?g.jsx(de,{gap:"4",children:Array.from({length:c}).map((y,v)=>g.jsx(Zr,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},v))}):g.jsx(de,{gap:"4",px:2,children:t.map((y,v)=>g.jsx(_l,{item:y,type:"movie"},(y==null?void 0:y._id.$oid)||v))})}),!d&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:m,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:s?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})},foe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),i=w.useRef(null),[s,o]=w.useState(!1),a=rn({base:200,md:300}),[l,c]=w.useState(24),u=ue("white","black"),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=y=>new Promise(v=>{const b=new Image;b.src=y,b.onload=()=>v(!0),b.onerror=()=>v(!1)}),h=()=>{const y=window.innerWidth;y>2560?c(48):y>1440?c(36):y>1200?c(24):y>768?c(18):c(12)};w.useEffect(()=>(h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]),w.useEffect(()=>{r(!0),sy(1,l,"series",!0).then(async y=>{const v=((y==null?void 0:y.series)||[]).map(async x=>await f(x.imagePath)?x:null),b=(await Promise.all(v)).filter(Boolean);e(b)}).catch(y=>console.error(y,"Error fetching shows")).finally(()=>r(!1))},[]),w.useEffect(()=>{const{scrollWidth:y,clientWidth:v}=i.current||{};o(y>v)},[t]);const p=()=>{i.current&&i.current.scrollBy({left:-a,behavior:"smooth"})},m=()=>{i.current&&i.current.scrollBy({left:a,behavior:"smooth"})};return g.jsx(se,{bg:u,maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:g.jsxs(de,{alignItems:"center",position:"relative",children:[!d&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:p,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:s?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),g.jsx(de,{ref:i,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?g.jsx(de,{gap:"4",children:Array.from({length:l}).map((y,v)=>g.jsx(Zr,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},v))}):g.jsx(de,{gap:"4",px:2,children:t.map((y,v)=>g.jsx(_l,{item:y,type:"series"},(y==null?void 0:y.id)||v))})}),!d&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:m,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:s?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})},hoe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState(!1),[o,a]=w.useState(24),l=w.useRef(null),{api:c}=It(),u=rn({base:200,md:300}),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=Mr(),h=()=>{const S=window.innerWidth;S>2560?a(48):S>1440?a(36):S>1200?a(24):S>768?a(18):a(12)};w.useEffect(()=>(h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]),w.useEffect(()=>{m()},[]);const p=ue("white","black");w.useEffect(()=>{const{scrollWidth:S,clientWidth:T}=l.current||{};s(S>T)},[t]);const m=async()=>{r(!0);try{const S=localStorage.getItem("accessToken"),T=await c.get("/api/channels/",{headers:{Authorization:`Bearer ${S}`},params:{limit:o,category:"SPORT"}});e(T.data.channels)}catch(S){console.error("Failed to fetch channels",S)}finally{r(!1)}},y=S=>{f(`/channel/${S}`)},v=S=>g.jsx(Ci,{src:S[0]||S[1]||"default-logo.png",alt:"Channel Logo",borderRadius:"md",objectFit:"contain",fallbackSrc:"default-logo.png",minH:"100px",minW:"100px",loading:"lazy",sx:{opacity:0,transition:"opacity 1s ease-in-out","&[src]":{opacity:1}}}),b=()=>{l.current&&l.current.scrollBy({left:-u,behavior:"smooth"})},x=()=>{l.current&&l.current.scrollBy({left:u,behavior:"smooth"})};return g.jsx(se,{bg:p,maxH:"100px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",px:0,paddingBottom:200,children:g.jsxs(de,{alignItems:"center",position:"relative",children:[!d&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:b,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:i?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),g.jsx(de,{ref:l,overflowX:"auto",p:0,maxHeight:"200px",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?g.jsx(de,{gap:"4",children:Array.from({length:20}).map((S,T)=>g.jsx(Zr,{height:"200px",maxHeight:"200px",width:"110px",borderRadius:"md"},T))}):g.jsx(de,{gap:"4",px:2,children:t==null?void 0:t.map((S,T)=>g.jsxs(Hn,{children:[" ",g.jsxs(Ue,{border:"1px solid #ddd",p:0,onClick:()=>y(S.id),borderRadius:"md",height:"100%",width:"100%",textAlign:"center",cursor:"pointer",boxShadow:"md",borderColor:p,overflow:"hidden",_hover:{boxShadow:"xl",bg:"gray.50"},spacing:4,align:"center",children:[g.jsx(Ga,{}),v(S.logos),g.jsx(Ga,{})]})]},(S==null?void 0:S.id)||T))})}),!d&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:x,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:i?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})},poe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),{user:i}=It(),s=w.useRef(null),[o,a]=w.useState(!1),l=rn({base:200,md:300}),c=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);w.useEffect(()=>{r(!0);let f=[],h=[];i.downloads.map(p=>{p!=null&&p.SerieId&&h.push(p.SerieId),p!=null&&p.movieId&&f.push(p.movieId)}),uoe({movieIds:f,seriesIds:h}).then(p=>{e(p.data||[]),a(p.data.length>0)}).catch(p=>console.error("Error fetching movies:",p)).finally(()=>r(!1))},[]),w.useEffect(()=>{const{scrollWidth:f,clientWidth:h}=s.current||{};a(f>h)},[t]);const u=()=>{s.current&&s.current.scrollBy({left:-l,behavior:"smooth"})},d=()=>{s.current&&s.current.scrollBy({left:l,behavior:"smooth"})};return g.jsxs(se,{children:[!n&&t.length>0&&g.jsx(de,{align:"center",fontSize:"xs",fontWeight:"bold",display:"inline-flex",pl:2,borderRadius:"md",color:"red.600",backdropFilter:"blur(5px)",children:g.jsx(Zre,{style:{marginRight:"0.5rem"}})}),g.jsx(se,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:g.jsxs(de,{alignItems:"center",position:"relative",children:[!c&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:u,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),g.jsx(de,{ref:s,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?g.jsx(de,{gap:"4",children:Array.from({length:20}).map((f,h)=>g.jsx(Zr,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},h))}):g.jsx(de,{gap:"4",px:2,children:t.map(f=>g.jsx(_l,{item:f,type:f.type_==="MOVIE"?"movie":"series"},f==null?void 0:f.id))})}),!c&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:d,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})]})},moe=()=>g.jsxs(go,{maxW:"container.xl",children:[g.jsx(doe,{}),g.jsx(foe,{}),g.jsx(soe,{}),g.jsx(poe,{}),g.jsx(hoe,{})]}),oy=({activePage:t,totalPages:e,setActivePage:n})=>g.jsxs(de,{gap:"2",alignItems:"center",children:[g.jsxs(de,{gap:"2",maxW:"250px",my:"10",children:[g.jsx(he,{onClick:()=>n(t-1),isDisabled:t===1,children:"Prev"}),g.jsx(he,{onClick:()=>n(t+1),isDisabled:t===e,children:"Next"})]}),g.jsxs(de,{gap:"1",children:[g.jsx(H,{children:t}),g.jsx(H,{children:"of"}),g.jsx(H,{children:e})]})]});oy.propTypes={activePage:jc.number.isRequired,totalPages:jc.number.isRequired,setActivePage:jc.func.isRequired};const goe=t=>new Promise(e=>{const n=new Image;n.src=t,n.onload=()=>e(!0),n.onerror=()=>e(!1)}),yoe=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},voe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(1),[i,s]=w.useState(1),[o,a]=w.useState(!0),[l,c]=w.useState(!1),[u,d]=w.useState(0),f=w.useRef([]),[h,p]=w.useState(24),[m,y]=w.useState(10),v=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),[b,x]=w.useState([]),[S,T]=w.useState(""),{colorMode:C}=Rs(),E=C==="dark",k="red.500",A=E?"gray.400":"gray.700",R=E?"#050505":"white",L=k,D="white",P=()=>{const I=window.innerWidth;I>2560?(p(48),y(16)):I>1440?(p(36),y(12)):I>1200?(p(24),y(8)):I>768?(p(18),y(6)):(p(12),y(4))};w.useEffect(()=>(P(),window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}),[]),w.useEffect(()=>{a(!0),sy(n,h,"movie",l,S).then(async I=>{const $=((I==null?void 0:I.movies)||[]).map(async Y=>await goe(Y.imagePath)?Y:null),G=(await Promise.all($)).filter(Boolean);e(G),r((I==null?void 0:I.page)||1),s(Math.ceil((I==null?void 0:I.totalMovies)/(I==null?void 0:I.pageSize)))}).catch(I=>console.error(I,"err")).finally(()=>a(!1))},[n,l,u,S]),w.useEffect(()=>{(async()=>{const $=await K3("movie");x($.genres)})().catch($=>console.error("Error fetching genres:",$))},[]);const M=()=>{c(I=>!I),r(1),d(0)},j=()=>{d(I=>I+1)},F=I=>{f.current[I].scrollBy({left:-300,behavior:"smooth"})},O=I=>{f.current[I].scrollBy({left:300,behavior:"smooth"})},B=yoe(t,m);return g.jsxs(go,{maxW:"container.xl",sx:{overflowY:"auto",overscrollBehavior:"none"},children:[" ",g.jsxs(de,{alignItems:"baseline",gap:"4",my:"10",flexDirection:"column",w:"100%",bg:R,p:4,borderRadius:"lg",boxShadow:"md",children:[g.jsx(H,{fontSize:"md",textTransform:"uppercase",mb:2,children:"Découvrir des Films"}),g.jsx(de,{overflowX:"auto",gap:"4",w:"full",p:2,justifyContent:"start",scrollSnapType:"x mandatory",sx:{"&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-thumb":{background:k,borderRadius:"6px"},"&::-webkit-scrollbar-track":{background:E?"gray.700":"gray.200"},WebkitOverflowScrolling:"touch"},onMouseDown:I=>{I.currentTarget.isDown=!0,I.currentTarget.startX=I.pageX-I.currentTarget.offsetLeft,I.currentTarget.scrollLeft=I.currentTarget.scrollLeft},onMouseLeave:I=>{I.currentTarget.isDown=!1},onMouseUp:I=>{I.currentTarget.isDown=!1},onMouseMove:I=>{if(!I.currentTarget.isDown)return;I.preventDefault();const G=(I.pageX-I.currentTarget.offsetLeft-I.currentTarget.startX)*.5;I.currentTarget.scrollLeft=I.currentTarget.scrollLeft-G},children:b.map(I=>g.jsx(se,{flexShrink:0,scrollSnapAlign:"center",children:g.jsx(he,{variant:"outline",colorScheme:S===I.name?"red":"gray",color:S===I.name?"gray":A,_hover:{bg:L,color:D},onClick:()=>T(I.name),px:4,py:2,borderWidth:2,borderColor:S===I.name?k:"gray.300",children:I.name})},I.id))})]}),B.map((I,$)=>g.jsx(se,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",my:4,children:g.jsxs(de,{alignItems:"center",children:[!v&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:()=>F($),position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",bg:"transparent",_hover:{bg:"gray.200"}}),g.jsx(de,{ref:G=>f.current[$]=G,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:o?g.jsx(de,{gap:"4",children:Array.from({length:m}).map((G,Y)=>g.jsx(Zr,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},Y))}):g.jsx(de,{gap:"4",px:2,children:I.map((G,Y)=>{var q;return g.jsx(_l,{item:G,type:"movie"},((q=G==null?void 0:G._id)==null?void 0:q.$oid)||Y)})})}),!v&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:()=>O($),position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",bg:"transparent",_hover:{bg:"gray.200"}})]})},$)),g.jsxs(Dr,{direction:"row",spacing:4,my:4,alignItems:"center",children:[S==""&&g.jsx(he,{onClick:M,colorScheme:"red",children:l?"Pagination":"Aléatoire"}),l&&g.jsx(he,{onClick:j,colorScheme:"orange",children:"Mélanger"}),!l&&g.jsx(oy,{activePage:n,totalPages:i,setActivePage:r})]})]})},xoe=t=>new Promise(e=>{const n=new Image;n.src=t,n.onload=()=>e(!0),n.onerror=()=>e(!1)}),boe=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},Soe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(1),[i,s]=w.useState(1),[o,a]=w.useState(!0),[l,c]=w.useState(!1),[u,d]=w.useState(0),[f,h]=w.useState(24),[p,m]=w.useState(10),y=w.useRef([]),v=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),{colorMode:b}=Rs(),x=b==="dark",S="red.500",T=x?"gray.400":"gray.700",C=x?"#050505":"white",E=S,k="white",[A,R]=w.useState([]),[L,D]=w.useState("");w.useEffect(()=>{(async()=>{let G=(await K3("tv")).genres.flatMap(Y=>Y.name.split("&").map(q=>({name:q.trim(),id:Y.id})));R(G)})().catch($=>console.error("Error fetching genres:",$))},[]);const P=()=>{const I=window.innerWidth;I>2560?(h(48),m(16)):I>1440?(h(36),m(12)):I>1200?(h(24),m(8)):I>768?(h(18),m(6)):(h(12),m(4))};w.useEffect(()=>(P(),window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}),[]),w.useEffect(()=>{a(!0),sy(n,f,"series",l,L).then(async I=>{const $=((I==null?void 0:I.series)||[]).map(async Y=>await xoe(Y.imagePath)?Y:null),G=(await Promise.all($)).filter(Boolean);e(G),r((I==null?void 0:I.page)||1),s(Math.ceil((I==null?void 0:I.totalSeries)/(I==null?void 0:I.pageSize)))}).catch(I=>console.error(I,"Error fetching series")).finally(()=>a(!1))},[n,l,u,L]);const M=()=>{c(I=>!I),r(1),d(0)},j=()=>{d(I=>I+1)},F=I=>{y.current[I].scrollBy({left:-300,behavior:"smooth"})},O=I=>{y.current[I].scrollBy({left:300,behavior:"smooth"})},B=boe(t,p);return g.jsxs(go,{maxW:"container.xl",sx:{overflowY:"auto",overscrollBehavior:"none"},children:[g.jsxs(de,{alignItems:"baseline",gap:"4",my:"10",flexDirection:"column",w:"100%",bg:C,p:4,borderRadius:"lg",boxShadow:"md",children:[g.jsx(H,{fontSize:"md",textTransform:"uppercase",mb:2,children:"Découvrir des Séries"}),g.jsx(de,{overflowX:"auto",gap:"4",w:"full",p:2,justifyContent:"start",scrollSnapType:"x mandatory",sx:{"&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-thumb":{background:S,borderRadius:"6px"},"&::-webkit-scrollbar-track":{background:x?"gray.700":"gray.200"},WebkitOverflowScrolling:"touch"},onMouseDown:I=>{I.currentTarget.isDown=!0,I.currentTarget.startX=I.pageX-I.currentTarget.offsetLeft,I.currentTarget.scrollLeft=I.currentTarget.scrollLeft},onMouseLeave:I=>{I.currentTarget.isDown=!1},onMouseUp:I=>{I.currentTarget.isDown=!1},onMouseMove:I=>{if(!I.currentTarget.isDown)return;I.preventDefault();const G=(I.pageX-I.currentTarget.offsetLeft-I.currentTarget.startX)*.5;I.currentTarget.scrollLeft=I.currentTarget.scrollLeft-G},children:A.map(I=>g.jsx(se,{flexShrink:0,scrollSnapAlign:"center",children:g.jsx(he,{variant:"outline",colorScheme:L===I.name?"red":"gray",color:L===I.name?"gray":T,_hover:{bg:E,color:k},onClick:()=>D(I.name),px:4,py:2,borderWidth:2,borderColor:L===I.name?S:"gray.300",children:I.name})},I.id))})]}),B.map((I,$)=>g.jsx(se,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",my:4,children:g.jsxs(de,{alignItems:"center",children:[!v&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:()=>F($),position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",bg:"transparent",_hover:{bg:"gray.200"}}),g.jsx(de,{ref:G=>y.current[$]=G,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:o?g.jsx(de,{gap:"4",children:Array.from({length:p}).map((G,Y)=>g.jsx(Zr,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},Y))}):g.jsx(de,{gap:"4",px:2,children:I.map((G,Y)=>g.jsx(_l,{item:G,type:"series"},Y))})}),!v&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:()=>O($),position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",bg:"transparent",_hover:{bg:"gray.200"}})]})},$)),g.jsxs(Dr,{direction:"row",spacing:4,my:4,alignItems:"center",children:[g.jsx(he,{onClick:M,colorScheme:"red",children:l?"Pagination":"Aléatoire"}),l&&g.jsx(he,{onClick:j,colorScheme:"orange",children:"Mélanger"}),!l&&g.jsx(oy,{activePage:n,totalPages:i,setActivePage:r})]})]})},woe=t=>new Promise(e=>{const n=new Image;n.src=t,n.onload=()=>e(!0),n.onerror=()=>e(!1)}),Toe=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},Eoe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(1),[i,s]=w.useState(0),[o,a]=w.useState(""),[l,c]=w.useState(!0),[u,d]=w.useState("all"),f=w.useRef([]),[h,p]=w.useState(24),[m,y]=w.useState(10),v=ue("white","gray.800"),b=ue("gray.800","white"),x=ue("gray.300","gray.600"),S=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),T=async()=>{c(!0);try{const P=await loe({page:n,search:o,pageSize:h,type:u}),M=async F=>{const O=F.map(async B=>await woe(B.imagePath)?B:null);return(await Promise.all(O)).filter(Boolean)};let j=[];if(u==="movie"||u==="all"){const F=await M(P.results.movies);j=[...j,...F]}if(u==="series"||u==="all"){const F=await M(P.results.series);j=[...j,...F]}e(j),s(u==="movie"?P.totalMovies:u==="series"?P.totalSeries:P.totalMovies+P.totalSeries)}catch(P){console.error(P)}finally{c(!1)}},C=()=>{const P=window.innerWidth;P>2560?(p(48),y(16)):P>1440?(p(36),y(12)):P>1200?(p(24),y(8)):P>768?(p(18),y(6)):(p(12),y(4))};w.useEffect(()=>(C(),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}),[]),w.useEffect(()=>{T()},[n,o,u]);const E=P=>{a(P.target.value),r(1)},k=P=>{d(P.target.value),r(1)},A=P=>{f.current[P].scrollBy({left:-300,behavior:"smooth"})},R=P=>{f.current[P].scrollBy({left:300,behavior:"smooth"})},L=!l&&t.length===0,D=Toe(t,m);return g.jsxs(go,{maxW:"container.xl",children:[g.jsx(on,{as:"h2",fontSize:"md",textTransform:"uppercase",my:4,children:"Rechercher des Films et Séries"}),g.jsxs(Dr,{direction:"row",spacing:4,my:4,children:[g.jsx(Ct,{placeholder:"Recherchez des films ou des séries",value:o,onChange:E}),g.jsxs("select",{onChange:k,value:u,style:{backgroundColor:v,color:b,border:"1px solid",borderColor:x,padding:"8px",borderRadius:"4px"},children:[g.jsx("option",{value:"all",children:"Tous"}),g.jsx("option",{value:"movie",children:"Films"}),g.jsx("option",{value:"series",children:"Séries"})]})]}),L&&g.jsxs(H,{color:"gray.500",fontSize:"lg",children:['Aucun résultat trouvé pour "',o,'".']}),D.map((P,M)=>g.jsx(se,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",my:4,children:g.jsxs(de,{alignItems:"center",children:[!S&&g.jsx(Xe,{icon:g.jsx(ma,{}),onClick:()=>A(M),position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",bg:"transparent",_hover:{bg:"gray.200"}}),g.jsx(de,{ref:j=>f.current[M]=j,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:l?g.jsx(de,{gap:"4",children:Array.from({length:m}).map((j,F)=>g.jsx(Zr,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},F))}):g.jsx(de,{gap:"4",px:2,children:P.map(j=>g.jsx(_l,{item:j,type:j.type_==="MOVIE"?"movie":"series"},j==null?void 0:j.id))})}),!S&&g.jsx(Xe,{icon:g.jsx(ga,{}),onClick:()=>R(M),position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",bg:"transparent",_hover:{bg:"gray.200"}})]})},`item-${M}`)),g.jsx(oy,{activePage:n,totalPages:Math.ceil(i/24),setActivePage:r})]})},Coe=()=>{const{logo:t}=It(),e=rn({base:"80px",md:"120px"});return g.jsx(se,{as:"img",borderRadius:"30px",src:t,alt:"Custom Logo",width:e})},koe=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),{login:i,user:s,loading:o}=It(),a=Mr(),l=rn({base:"20px",md:"24px"}),{colorMode:c,toggleColorMode:u}=Rs(),d=ue("white","#141414"),f=ue("gray.100","#181818"),h=ue("gray.800","white"),p=ue("gray.50","black.200"),m=ue("gray.300","#444"),y=ue("#e50914","#e50914"),v=async S=>{S.preventDefault();try{await i({email:t,password:n})}catch(T){console.error("Login failed:",T)}},b=S=>{S.preventDefault(),a("/changepassword")},x=S=>{S.preventDefault(),a("/register")};return o?g.jsx(Hn,{height:"100vh",children:g.jsx(Mn,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"red.600",size:"xl"})}):s?g.jsx(v0,{to:"/"}):g.jsx(se,{bg:d,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",px:4,bgGradient:c==="dark"?"linear(to-br, black, #141414)":"",children:g.jsxs(Ue,{children:[g.jsxs(Dr,{spacing:8,width:{base:"100%",md:"400px"},children:[g.jsxs(Ue,{as:"header",spacing:"6",mt:{base:"6",md:"8"},children:[g.jsx(Coe,{}),g.jsx(on,{as:"h1",fontWeight:"500",fontSize:l,color:h,letterSpacing:"-0.5px",children:"Connectez-vous à votre compte"})]}),g.jsx(Ok,{bg:f,variant:"outline",borderColor:c==="dark"?"#333":"gray.200",w:"100%",boxShadow:"lg",borderRadius:"8px",overflow:"hidden",children:g.jsx(Fk,{children:g.jsx("form",{onSubmit:v,children:g.jsxs(Dr,{spacing:"4",children:[g.jsxs(pi,{children:[g.jsx(mi,{color:h,children:"Email"}),g.jsx(Ct,{type:"email",value:t,onChange:S=>e(S.target.value),bg:p,borderColor:m,color:h,size:"md",borderRadius:"6px",_placeholder:{color:"gray.500"},required:!0})]}),g.jsxs(pi,{children:[g.jsxs(ht,{justify:"space-between",children:[g.jsx(mi,{color:h,children:"Mot de passe"}),g.jsx(he,{as:"a",variant:"link",size:"xs",color:y,fontWeight:"500",onClick:b,children:"Mot de passe oublié ?"})]}),g.jsx(Ct,{type:"password",value:n,onChange:S=>r(S.target.value),bg:p,borderColor:m,color:h,size:"md",borderRadius:"6px",_placeholder:{color:"gray.500"},required:!0})]}),g.jsx(he,{type:"submit",bg:y,color:"white",size:"md",_hover:{bg:"#b20610"},_active:{bg:"#90050d"},borderRadius:"6px",children:"Connexion"})]})})})}),g.jsx(Ok,{variant:"outline",borderColor:c==="dark"?"#333":"gray.200",bg:f,w:"100%",boxShadow:"lg",borderRadius:"8px",children:g.jsx(Fk,{children:g.jsx(Hn,{children:g.jsxs(ht,{fontSize:"sm",spacing:"1",color:h,children:[g.jsx(H,{children:"Nouveau sur notre plateforme ?"}),g.jsx(he,{as:"a",variant:"link",size:"xs",color:y,fontWeight:"500",onClick:x,children:"Créer un compte."})]})})})})]}),g.jsx(Hn,{as:"footer",mt:"16",children:g.jsxs(Ue,{spacing:"2",pt:"4",children:[g.jsxs(ht,{spacing:"6",children:[g.jsxs(Vt,{color:h,to:"/register/agent-registration",_hover:{textDecoration:"underline"},children:[g.jsx(Jn,{as:nie})," Aide"]}),g.jsxs(Mt,{isExternal:!0,color:"#0088cc",href:"https://t.me/yourTelegramLink",children:[g.jsx(Jn,{as:c3})," Telegram"]}),g.jsxs(Mt,{isExternal:!0,color:"#25D366",href:"https://wa.me/yourWhatsAppNumber",children:[g.jsx(Jn,{as:bT})," WhatsApp"]}),g.jsxs(Vt,{color:h,to:"/terms",_hover:{textDecoration:"underline"},children:[g.jsx(Jn,{as:Jre})," Terms"]})]}),g.jsx(H,{fontSize:"xs",color:"gray.500",children:"© 2024 Tous droits réservés"})]})})]})})},Aoe=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState(!1),[l,c]=w.useState(!1),u=Mr(),d=Eh(),{requestPasswordReset:f,changePassword:h}=It();w.useEffect(()=>{localStorage.getItem("isCodeSent")==="true"&&c(!0)},[]);const p=async R=>{R.preventDefault();try{a(!0),await f({email:t})?(c(!0),localStorage.setItem("isCodeSent","true")):d({title:"Error",description:"There was an issue sending the email. Please try again.",status:"error",duration:5e3,isClosable:!0})}catch(L){d({title:"Error",description:"Failed to request password reset.",status:"error",duration:5e3,isClosable:!0}),console.error("Error requesting password reset:",L)}finally{a(!1)}},m=async R=>{R.preventDefault();try{a(!0),await h({email:t,newPassword:i,code:n})&&(localStorage.removeItem("isCodeSent"),u("/login"))}catch(L){d({title:"Error",description:"Failed to change password. Please try again.",status:"error",duration:5e3,isClosable:!0}),console.error("Error changing password:",L)}finally{a(!1)}},y=()=>{c(!1),e(""),r(""),s(""),localStorage.removeItem("isCodeSent")},v=ue("linear(to-br, white, gray.200)","linear(to-br, black, #141414)"),b=ue("gray.100","#181818"),x=ue("gray.200","#333"),S=ue("gray.800","white"),T=ue("blue.600","#e50914"),C=ue("blue.500","#b20610"),E=ue("white","black.200"),k=ue("gray.300","#444"),A=ue("gray.500","gray.500");return g.jsx(Hn,{minHeight:"100vh",bgGradient:v,px:4,children:g.jsxs(Ue,{spacing:6,w:{base:"100%",md:"400px"},bg:b,p:6,borderRadius:"md",boxShadow:"lg",borderColor:x,children:[g.jsx(H,{fontSize:"2xl",fontWeight:"bold",color:S,children:"Change Your Password"}),o&&g.jsx(Hn,{children:g.jsx(Mn,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"red.600",size:"xl"})}),!l&&g.jsxs(g.Fragment,{children:[g.jsx(he,{onClick:()=>u("/login"),bg:"red.600",color:"white",_hover:{bg:"gray.500"},mb:4,children:"Back to Login"}),g.jsx("form",{onSubmit:p,children:g.jsxs(Dr,{spacing:4,children:[g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:S,children:"Email"}),g.jsx(Ct,{type:"email",value:t,onChange:R=>e(R.target.value),bg:E,borderColor:k,color:S,placeholder:"Enter your email",_placeholder:{color:A}})]}),g.jsx(he,{type:"submit",bg:T,color:"white",_hover:{bg:C},isLoading:o,children:"Request Reset Code"})]})})]}),l&&g.jsx("form",{onSubmit:m,children:g.jsxs(Dr,{spacing:4,children:[g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:S,children:"Verification Code"}),g.jsx(Ct,{type:"text",value:n,onChange:R=>r(R.target.value),bg:E,borderColor:k,color:S,placeholder:"Enter the code sent to your email",_placeholder:{color:A}})]}),g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:S,children:"New Password"}),g.jsx(Ct,{type:"password",value:i,onChange:R=>s(R.target.value),bg:E,borderColor:k,color:S,placeholder:"Enter your new password",_placeholder:{color:A}})]}),g.jsx(he,{type:"submit",bg:T,color:"white",_hover:{bg:C},isLoading:o,children:"Change Password"})]})}),l&&g.jsx(he,{mt:4,bg:"red.500",color:"white",_hover:{bg:"red.600"},onClick:y,children:"Restart Process"})]})})},Roe=()=>{var b;const t=Mr(),e=ue("white","#141414"),n=ue("gray.800","white"),r=ue("gray.300","#333"),i=ue("#e50914","#e50914"),s=rn({base:"22px",md:"28px"}),o=ue("green.500","green.300"),a=rn({base:"100%",md:"250px"}),l=ue("gray.50","gray.700"),c=rn({base:"auto",md:"450px"}),u=rn({base:"column",md:"row"}),{logo:d,api:f,currency:h}=It(),[p,m]=w.useState([]),y={FaStar:X0,FaCrown:ST,FaMedal:Rg,FaClock:Ag};w.useEffect(()=>{(async()=>{try{const S=await f.get("/api/subscription");m(S.data)}catch(S){console.error("Error fetching plans:",S)}})()},[]);const v=x=>{localStorage.setItem("Plan",JSON.stringify(x)),t("/register/fast-registration")};return g.jsx(Hn,{minHeight:"100vh",px:6,py:12,bg:e,children:g.jsxs(Ue,{spacing:8,w:"100%",maxW:"1000px",position:"relative",children:[g.jsx(ht,{top:"10px",right:"20px",children:g.jsx(he,{as:Vt,to:"/login",fontSize:"md",fontWeight:"bold",color:i,_hover:{textDecoration:"underline"},children:"Retour à la Connexion"})}),g.jsx(Ci,{src:d,alt:"Logo",boxSize:"100px",objectFit:"contain",borderRadius:"20px"}),g.jsx(on,{as:"h1",fontWeight:"600",fontSize:s,color:n,textAlign:"center",children:"Nos Plans"}),g.jsx(H,{fontSize:"lg",color:n,textAlign:"center",maxW:"700px",children:"Nous sommes les leaders en streaming avec plus de 100,000 films et séries, ainsi que plus de 20,000 chaînes de TV du monde entier. Rejoignez-nous et profitez du meilleur du divertissement! Notre service client est disponible 24/7 pour vous assister."}),g.jsxs(Ue,{spacing:6,w:"100%",children:[g.jsx(he,{w:"100%",bg:i,color:"white",size:"md",_hover:{bg:"#b20610"},_active:{bg:"#90050d"},borderRadius:"6px",onClick:()=>t("/register/fast-registration"),children:"Inscription Rapide"}),g.jsx(he,{w:"100%",bg:"blue.600",color:"white",size:"md",_hover:{bg:"blue.500"},_active:{bg:"blue.700"},borderRadius:"6px",onClick:()=>t("/register/agent-registration"),children:"Inscription par un Agent Certifié"})]}),g.jsx(Dr,{direction:u,spacing:6,w:"100%",justifyContent:"center",children:(b=[...p].reverse())==null?void 0:b.map((x,S)=>g.jsxs(se,{w:a,bg:l,p:8,borderRadius:"lg",boxShadow:"lg",textAlign:"center",borderColor:r,borderWidth:"1px",_hover:{boxShadow:"0 0 20px rgba(229, 9, 20, 0.6)"},transition:"box-shadow 0.3s ease-in-out",h:c,display:"flex",flexDirection:"column",justifyContent:"space-between",onClick:()=>v(x),cursor:"pointer",children:[x.badge&&g.jsx(Ei,{colorScheme:"green",mb:2,bg:o,children:x.badge}),g.jsx(Jn,{as:y[x.icon]||Ag,boxSize:10,color:"yellow.500",mb:4}),g.jsxs(H,{fontSize:"xl",fontWeight:"bold",color:n,children:[x.price," ",g.jsxs(H,{as:"span",fontSize:"lg",color:"gray.500",children:[h,"/mois"]})]}),g.jsxs(se,{mt:4,children:[g.jsxs(ht,{justifyContent:"center",spacing:1,children:[g.jsx(H,{fontSize:"lg",fontWeight:"semibold",color:n,children:"Appareils:"}),g.jsx(H,{fontSize:"lg",fontWeight:"bold",color:"green.500",children:x.devices})]}),g.jsxs(ht,{justifyContent:"center",spacing:1,mt:1,children:[g.jsx(H,{fontSize:"lg",fontWeight:"semibold",color:n,children:"Téléchargements:"}),g.jsx(H,{fontSize:"lg",fontWeight:"bold",color:"green.500",children:x.downloads<2e3?x.downloads:"Illimité"})]})]}),g.jsx(H,{fontSize:"sm",mt:3,color:n,textAlign:"center",children:x.description}),x.downloads<2e3&&g.jsxs(H,{fontSize:"sm",mt:2,color:"gray.500",children:["Augmentez les téléchargements pour ",g.jsx(H,{as:"span",fontWeight:"bold",children:"300 CFA"})," par téléchargement supplémentaire"]})]},S))})]})})},_oe=()=>{const{getAllAgents:t,logo:e}=It(),[n,r]=w.useState([]),[i,s]=w.useState(!0),o=ue("white","#141414"),a=ue("gray.800","white"),l=ue("gray.300","#333"),c=ue("#e50914","#e50914"),u=ue("yellow.400","yellow.300"),d=rn({base:"column",md:"row"}),f=rn({base:"100%",md:"250px"}),h=rn({base:"auto",md:"auto"}),p=ue("gray.50","gray.700");w.useEffect(()=>{(async()=>{s(!0);const v=await t();r(v.data||[]),s(!1)})()},[]);const m=y=>{const v={facebook:a3,twitter:u3,instagram:l3,whatsapp:bT,telegram:c3};return Object.entries(y).map(([b,x])=>{const S=v[b.toLowerCase()],T={facebook:"blue.500",twitter:"cyan.500",instagram:"pink.500",whatsapp:"green.500",telegram:"blue.300"}[b.toLowerCase()];return S?g.jsx(Mt,{href:x,isExternal:!0,children:g.jsx(Jn,{as:S,boxSize:8,mr:3,color:T,_hover:{boxSize:10}})},b):null})};return g.jsx(Hn,{minHeight:"100vh",px:6,py:12,bg:o,children:g.jsxs(Ue,{spacing:8,w:"100%",maxW:"1000px",position:"relative",children:[g.jsx(he,{as:Vt,to:"/login",fontSize:"md",fontWeight:"bold",color:c,_hover:{textDecoration:"underline"},children:"Retour à la Connexion"}),g.jsx(he,{as:Vt,to:"/register",fontSize:"md",fontWeight:"bold",color:c,_hover:{textDecoration:"underline"},children:"Retour debut Inscription"}),g.jsx(Ci,{src:e,alt:"Logo",boxSize:"100px",objectFit:"contain",borderRadius:"20px"}),g.jsx(on,{as:"h1",fontWeight:"600",fontSize:"28px",color:a,textAlign:"center",children:"Liste des Agents Certifiés"}),i?g.jsx(Mn,{size:"xl"}):g.jsx(Dr,{direction:d,spacing:6,w:"100%",justifyContent:"center",wrap:"wrap",children:n.length>0?n.map((y,v)=>g.jsxs(se,{w:f,bg:p,p:8,borderRadius:"lg",boxShadow:"lg",textAlign:"center",borderColor:l,borderWidth:"1px",position:"relative",_hover:{boxShadow:"0 0 20px rgba(229, 9, 20, 0.6)"},transition:"box-shadow 0.3s ease-in-out",h,display:"flex",flexDirection:"column",justifyContent:"space-between",children:[g.jsx(Jn,{as:X0,color:u,boxSize:6,position:"absolute",top:"10px",right:"10px"}),g.jsx(ht,{justifyContent:"center",children:g.jsx(H,{fontSize:"xl",fontWeight:"bold",color:a,children:y.email})}),y.phone&&g.jsx(Mt,{href:`tel:${y.phone}`,isExternal:!0,children:g.jsxs(H,{fontSize:"lg",mt:2,color:a,_hover:{textDecoration:"underline"},children:["Téléphone: ",y.phone]})}),y.workingtime&&g.jsxs(H,{fontSize:"md",mt:1,color:a,children:["Horaires de travail: ",y.workingtime]}),y.SocialMedias&&Object.keys(y.SocialMedias).length>0&&g.jsx(ht,{mt:4,justifyContent:"center",children:m(y.SocialMedias)})]},v)):g.jsx(H,{fontSize:"lg",color:a,children:"Aucun agent disponible pour le moment."})})]})})},Loe=()=>{const t=ue("white","#141414"),e=ue("gray.800","white"),n=Mr();return g.jsx(se,{bg:t,color:e,minHeight:"100vh",py:"12",px:{base:"4",md:"8"},children:g.jsxs(go,{maxW:"container.md",children:[g.jsx(Xe,{icon:g.jsx(Kse,{}),"aria-label":"Retour",onClick:()=>n("/login"),variant:"ghost",color:e,mb:"6"}),g.jsxs(Ue,{spacing:"8",align:"stretch",divider:g.jsx(e3,{borderColor:ue("gray.200","#333")}),children:[g.jsx(on,{as:"h1",size:"xl",textAlign:"center",children:"Conditions Générales"}),g.jsxs(se,{children:[g.jsx(on,{as:"h2",size:"md",mb:"4",children:"1. Introduction"}),g.jsx(H,{children:"Bienvenue sur notre service de streaming. Ces Conditions Générales régissent votre utilisation de notre plateforme. En accédant ou en utilisant nos services, vous acceptez d'être lié par ces conditions."})]}),g.jsxs(se,{children:[g.jsx(on,{as:"h2",size:"md",mb:"4",children:"2. Conditions de Compte"}),g.jsx(H,{children:"Vous devez avoir 18 ans ou plus pour créer un compte. Vous êtes responsable du maintien de la confidentialité de votre compte et de votre mot de passe. Vous acceptez de fournir des informations exactes et complètes lors de l'inscription."})]}),g.jsxs(se,{children:[g.jsx(on,{as:"h2",size:"md",mb:"4",children:"3. Utilisation du Contenu"}),g.jsx(H,{children:"Notre contenu est destiné à un usage personnel et non commercial uniquement. Vous ne pouvez pas distribuer, modifier, reproduire ou exécuter le contenu sans autorisation. Le streaming est limité à un seul appareil par compte, sauf indication contraire."})]}),g.jsxs(se,{children:[g.jsx(on,{as:"h2",size:"md",mb:"4",children:"4. Paiement et Abonnement"}),g.jsx(H,{children:"Les frais d'abonnement seront facturés sur une base mensuelle ou annuelle, selon le plan choisi. Les paiements ne sont pas remboursables, sauf si la loi l'exige. Nous nous réservons le droit de modifier les frais d'abonnement avec préavis."})]}),g.jsxs(se,{children:[g.jsx(on,{as:"h2",size:"md",mb:"4",children:"5. Résiliation et Suspension"}),g.jsx(H,{children:"Nous pouvons résilier ou suspendre votre compte si vous violez ces conditions ou si vous adoptez un comportement frauduleux ou illégal. En cas de résiliation, vous perdrez l'accès au contenu et à tout avantage associé."})]}),g.jsxs(se,{children:[g.jsx(on,{as:"h2",size:"md",mb:"4",children:"6. Modifications du Service"}),g.jsx(H,{children:"Nous pouvons mettre à jour ou modifier le service à tout moment pour améliorer l'expérience utilisateur ou pour se conformer aux réglementations. Nous vous informerons des changements importants, et votre utilisation continue du service constitue l'acceptation de ces changements."})]}),g.jsxs(se,{children:[g.jsx(on,{as:"h2",size:"md",mb:"4",children:"7. Informations de Contact"}),g.jsxs(H,{children:["Si vous avez des questions ou des préoccupations concernant ces Conditions Générales, veuillez nous contacter à"," ",g.jsx(Mt,{href:"mailto:servicefilmu@gmail.com",color:"blue.500",children:"servicefilmu@gmail.com"}),"."]})]})]})]})})},Ioe=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState("+223"),[f,h]=w.useState(null),{loading:p,verifyEmailAndCreateAccount:m,sendVerificationCode:y,toast:v}=It(),[b,x]=w.useState(!1),S=Mr();w.useEffect(()=>{const B=localStorage.getItem("email");localStorage.getItem("isCodeSent")&&x(!0),B&&e(B)},[]);const T=async()=>{await y({email:t})&&(x(!0),localStorage.setItem("isCodeSent","true"),localStorage.setItem("email",t))},C=async B=>{if(B.preventDefault(),i!==o){h("Les mots de passe ne sont pas identiques."),v({title:"Erreur",description:"Les mots de passe ne sont pas identiques.",status:"error",duration:3e3,isClosable:!0});return}await m({email:t,newPassword:i,code:n,phone:l,countryCode:u})&&(localStorage.removeItem("isCodeSent"),localStorage.removeItem("email"),S("/login"))},E=()=>{e(""),r(""),s(""),a(""),c(""),d("+1"),x(!1),localStorage.removeItem("isCodeSent"),localStorage.removeItem("email"),h(null)},k=ue("linear(to-br, white, gray.200)","linear(to-br, black, #141414)"),A=ue("gray.100","#181818"),R=ue("gray.800","white"),L=ue("blue.600","#e50914"),D=ue("blue.500","#b20610"),P=ue("white","black.200"),M=ue("gray.300","#444"),j=ue("gray.500","gray.500"),F=ue("gray.200","gray.600"),O=ue("gray.300","gray.700");return g.jsx(Hn,{minHeight:"100vh",bgGradient:k,px:4,children:g.jsxs(Ue,{spacing:6,w:{base:"90%",sm:"80%",md:"400px"},bg:A,p:6,borderRadius:"md",boxShadow:"lg",children:[g.jsx(H,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:R,children:"Créez votre compte"}),p&&g.jsx(Hn,{children:g.jsx(Mn,{thickness:"4px",speed:"0.65s",color:"red.600",size:"xl"})}),b?g.jsx("form",{onSubmit:C,children:g.jsxs(Dr,{spacing:4,children:[g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:R,children:"Code de vérification"}),g.jsx(Ct,{type:"text",value:n,onChange:B=>r(B.target.value),bg:P,borderColor:M,color:R,placeholder:"Entrez le code",_placeholder:{color:j}})]}),g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:R,children:"Numero Orange!!"}),g.jsxs(de,{children:[g.jsxs(Rr,{value:u,onChange:B=>d(B.target.value),bg:P,borderColor:M,color:R,width:"30%",children:[g.jsx("option",{value:"+223",children:"+223"}),g.jsx("option",{value:"+226",children:"+226"}),g.jsx("option",{value:"+227",children:"+227"}),g.jsx("option",{value:"+241",children:"+241"}),g.jsx("option",{value:"+242",children:"+242"}),g.jsx("option",{value:"+243",children:"+243"}),g.jsx("option",{value:"+225",children:"+225"}),g.jsx("option",{value:"+237",children:"+237"}),g.jsx("option",{value:"+255",children:"+255"}),g.jsx("option",{value:"+256",children:"+256"}),g.jsx("option",{value:"+254",children:"+254"}),g.jsx("option",{value:"+233",children:"+233"})]}),g.jsx(Ct,{type:"number",value:l,onChange:B=>c(B.target.value),bg:P,borderColor:M,color:R,placeholder:"Numéro de téléphone",_placeholder:{color:j},width:"70%"})]})]}),f&&g.jsx(H,{color:"red.400",children:f}),g.jsx(H,{children:'md ex:"ldoIOHTZ$df554"'}),g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:R,children:"Mot de passe"}),g.jsx(Ct,{type:"password",value:i,onChange:B=>s(B.target.value),bg:P,borderColor:M,color:R,placeholder:"Entrez le mot de passe",_placeholder:{color:j}})]}),g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:R,children:"Confirmez le mot de passe"}),g.jsx(Ct,{type:"password",value:o,onChange:B=>a(B.target.value),bg:P,borderColor:M,color:R,placeholder:"Confirmez le mot de passe",_placeholder:{color:j}})]}),g.jsx(he,{type:"submit",bg:L,color:"white",_hover:{bg:D},width:"100%",size:"lg",children:"Créer le compte"}),g.jsx(he,{onClick:E,bg:F,_hover:{bghover:O},variant:"outline",color:R,width:"100%",size:"lg",children:"Réinitialiser le processus"})]})}):g.jsxs(g.Fragment,{children:[g.jsxs(pi,{isRequired:!0,children:[g.jsx(mi,{color:R,children:"E-mail"}),g.jsx(Ct,{type:"email",value:t,onChange:B=>e(B.target.value),bg:P,borderColor:M,color:R,placeholder:"Entrez votre e-mail",_placeholder:{color:j}})]}),g.jsx(he,{onClick:T,bg:L,color:"white",_hover:{bg:D},width:"100%",size:"lg",children:"Envoyer le code de vérification"}),g.jsx(he,{mt:4,onClick:()=>S("/"),bg:"orange.500",color:"white",_hover:{bg:"orange.600"},width:"100%",size:"lg",children:"Retour a l'indentification"})]})]})})},X3=w.createContext(),ay=()=>w.useContext(X3),Poe=({children:t})=>{const[e,n]=w.useState(!0),{user:r,api:i,handleError:s,handleSuccess:o}=It(),[a,l]=w.useState([]),[c,u]=w.useState(""),[d,f]=w.useState([]),[h,p]=w.useState([]),m=async()=>{n(!0);const k=localStorage.getItem("accessToken");try{const A=await i.get("/api/subscription",{headers:{Authorization:`Bearer ${k}`}});l(A.data)}catch{}finally{n(!1)}};w.useEffect(()=>{m()},[]);const y=async(k,A,R)=>{n(!0);const L=localStorage.getItem("accessToken");try{const D=await i.put(`/api/subscription/${k}`,{fieldName:A,fieldValue:R},{headers:{Authorization:`Bearer ${L}`}});return o("Subscription updated."),D.data}catch(D){throw console.error("Failed to update subscription:",D),D}finally{n(!1)}},v=async k=>{n(!0);const A=localStorage.getItem("accessToken");try{const R=await i.delete(`/api/subscription/${k}`,{headers:{Authorization:`Bearer ${A}`}});return o("Subscription deleted."),R.data}catch(R){throw R}finally{n(!1)}},b=async k=>{await v(k);const A=await m();l(A)},x=async()=>{const k=localStorage.getItem("accessToken");try{const A=JSON.parse(c);if(!Array.isArray(A))throw new Error("Input must be an array of subscription objects.");n(!0);const R=await i.post("/api/subscription/bulk",{subscriptions:A},{headers:{Authorization:`Bearer ${k}`}});return o("Subscriptions created."),u(""),m(),R.data}catch{}finally{n(!1)}},S=async()=>{n(!0);const k=localStorage.getItem("accessToken");try{const A=await i.get("/api/transaction/all",{headers:{Authorization:`Bearer ${k}`}});f(A.data)}catch{}finally{n(!1)}},T=async()=>{n(!0);const k=localStorage.getItem("accessToken");try{const A=await i.get("/api/transaction/moneyflows",{headers:{Authorization:`Bearer ${k}`}});return p(A.data.MoneyFlow),A.data.MoneyFlow}catch{}finally{n(!1)}},C=async(k,A)=>{n(!0);const R=localStorage.getItem("accessToken");try{await i.put(`/api/transaction/moneyflow/${k}`,A,{headers:{Authorization:`Bearer ${R}`}}),o("Money flow updated successfully.")}catch{}finally{n(!1)}},E=async k=>{n(!0);const A=localStorage.getItem("accessToken");try{await i.delete(`/api/transaction/moneyflow/${k}`,{headers:{Authorization:`Bearer ${A}`}}),o("Money flow deleted successfully.")}catch{}finally{n(!1)}};return g.jsx(X3.Provider,{value:{subscriptions:a,removeSubscription:b,loading:e,updateSubscription:y,jsonInput:c,setJsonInput:u,createSubscriptionsFromJson:x,fetchSubscriptions:m,getAllMoneyFlow:T,moneyflow:h,updateMoneyflow:C,deleteMoneyflow:E,getAllTransactions:S,transactions:d,user:r},children:(r==null?void 0:r.role)==="ADMIN"?t:g.jsx(v0,{to:"/"})})},Doe=["type","price","devices","downloads","description"],L1=["id"],Moe=({subscription:t,onEdit:e,onDelete:n,isEditing:r,editedSubscription:i,onInputChange:s,onUpdate:o,onCancel:a,typess:l})=>{const{id:c}=t;return g.jsxs(x1,{children:[Object.keys(t).map(u=>!L1.includes(u)&&g.jsx(v1,{children:r&&Doe.includes(u)?u==="type"?g.jsx(Rr,{name:u,value:i[u],onChange:s,placeholder:`Select ${u.charAt(0).toUpperCase()+u.slice(1)}`,children:l.map(d=>g.jsx("option",{value:d,children:d},d))}):g.jsx(Ct,{name:u,type:typeof t[u]=="number"?"number":"text",value:i[u],onChange:s,placeholder:u.charAt(0).toUpperCase()+u.slice(1)}):t[u]},u)),g.jsx(v1,{children:r?g.jsxs(g.Fragment,{children:[g.jsx(Xe,{icon:g.jsx(Qse,{}),colorScheme:"teal",onClick:o,"aria-label":"Save changes",mr:2,isRound:!0}),g.jsx(Xe,{icon:g.jsx(Xse,{}),colorScheme:"red",onClick:a,"aria-label":"Cancel edit",isRound:!0})]}):g.jsxs(g.Fragment,{children:[g.jsx(Xe,{icon:g.jsx(Hse,{}),colorScheme:"teal",onClick:()=>e(t),"aria-label":"Edit subscription",mr:2,isRound:!0}),g.jsx(he,{onClick:()=>n(c),colorScheme:"red","aria-label":"Delete subscription",children:"Delete"})]})})]},c)},Ooe=()=>{const{subscriptions:t,removeSubscription:e,updateSubscription:n,loading:r,fetchSubscriptions:i}=ay(),[s,o]=w.useState(null),[a,l]=w.useState({}),u=t?[...new Set(t.map(y=>y.type))]:[],d=async y=>{try{await e(y),i();const v=document.cookie;console.log(v)}catch(v){console.error("Failed to delete subscription:",v)}},f=y=>{o(y.id),l(y)},h=y=>{const{name:v,value:b}=y.target;l(x=>({...x,[v]:b}))},p=async()=>{const y=Object.entries(a).filter(([v,b])=>b!==t.find(x=>x.id===a.id)[v]).map(async([v,b])=>{["devices","downloads","price","duration"].includes(v)&&typeof b=="string"&&(b=parseInt(b,10)),await n(a.id,v,b)});await Promise.all(y),o(null),i()},m=()=>{o(null),l({})};return g.jsxs(se,{mt:8,width:{base:"100%",md:"90%",lg:"80%"},mx:"auto",overflowX:"auto",children:[g.jsx("h2",{children:"Existing Subscriptions"}),r?g.jsx(Mn,{size:"xl"}):g.jsxs(t3,{variant:"simple",mt:4,size:"sm",width:"100%",children:[g.jsx(xre,{children:g.jsxs(x1,{children:[t&&t.length>0?Object.keys(t[0]).map(y=>!L1.includes(y)&&g.jsx(Hv,{whiteSpace:"nowrap",children:y.charAt(0).toUpperCase()+y.slice(1)},y)):g.jsx(Hv,{colSpan:"100%",children:"No Data"}),g.jsx(Hv,{children:"Actions"})]})}),g.jsx(vre,{children:t&&t.length>0?t.map(y=>g.jsx(Moe,{typess:u,subscription:y,onEdit:f,onDelete:d,isEditing:s===y.id,editedSubscription:a,onInputChange:h,onUpdate:p,onCancel:m},y.id)):g.jsx(x1,{children:g.jsx(v1,{colSpan:Object.keys(L1).length+2,children:"No subscriptions available."})})})]})]})},Foe=()=>{const{jsonInput:t,setJsonInput:e,createSubscriptionsFromJson:n}=ay(),r=s=>e(s.target.value),i=async()=>{await n()};return g.jsx(se,{mt:8,width:{base:"100%",md:"80%",lg:"60%"},mx:"auto",children:g.jsxs(pi,{children:[g.jsx(mi,{children:"JSON Input for Subscriptions"}),g.jsx(xT,{value:t,onChange:r,placeholder:"Enter an array of subscription objects in JSON format",resize:"vertical"}),g.jsx(he,{onClick:i,colorScheme:"teal",mt:2,width:"full",loadingText:"Creating...",children:"Create Subscriptions from JSON"})]})})},joe=({id:t,onClose:e})=>{var D,P,M,j;const[n,r]=w.useState(null),[i,s]=w.useState(!0),[o,a]=w.useState(0),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,h]=w.useState(""),[p,m]=w.useState(""),{api:y,currency:v}=It(),b=ue("gray.100","gray.700"),x=ue("black","white"),S=async()=>{var F,O;s(!0);try{const B=localStorage.getItem("accessToken"),I=await y.get("/api/user/profile",{headers:{Authorization:`Bearer ${B}`},params:{targetUserId:t}});r(I.data),h(((F=I.data.StreamingAccess)==null?void 0:F.username)||""),m(((O=I.data.StreamingAccess)==null?void 0:O.password)||"")}catch(B){console.error("Error fetching user:",B)}finally{s(!1)}},T=async()=>{try{await k("StreamingAccess",{username:f,password:p}),r(F=>({...F,StreamingAccess:{username:f,password:p}}))}catch(F){console.error("Error updating streaming access:",F)}},C=async()=>{if(!o||o<=0)return;s(!0);const F=localStorage.getItem("accessToken");try{await y.post("/api/transaction/admindeposit",{userId:t,amount:o},{headers:{Authorization:`Bearer ${F}`}}),r(O=>({...O,balance:O.balance+parseFloat(o)})),a(0)}catch(O){console.error("Error creating deposit transaction:",O)}finally{s(!1)}},E=async F=>{s(!0);const O=localStorage.getItem("accessToken");try{await y.post("/api/transaction/reverse",{targetUserId:t,transactionId:F},{headers:{Authorization:`Bearer ${O}`}}),r(B=>({...B,transactions:B.transactions.map(I=>I.id===F?{...I,reversed:!0}:I)}))}catch(B){console.error("Error reversing transaction:",B)}finally{s(!1)}},k=async(F,O)=>{try{const B=localStorage.getItem("accessToken");await y.put("/api/user/profile/updateField",{targetUserId:t,fieldName:F,fieldValue:O},{headers:{Authorization:`Bearer ${B}`}}),r(I=>I&&{...I,[F]:O})}catch(B){console.error(`Error updating ${F}:`,B)}},A=async F=>{const O=!n[F];r(B=>({...B,[F]:O})),await k(F,O)},R=F=>F.reversed?"Returned":F.isApproved?"Approved":F.isPending?"Pending":F.isCanceled?"Canceled":"Unknown",L=F=>F.reversed?"purple.300":F.isApproved?"green.300":F.isPending?"yellow.300":F.isCanceled?"pink.300":"gray.200";return w.useEffect(()=>{S()},[t]),i||!n?g.jsx(H,{color:x,children:"Loading user details..."}):g.jsx(se,{borderWidth:"1px",borderRadius:"md",p:4,bg:b,mt:4,children:g.jsxs(Ue,{align:"start",spacing:3,color:x,children:[g.jsx(H,{fontWeight:"bold",children:"Name:"}),g.jsx(H,{children:n.name||"N/A"}),g.jsx(H,{fontWeight:"bold",children:"Email:"}),g.jsx(H,{children:n.email||"N/A"}),g.jsx(H,{fontWeight:"bold",children:"Phone:"}),g.jsx(H,{children:n.phone||"N/A"}),g.jsx(H,{fontWeight:"bold",children:"Balance:"}),g.jsxs(Ei,{colorScheme:"blue",children:[v,n.balance]}),g.jsx(H,{fontWeight:"bold",children:"Deposit Amount:"}),g.jsx(Ct,{type:"number",value:o,onChange:F=>a(F.target.value),placeholder:"Enter amount",mb:2}),g.jsx(he,{onClick:C,colorScheme:"teal",children:"Deposit"}),g.jsx(H,{fontWeight:"bold",children:"Streaming Access:"}),g.jsxs(H,{children:["Username: ",((D=n.StreamingAccess)==null?void 0:D.username)||"N/A"]}),g.jsxs(H,{children:["Password: ",((P=n.StreamingAccess)==null?void 0:P.password)||"N/A"]}),g.jsxs(ht,{children:[g.jsx(H,{fontWeight:"bold",children:"Is Active:"}),g.jsx(uu,{isChecked:n.isactive,onChange:()=>A("isactive")})]}),g.jsxs(ht,{children:[g.jsx(H,{fontWeight:"bold",children:"Is Banned:"}),g.jsx(uu,{isChecked:n.isbanned,onChange:()=>A("isbanned")})]}),g.jsx(H,{fontWeight:"bold",children:"Streaming Access:"}),g.jsx(H,{children:"Username:"}),g.jsx(Ct,{value:f,onChange:F=>h(F.target.value),placeholder:"Enter new username"}),g.jsx(H,{children:"Password:"}),g.jsx(Ct,{value:p,onChange:F=>m(F.target.value),placeholder:"Enter new password"}),g.jsx(he,{onClick:T,colorScheme:"blue",children:"Update Streaming Access"}),n.transactions&&g.jsxs(g.Fragment,{children:[" ",g.jsxs(ht,{children:[g.jsx(H,{fontWeight:"bold",children:"Transactions:"}),g.jsx(he,{size:"xs",onClick:()=>c(!l),colorScheme:"blue",children:l?"Hide":"Show"})]}),g.jsx(iu,{in:l,children:g.jsx(Ue,{spacing:1,align:"start",children:((M=n.transactions)==null?void 0:M.map(F=>(F.transactionType==="ABON"||F.transactionType==="TELE")&&g.jsx(se,{bg:L(F),p:2,borderRadius:"md",children:g.jsxs(ht,{justify:"space-between",children:[g.jsxs(H,{children:[F.transactionType,": ",v,F.amount]}),g.jsx(Ei,{children:R(F)}),!F.reversed&&g.jsx(he,{size:"xs",onClick:()=>E(F.id),colorScheme:"red",children:"Reverse"})]})},F.id)))||g.jsx(H,{children:"N/A"})})})]}),n.downloads&&g.jsxs(g.Fragment,{children:[g.jsxs(ht,{children:[g.jsx(H,{fontWeight:"bold",children:"Downloads:"}),g.jsx(he,{size:"xs",onClick:()=>d(!u),colorScheme:"blue",children:u?"Hide":"Show"})]}),g.jsx(iu,{in:u,children:g.jsx(Ue,{spacing:1,align:"start",children:((j=n.downloads)==null?void 0:j.map(F=>g.jsx(H,{children:F.filename},F.id)))||g.jsx(H,{children:"N/A"})})})]}),g.jsx(he,{onClick:e,children:"Close"})]})})},Noe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState(null),[o,a]=w.useState(""),{api:l}=It(),c=ue("white","black"),u=ue("teal","teal");w.useEffect(()=>{d()},[]);const d=async()=>{r(!0);try{const p=localStorage.getItem("accessToken"),m=await l.get("/api/user/users",{headers:{Authorization:`Bearer ${p}`}});e(m.data)}catch(p){console.error("Error fetching users:",p)}finally{r(!1)}},f=t.filter(p=>{var m,y,v;return((m=p.name)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((y=p.email)==null?void 0:y.toLowerCase().includes(o.toLowerCase()))||((v=p.phone)==null?void 0:v.toLowerCase().includes(o.toLowerCase()))}),h=p=>{s((i==null?void 0:i.id)===p.id?null:p)};return g.jsxs(se,{mx:"auto",p:0,m:0,bg:c,borderRadius:"md",boxShadow:"lg",children:[g.jsx(ht,{justifyContent:"space-between",mb:6,children:g.jsx(on,{as:"h2",size:"lg",children:"User Management"})}),g.jsxs(ht,{mb:4,spacing:3,children:[g.jsx(Ct,{placeholder:"Search by name, email, or phone",value:o,onChange:p=>a(p.target.value),size:"md",variant:"filled"}),g.jsx(Xe,{icon:g.jsx(iie,{}),colorScheme:u})]}),n?g.jsx(H,{children:"Loading users..."}):f.length>0?g.jsx($f,{columns:{base:1,md:2,lg:3},spacing:2,children:f.map(p=>g.jsxs(se,{borderWidth:"1px",borderRadius:"lg",p:4,bg:c,boxShadow:"lg",width:"auto",position:"relative",children:[g.jsxs(Ue,{align:"start",spacing:2,children:[g.jsxs(H,{fontWeight:"bold",children:["Name:",p.name||"N/A"]}),g.jsxs(H,{fontWeight:"bold",children:["Email:",p.email||"N/A"]}),g.jsx(Xe,{icon:(i==null?void 0:i.id)===p.id?g.jsx(Xre,{}):g.jsx(qre,{}),size:"sm",colorScheme:u,onClick:()=>h(p)})]}),(i==null?void 0:i.id)===p.id&&g.jsx(se,{position:"absolute",top:"100%",left:"0",width:"100%",bg:c,p:4,borderWidth:"1px",borderRadius:"md",zIndex:"10",boxShadow:"lg",children:g.jsx(joe,{id:p.id,onClose:()=>s(null)})})]},p.id))}):g.jsx(H,{children:"No users found."})]})};function Q3(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function Boe(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4-6-3.27v6.53L16 16z"},child:[]}]})(t)}function $oe(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ah(t){return t+.5|0}const zo=(t,e,n)=>Math.max(Math.min(t,n),e);function Cd(t){return zo(Ah(t*2.55),0,255)}function Zo(t){return zo(Ah(t*255),0,255)}function Gs(t){return zo(Ah(t/2.55)/100,0,1)}function FA(t){return zo(Ah(t*100),0,100)}const ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},I1=[..."0123456789ABCDEF"],zoe=t=>I1[t&15],Uoe=t=>I1[(t&240)>>4]+I1[t&15],mp=t=>(t&240)>>4===(t&15),Voe=t=>mp(t.r)&&mp(t.g)&&mp(t.b)&&mp(t.a);function Hoe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ai[t[1]]*17,g:255&ai[t[2]]*17,b:255&ai[t[3]]*17,a:e===5?ai[t[4]]*17:255}:(e===7||e===9)&&(n={r:ai[t[1]]<<4|ai[t[2]],g:ai[t[3]]<<4|ai[t[4]],b:ai[t[5]]<<4|ai[t[6]],a:e===9?ai[t[7]]<<4|ai[t[8]]:255})),n}const Woe=(t,e)=>t<255?e(t):"";function Goe(t){var e=Voe(t)?zoe:Uoe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Woe(t.a,e):void 0}const Koe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z3(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Yoe(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function qoe(t,e,n){const r=Z3(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Xoe(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function AT(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Xoe(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function RT(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Zo)}function _T(t,e,n){return RT(Z3,t,e,n)}function Qoe(t,e,n){return RT(qoe,t,e,n)}function Zoe(t,e,n){return RT(Yoe,t,e,n)}function J3(t){return(t%360+360)%360}function Joe(t){const e=Koe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Cd(+e[5]):Zo(+e[5]));const i=J3(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Qoe(i,s,o):e[1]==="hsv"?r=Zoe(i,s,o):r=_T(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function eae(t,e){var n=AT(t);n[0]=J3(n[0]+e),n=_T(n),t.r=n[0],t.g=n[1],t.b=n[2]}function tae(t){if(!t)return;const e=AT(t),n=e[0],r=FA(e[1]),i=FA(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Gs(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const jA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},NA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nae(){const t={},e=Object.keys(NA),n=Object.keys(jA);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,jA[s]);s=parseInt(NA[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let gp;function rae(t){gp||(gp=nae(),gp.transparent=[0,0,0,0]);const e=gp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const iae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sae(t){const e=iae.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Cd(o):zo(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Cd(r):zo(r,0,255)),i=255&(e[4]?Cd(i):zo(i,0,255)),s=255&(e[6]?Cd(s):zo(s,0,255)),{r,g:i,b:s,a:n}}}function oae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Gs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Jv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Yl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function aae(t,e,n){const r=Yl(Gs(t.r)),i=Yl(Gs(t.g)),s=Yl(Gs(t.b));return{r:Zo(Jv(r+n*(Yl(Gs(e.r))-r))),g:Zo(Jv(i+n*(Yl(Gs(e.g))-i))),b:Zo(Jv(s+n*(Yl(Gs(e.b))-s))),a:t.a+n*(e.a-t.a)}}function yp(t,e,n){if(t){let r=AT(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=_T(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function eO(t,e){return t&&Object.assign(e||{},t)}function BA(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Zo(t[3]))):(e=eO(t,{r:0,g:0,b:0,a:1}),e.a=Zo(e.a)),e}function lae(t){return t.charAt(0)==="r"?sae(t):Joe(t)}class Kf{constructor(e){if(e instanceof Kf)return e;const n=typeof e;let r;n==="object"?r=BA(e):n==="string"&&(r=Hoe(e)||rae(e)||lae(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=eO(this._rgb);return e&&(e.a=Gs(e.a)),e}set rgb(e){this._rgb=BA(e)}rgbString(){return this._valid?oae(this._rgb):void 0}hexString(){return this._valid?Goe(this._rgb):void 0}hslString(){return this._valid?tae(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=aae(this._rgb,e._rgb,n)),this}clone(){return new Kf(this.rgb)}alpha(e){return this._rgb.a=Zo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ah(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yp(this._rgb,2,e),this}darken(e){return yp(this._rgb,2,-e),this}saturate(e){return yp(this._rgb,1,e),this}desaturate(e){return yp(this._rgb,1,-e),this}rotate(e){return eae(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function js(){}const cae=(()=>{let t=0;return()=>t++})();function nn(t){return t===null||typeof t>"u"}function In(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ut(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ri(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ns(t,e){return Ri(t)?t:e}function tt(t,e){return typeof t>"u"?e:t}const uae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ot(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function mt(t,e,n,r){let i,s,o;if(In(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(ut(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Ig(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Pg(t){if(In(t))return t.map(Pg);if(ut(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Pg(t[n[i]]);return e}return t}function tO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dae(t,e,n,r){if(!tO(t))return;const i=e[t],s=n[t];ut(i)&&ut(s)?Yf(i,s,r):e[t]=Pg(s)}function Yf(t,e,n){const r=In(e)?e:[e],i=r.length;if(!ut(t))return t;n=n||{};const s=n.merger||dae;let o;for(let a=0;a<i;++a){if(o=r[a],!ut(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Jd(t,e){return Yf(t,e,{merger:fae})}function fae(t,e,n){if(!tO(t))return;const r=e[t],i=n[t];ut(r)&&ut(i)?Jd(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Pg(i))}const $A={"":t=>t,x:t=>t.x,y:t=>t.y};function hae(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function pae(t){const e=hae(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Dg(t,e){return($A[e]||($A[e]=pae(e)))(t)}function LT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Mg=t=>typeof t<"u",ia=t=>typeof t=="function",zA=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mae(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Dn=Math.PI,Ts=2*Dn,gae=Ts+Dn,Og=Number.POSITIVE_INFINITY,yae=Dn/180,Hi=Dn/2,Ea=Dn/4,UA=Dn*2/3,P1=Math.log10,fu=Math.sign;function ef(t,e,n){return Math.abs(t-e)<n}function VA(t){const e=Math.round(t);t=ef(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(P1(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function vae(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function qf(t){return!isNaN(parseFloat(t))&&isFinite(t)}function xae(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function bae(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ya(t){return t*(Dn/180)}function Sae(t){return t*(180/Dn)}function HA(t){if(!Ri(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function wae(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Dn&&(s+=Ts),{angle:s,distance:i}}function D1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Tae(t,e){return(t-e+gae)%Ts-Dn}function _o(t){return(t%Ts+Ts)%Ts}function nO(t,e,n,r){const i=_o(t),s=_o(e),o=_o(n),a=_o(s-i),l=_o(o-i),c=_o(i-s),u=_o(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function vi(t,e,n){return Math.max(e,Math.min(n,t))}function Eae(t){return vi(t,-32768,32767)}function kd(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function IT(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const qa=(t,e,n,r)=>IT(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Cae=(t,e,n)=>IT(t,n,r=>t[r][e]>=n);function kae(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const rO=["push","pop","shift","splice","unshift"];function Aae(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rO.forEach(n=>{const r="_onData"+LT(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function WA(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(rO.forEach(s=>{delete t[s]}),delete t._chartjs)}function Rae(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const iO=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function sO(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,iO.call(window,()=>{r=!1,t.apply(e,n)}))}}function _ae(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const PT=t=>t==="start"?"left":t==="end"?"right":"center",Qn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Lae=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Iae(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=vi(Math.min(qa(a,l,c).lo,n?r:qa(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=vi(Math.max(qa(a,o.axis,u,!0).hi+1,n?0:qa(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function Pae(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const vp=t=>t===0||t===1,GA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ts/n)),KA=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ts/n)+1,tf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Hi)+1,easeOutSine:t=>Math.sin(t*Hi),easeInOutSine:t=>-.5*(Math.cos(Dn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vp(t)?t:GA(t,.075,.3),easeOutElastic:t=>vp(t)?t:KA(t,.075,.3),easeInOutElastic(t){return vp(t)?t:t<.5?.5*GA(t*2,.1125,.45):.5+.5*KA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tf.easeInBounce(t*2)*.5:tf.easeOutBounce(t*2-1)*.5+.5};function DT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function YA(t){return DT(t)?t:new Kf(t)}function ex(t){return DT(t)?t:new Kf(t).saturate(.5).darken(.1).hexString()}const Dae=["x","y","borderWidth","radius","tension"],Mae=["color","borderColor","backgroundColor"];function Oae(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Mae},numbers:{type:"number",properties:Dae}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Fae(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qA=new Map;function jae(t,e){e=e||{};const n=t+JSON.stringify(e);let r=qA.get(n);return r||(r=new Intl.NumberFormat(t,e),qA.set(n,r)),r}function oO(t,e,n){return jae(e,n).format(t)}const aO={values(t){return In(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=Nae(t,n)}const o=P1(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),oO(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(P1(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?aO.numeric.call(this,t,e,n):""}};function Nae(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lO={formatters:aO};function Bae(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Sl=Object.create(null),M1=Object.create(null);function nf(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function tx(t,e,n){return typeof e=="string"?Yf(nf(t,e),n):Yf(nf(t,""),e)}class $ae{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>ex(i.backgroundColor),this.hoverBorderColor=(r,i)=>ex(i.borderColor),this.hoverColor=(r,i)=>ex(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return tx(this,e,n)}get(e){return nf(this,e)}describe(e,n){return tx(M1,e,n)}override(e,n){return tx(Sl,e,n)}route(e,n,r,i){const s=nf(this,e),o=nf(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ut(l)?Object.assign({},c,l):tt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var un=new $ae({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Oae,Fae,Bae]);function zae(t){return!t||nn(t.size)||nn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function XA(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ca(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function QA(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function O1(t,e,n,r){cO(t,e,n,r,null)}function cO(t,e,n,r,i){let s,o,a,l,c,u,d,f;const h=e.pointStyle,p=e.rotation,m=e.radius;let y=(p||0)*yae;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,r,i/2,m,0,0,Ts):t.arc(n,r,m,0,Ts),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*m),y+=UA,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*m),y+=UA,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(y+Ea)*l,d=Math.cos(y+Ea)*(i?i/2-c:l),a=Math.sin(y+Ea)*l,f=Math.sin(y+Ea)*(i?i/2-c:l),t.arc(n-d,r-a,c,y-Dn,y-Hi),t.arc(n+f,r-o,c,y-Hi,y),t.arc(n+d,r+a,c,y,y+Hi),t.arc(n-f,r+o,c,y+Hi,y+Dn),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}y+=Ea;case"rectRot":d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":y+=Ea;case"cross":d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),y+=Ea,d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(y)*m,a=Math.sin(y)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(i?i/2:m),r+Math.sin(y)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Xf(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function MT(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function OT(t){t.restore()}function Uae(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Vae(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Hae(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),nn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Wae(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Gae(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Qf(t,e,n,r,i,s={}){const o=In(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Hae(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Gae(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),nn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),Wae(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function F1(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Dn,Dn,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Dn,Hi,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Hi,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Hi,!0),t.lineTo(n+o.topLeft,r)}const Kae=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yae=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qae(t,e){const n=(""+t).match(Kae);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Xae=t=>+t||0;function uO(t,e){const n={},r=ut(e),i=r?Object.keys(e):e,s=ut(t)?r?o=>tt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Xae(s(o));return n}function Qae(t){return uO(t,{top:"y",right:"x",bottom:"y",left:"x"})}function rf(t){return uO(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _i(t){const e=Qae(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function er(t,e){t=t||{},e=e||un.font;let n=tt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=tt(t.style,e.style);r&&!(""+r).match(Yae)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:tt(t.family,e.family),lineHeight:qae(tt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:tt(t.weight,e.weight),string:""};return i.string=zae(i),i}function xp(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function Zae(t,e,n){const{min:r,max:i}=t,s=uae(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ll(t,e){return Object.assign(Object.create(t),e)}function FT(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=pO("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>FT([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return fO(a,l,()=>ole(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return JA(a).includes(l)},ownKeys(a){return JA(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function hu(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:dO(t,r),setContext:s=>hu(t,s,n,r),override:s=>hu(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return fO(s,o,()=>ele(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function dO(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ia(n)?n:()=>n,isIndexable:ia(r)?r:()=>r}}const Jae=(t,e)=>t?t+LT(e):e,jT=(t,e)=>ut(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function fO(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function ele(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return ia(a)&&o.isScriptable(e)&&(a=tle(e,a,t,n)),In(a)&&a.length&&(a=nle(e,a,t,o.isIndexable)),jT(e,a)&&(a=hu(a,i,s&&s[e],o)),a}function tle(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),jT(t,l)&&(l=NT(i._scopes,i,t,l)),l}function nle(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(ut(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=NT(c,i,t,u);e.push(hu(d,s,o&&o[t],a))}}return e}function hO(t,e,n){return ia(t)?t(e,n):t}const rle=(t,e)=>t===!0?e:typeof t=="string"?Dg(e,t):void 0;function ile(t,e,n,r,i){for(const s of e){const o=rle(n,s);if(o){t.add(o);const a=hO(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function NT(t,e,n,r){const i=e._rootScopes,s=hO(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=ZA(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=ZA(a,o,s,l,r),l===null)?!1:FT(Array.from(a),[""],i,s,()=>sle(e,n,r))}function ZA(t,e,n,r,i){for(;n;)n=ile(t,e,n,r,i);return n}function sle(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return In(i)&&ut(n)?n:i||{}}function ole(t,e,n,r){let i;for(const s of e)if(i=pO(Jae(s,t),n),typeof i<"u")return jT(t,i)?NT(n,r,t,i):i}function pO(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function JA(t){let e=t._keys;return e||(e=t._keys=ale(t._scopes)),e}function ale(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const lle=Number.EPSILON||1e-14,pu=(t,e)=>e<t.length&&!t[e].skip&&t[e],mO=t=>t==="x"?"y":"x";function cle(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=D1(s,i),l=D1(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function ule(t,e,n){const r=t.length;let i,s,o,a,l,c=pu(t,0);for(let u=0;u<r-1;++u)if(l=c,c=pu(t,u+1),!(!l||!c)){if(ef(e[u],0,lle)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function dle(t,e,n="x"){const r=mO(n),i=t.length;let s,o,a,l=pu(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=pu(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}function fle(t,e="x"){const n=mO(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=pu(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=pu(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?fu(i[o-1])!==fu(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}ule(t,i,s),dle(t,s,e)}function bp(t,e,n){return Math.max(Math.min(t,n),e)}function hle(t,e){let n,r,i,s,o,a=Xf(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Xf(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=bp(i.cp1x,e.left,e.right),i.cp1y=bp(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=bp(i.cp2x,e.left,e.right),i.cp2y=bp(i.cp2y,e.top,e.bottom)))}function ple(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")fle(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=cle(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&hle(t,n)}function BT(){return typeof window<"u"&&typeof document<"u"}function $T(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fg(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const ly=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function mle(t,e){return ly(t).getPropertyValue(e)}const gle=["top","right","bottom","left"];function al(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=gle[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const yle=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function vle(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(yle(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Da(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=ly(n),s=i.boxSizing==="border-box",o=al(i,"padding"),a=al(i,"border","width"),{x:l,y:c,box:u}=vle(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:p}=e;return s&&(h-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/h*n.width/r),y:Math.round((c-f)/p*n.height/r)}}function xle(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&$T(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=ly(s),l=al(a,"border","width"),c=al(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Fg(a.maxWidth,s,"clientWidth"),i=Fg(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Og,maxHeight:i||Og}}const Sp=t=>Math.round(t*10)/10;function ble(t,e,n,r){const i=ly(t),s=al(i,"margin"),o=Fg(i.maxWidth,t,"clientWidth")||Og,a=Fg(i.maxHeight,t,"clientHeight")||Og,l=xle(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=al(i,"border","width"),h=al(i,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Sp(Math.min(c,o,l.maxWidth)),u=Sp(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Sp(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Sp(Math.floor(u*r))),{width:c,height:u}}function eR(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Sle=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};BT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function tR(t,e){const n=mle(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ma(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function wle(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Tle(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Ma(t,i,n),a=Ma(i,s,n),l=Ma(s,e,n),c=Ma(o,a,n),u=Ma(a,l,n);return Ma(c,u,n)}const Ele=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Cle=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function zc(t,e,n){return t?Ele(e,n):Cle()}function gO(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function yO(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vO(t){return t==="angle"?{between:nO,compare:Tae,normalize:_o}:{between:kd,compare:(e,n)=>e-n,normalize:e=>e}}function nR({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function kle(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=vO(r),l=e.length;let{start:c,end:u,loop:d}=t,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(e[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Ale(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=vO(r),{start:u,end:d,loop:f,style:h}=kle(t,e,n),p=[];let m=!1,y=null,v,b,x;const S=()=>l(i,x,v)&&a(i,x)!==0,T=()=>a(s,v)===0||l(s,x,v),C=()=>m||S(),E=()=>!m||T();for(let k=u,A=u;k<=d;++k)b=e[k%o],!b.skip&&(v=c(b[r]),v!==x&&(m=l(v,i,s),y===null&&C()&&(y=a(v,i)===0?k:A),y!==null&&E()&&(p.push(nR({start:y,end:k,loop:f,count:o,style:h})),y=null),A=k,x=v));return y!==null&&p.push(nR({start:y,end:d,loop:f,count:o,style:h})),p}function Rle(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=Ale(r[i],t.points,e);s.length&&n.push(...s)}return n}function _le(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Lle(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function Ile(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=_le(n,i,s,r);if(r===!0)return rR(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return rR(t,Lle(n,o,l,c),n,e)}function rR(t,e,n,r){return!r||!r.setContext||!n?e:Ple(t,e,n,r)}function Ple(t,e,n,r){const i=t._chart.getContext(),s=iR(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function h(p,m,y,v){const b=a?-1:1;if(p!==m){for(p+=l;n[p%l].skip;)p-=b;for(;n[m%l].skip;)m+=b;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:y,style:v}),u=v,d=m%l)}}for(const p of e){d=a?d:p.start;let m=n[d%l],y;for(f=d+1;f<=p.end;f++){const v=n[f%l];y=iR(r.setContext(Ll(i,{type:"segment",p0:m,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Dle(y,u)&&h(d,f-1,p.loop,u),m=v,u=y}d<f-1&&h(d,f-1,p.loop,u)}return c}function iR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Dle(t,e){if(!e)return!1;const n=[],r=function(i,s){return DT(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Mle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=iO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $s=new Mle;const sR="transparent",Ole={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=YA(t||sR),i=r.valid&&YA(e||sR);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Fle{constructor(e,n,r,i){const s=n[r];i=xp([e.to,i,s,e.from]);const o=xp([e.from,s,i]);this._active=!0,this._fn=e.fn||Ole[e.type||typeof o],this._easing=tf[e.easing]||tf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=xp([e.to,n,i,e.from]),this._from=xp([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class xO{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ut(e))return;const n=Object.keys(un.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!ut(s))return;const o={};for(const a of n)o[a]=s[a];(In(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=Nle(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&jle(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new Fle(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return $s.add(this._chart,r),!0}}function jle(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Nle(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function oR(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Ble(t,e,n){if(n===!1)return!1;const r=oR(t,n),i=oR(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function $le(t){let e,n,r,i;return ut(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function bO(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function aR(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Ri(c)&&(s||e===0||fu(e)===fu(c))&&(e+=c)}return!u&&!r.all?0:e}function zle(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function nx(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Ule(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Vle(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Hle(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function lR(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function cR(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Ule(s,o,r),d=e.length;let f;for(let h=0;h<d;++h){const p=e[h],{[l]:m,[c]:y}=p,v=p._stacks||(p._stacks={});f=v[c]=Hle(i,u,m),f[a]=y,f._top=lR(f,o,!0,r.type),f._bottom=lR(f,o,!1,r.type);const b=f._visualValues||(f._visualValues={});b[a]=y}}function rx(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Wle(t,e){return Ll(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Gle(t,e,n){return Ll(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function sd(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const ix=t=>t==="reset"||t==="none",uR=(t,e)=>e?t:Object.assign({},t),Kle=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:bO(n,!0),values:null};class sf{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&sd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,h,p)=>d==="x"?f:d==="r"?p:h,s=n.xAxisID=tt(r.xAxisID,rx(e,"x")),o=n.yAxisID=tt(r.yAxisID,rx(e,"y")),a=n.rAxisID=tt(r.rAxisID,rx(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&WA(this._data,this),e._stacked&&sd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ut(n)){const i=this._cachedMeta;this._data=zle(n,i)}else if(r!==n){if(r){WA(r,this);const i=this._cachedMeta;sd(i),i._parsed=[]}n&&Object.isExtensible(n)&&Aae(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=nx(n.vScale,n),n.stack!==r.stack&&(i=!0,sd(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(cR(this,n._parsed),n._stacked=nx(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{In(i[e])?f=this.parseArrayData(r,i,e,n):ut(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);r._sorted=l}o&&cR(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let f,h,p;for(f=0,h=i;f<h;++f)p=f+r,d[f]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,h;for(u=0,d=i;u<d;++u)f=u+r,h=n[f],c[u]={x:s.parse(Dg(h,a),f),y:o.parse(Dg(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:bO(i,!0),values:n._stacks[e.axis]._visualValues};return aR(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=aR(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Kle(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Vle(a);let f,h;function p(){h=i[f];const m=h[a.axis];return!Ri(h[e.axis])||u>m||d<m}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,h,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Ri(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=$le(tt(this.options.clip,Ble(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Gle(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Wle(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Mg(r);if(a)return uR(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(un.elements[e]),p=()=>this.getContext(r,i,n),m=c.resolveNamedOptions(f,h,p,d);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(uR(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new xO(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ix(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){ix(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!ix(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&sd(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ze(sf,"defaults",{}),ze(sf,"datasetElementType",null),ze(sf,"dataElementType",null);class Tm extends sf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Iae(n,i,o);this._drawStart=a,this._drawCount=l,Pae(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,h=a.axis,{spanGaps:p,segment:m}=this.options,y=qf(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",b=n+r,x=e.length;let S=n>0&&this.getParsed(n-1);for(let T=0;T<x;++T){const C=e[T],E=v?C:{};if(T<n||T>=b){E.skip=!0;continue}const k=this.getParsed(T),A=nn(k[h]),R=E[f]=o.getPixelForValue(k[f],T),L=E[h]=s||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[h],T);E.skip=isNaN(R)||isNaN(L)||A,E.stop=T>0&&Math.abs(k[f]-S[f])>y,m&&(E.parsed=k,E.raw=c.data[T]),d&&(E.options=u||this.resolveDataElementOptions(T,C.active?"active":i)),v||this.updateElement(C,T,E,i),S=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ze(Tm,"id","line"),ze(Tm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ze(Tm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ka(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zT{constructor(e){ze(this,"options");this.options=e||{}}static override(e){Object.assign(zT.prototype,e)}init(){}formats(){return ka()}parse(){return ka()}format(){return ka()}add(){return ka()}diff(){return ka()}startOf(){return ka()}endOf(){return ka()}}var Yle={_date:zT};function qle(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?Cae:qa;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),f=l(s,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Rh(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=qle(s[a],e,o,i);for(let h=d;h<=f;++h){const p=u[h];p.skip||r(p,c,h)}}}function Xle(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function sx(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Rh(t,n,e,function(a,l,c){!i&&!Xf(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Qle(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=wae(o,{x:e.x,y:e.y});nO(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Rh(t,n,e,s),i}function Zle(t,e,n,r,i,s){let o=[];const a=Xle(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,i);if(r&&!h)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!h)return;const y=a(e,p);y<l?(o=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:f})}return Rh(t,n,e,c),o}function ox(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?Qle(t,e,n,i):Zle(t,e,n,r,i,s)}function dR(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Rh(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var Jle={evaluateInteractionItems:Rh,modes:{index(t,e,n,r){const i=Da(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?sx(t,i,s,r,o):ox(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Da(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?sx(t,i,s,r,o):ox(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Da(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return sx(t,i,s,r,o)},nearest(t,e,n,r){const i=Da(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return ox(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Da(e,t);return dR(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Da(e,t);return dR(t,i,"y",n.intersect,r)}}};const SO=["left","top","right","bottom"];function od(t,e){return t.filter(n=>n.pos===e)}function fR(t,e){return t.filter(n=>SO.indexOf(n.pos)===-1&&n.box.axis===e)}function ad(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function ece(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function tce(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!SO.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function nce(t,e){const n=tce(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function rce(t){const e=ece(t),n=ad(e.filter(c=>c.box.fullSize),!0),r=ad(od(e,"left"),!0),i=ad(od(e,"right")),s=ad(od(e,"top"),!0),o=ad(od(e,"bottom")),a=fR(e,"x"),l=fR(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:od(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function hR(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function wO(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ice(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!ut(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&wO(o,s.getPadding());const a=Math.max(0,e.outerWidth-hR(o,t,"left","right")),l=Math.max(0,e.outerHeight-hR(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function sce(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function oce(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Ad(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,oce(a.horizontal,e));const{same:d,other:f}=ice(e,n,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Ad(i,e,n,r)||u}function wp(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function pR(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Mg(c.start)&&(o=c.start),l.fullSize?wp(l,i.left,o,n.outerWidth-i.right-i.left,f):wp(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;Mg(c.start)&&(s=c.start),l.fullSize?wp(l,s,i.top,f,n.outerHeight-i.bottom-i.top):wp(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var xi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=_i(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=rce(t.boxes),l=a.vertical,c=a.horizontal;mt(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);wO(f,_i(r));const h=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),p=nce(l.concat(c),d);Ad(a.fullSize,h,d,p),Ad(l,h,d,p),Ad(c,h,d,p)&&Ad(l,h,d,p),sce(h),pR(a.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,pR(a.rightAndBottom,h,d,p),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},mt(a.chartArea,m=>{const y=m.box;Object.assign(y,t.chartArea),y.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class TO{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class ace extends TO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Em="$chartjs",lce={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mR=t=>t===null||t==="";function cce(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Em]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mR(i)){const s=tR(t,"width");s!==void 0&&(t.width=s)}if(mR(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=tR(t,"height");s!==void 0&&(t.height=s)}return t}const EO=Sle?{passive:!0}:!1;function uce(t,e,n){t&&t.addEventListener(e,n,EO)}function dce(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,EO)}function fce(t,e){const n=lce[t.type]||t.type,{x:r,y:i}=Da(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function jg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function hce(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||jg(a.addedNodes,r),o=o&&!jg(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function pce(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||jg(a.removedNodes,r),o=o&&!jg(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Zf=new Map;let gR=0;function CO(){const t=window.devicePixelRatio;t!==gR&&(gR=t,Zf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function mce(t,e){Zf.size||window.addEventListener("resize",CO),Zf.set(t,e)}function gce(t){Zf.delete(t),Zf.size||window.removeEventListener("resize",CO)}function yce(t,e,n){const r=t.canvas,i=r&&$T(r);if(!i)return;const s=sO((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),mce(t,s),o}function ax(t,e,n){n&&n.disconnect(),e==="resize"&&gce(t)}function vce(t,e,n){const r=t.canvas,i=sO(s=>{t.ctx!==null&&n(fce(s,t))},t);return uce(r,e,i),i}class xce extends TO{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(cce(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Em])return!1;const r=n[Em].initial;["height","width"].forEach(s=>{const o=r[s];nn(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Em],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:hce,detach:pce,resize:yce}[n]||vce;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:ax,detach:ax,resize:ax}[n]||dce)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return ble(e,n,r,i)}isAttached(e){const n=e&&$T(e);return!!(n&&n.isConnected)}}function bce(t){return!BT()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ace:xce}var $p;let Il=($p=class{constructor(){ze(this,"x");ze(this,"y");ze(this,"active",!1);ze(this,"options");ze(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return qf(this.x)&&qf(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},ze($p,"defaults",{}),ze($p,"defaultRoutes"),$p);function Sce(t,e){const n=t.options.ticks,r=wce(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Ece(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return Cce(e,c,s,o/i),c;const u=Tce(s,e,i);if(o>0){let d,f;const h=o>1?Math.round((l-a)/(o-1)):null;for(Tp(e,c,u,nn(h)?0:a-h,a),d=0,f=o-1;d<f;d++)Tp(e,c,u,s[d],s[d+1]);return Tp(e,c,u,l,nn(h)?e.length:l+h),c}return Tp(e,c,u),c}function wce(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Tce(t,e,n){const r=kce(t),i=e.length/n;if(!r)return Math.max(i,1);const s=vae(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function Ece(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Cce(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Tp(t,e,n,r,i){const s=tt(r,0),o=Math.min(tt(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function kce(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Ace=t=>t==="left"?"right":t==="right"?"left":t,yR=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,vR=(t,e)=>Math.min(e||t,t);function xR(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Rce(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function _ce(t,e){mt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ld(t){return t.drawTicks?t.tickLength:0}function bR(t,e){if(!t.display)return 0;const n=er(t.font,e),r=_i(t.padding);return(In(t.text)?t.text.length:1)*n.lineHeight+r.height}function Lce(t,e){return Ll(t,{scale:e,type:"scale"})}function Ice(t,e,n){return Ll(t,{tick:n,index:e,type:"tick"})}function Pce(t,e,n){let r=PT(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Ace(r)),r}function Dce(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,h,p;const m=o-i,y=a-s;if(t.isHorizontal()){if(h=Qn(r,s,a),ut(n)){const v=Object.keys(n)[0],b=n[v];p=u[v].getPixelForValue(b)+m-e}else n==="center"?p=(c.bottom+c.top)/2+m-e:p=yR(t,n,e);f=a-s}else{if(ut(n)){const v=Object.keys(n)[0],b=n[v];h=u[v].getPixelForValue(b)-y+e}else n==="center"?h=(c.left+c.right)/2-y+e:h=yR(t,n,e);p=Qn(r,o,i),d=n==="left"?-Hi:Hi}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}class Ou extends Il{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=ns(e,Number.POSITIVE_INFINITY),n=ns(n,Number.NEGATIVE_INFINITY),r=ns(r,Number.POSITIVE_INFINITY),i=ns(i,Number.NEGATIVE_INFINITY),{min:ns(e,r),max:ns(n,i),minDefined:Ri(e),maxDefined:Ri(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ns(n,ns(r,n)),max:ns(r,ns(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ot(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Zae(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?xR(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Sce(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ot(this.options.afterUpdate,[this])}beforeSetDimensions(){Ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ot(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ot(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ot(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=vR(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=vi(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:h/(r-1),d+6>a&&(a=h/(r-(e.offset?.5:1)),l=this.maxHeight-ld(e.grid)-n.padding-bR(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=Sae(Math.min(Math.asin(vi((u.highest.height+6)/a,-1,1)),Math.asin(vi(l/c,-1,1))-Math.asin(vi(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ot(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=bR(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ld(s)+l):(e.height=this.maxHeight,e.width=ld(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=r.padding*2,p=Ya(this.labelRotation),m=Math.cos(p),y=Math.sin(p);if(a){const v=r.mirror?0:y*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+v+h)}else{const v=r.mirror?0:m*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+v+h)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=i*e.width,h=r*n.height):(f=r*e.height,h=i*n.width):s==="start"?h=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ot(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)nn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=xR(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/vR(n,r));let c=0,u=0,d,f,h,p,m,y,v,b,x,S,T;for(d=0;d<n;d+=l){if(p=e[d].label,m=this._resolveTickFontOptions(d),i.font=y=m.string,v=s[y]=s[y]||{data:{},gc:[]},b=m.lineHeight,x=S=0,!nn(p)&&!In(p))x=XA(i,v.data,v.gc,x,p),S=b;else if(In(p))for(f=0,h=p.length;f<h;++f)T=p[f],!nn(T)&&!In(T)&&(x=XA(i,v.data,v.gc,x,T),S+=b);o.push(x),a.push(S),c=Math.max(x,c),u=Math.max(S,u)}_ce(s,n);const C=o.indexOf(c),E=a.indexOf(u),k=A=>({width:o[A]||0,height:a[A]||0});return{first:k(0),last:k(n-1),widest:k(C),highest:k(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Eae(this._alignToPixels?Ca(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Ice(this.getContext(),e,r))}return this.$context||(this.$context=Lce(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ya(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=ld(s),h=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,y=m/2,v=function(F){return Ca(r,F,m)};let b,x,S,T,C,E,k,A,R,L,D,P;if(o==="top")b=v(this.bottom),E=this.bottom-f,A=b-y,L=v(e.top)+y,P=e.bottom;else if(o==="bottom")b=v(this.top),L=e.top,P=v(e.bottom)-y,E=b+y,A=this.top+f;else if(o==="left")b=v(this.right),C=this.right-f,k=b-y,R=v(e.left)+y,D=e.right;else if(o==="right")b=v(this.left),R=e.left,D=v(e.right)-y,C=b+y,k=this.left+f;else if(n==="x"){if(o==="center")b=v((e.top+e.bottom)/2+.5);else if(ut(o)){const F=Object.keys(o)[0],O=o[F];b=v(this.chart.scales[F].getPixelForValue(O))}L=e.top,P=e.bottom,E=b+y,A=E+f}else if(n==="y"){if(o==="center")b=v((e.left+e.right)/2);else if(ut(o)){const F=Object.keys(o)[0],O=o[F];b=v(this.chart.scales[F].getPixelForValue(O))}C=b-y,k=C-f,R=e.left,D=e.right}const M=tt(i.ticks.maxTicksLimit,d),j=Math.max(1,Math.ceil(d/M));for(x=0;x<d;x+=j){const F=this.getContext(x),O=s.setContext(F),B=a.setContext(F),I=O.lineWidth,$=O.color,G=B.dash||[],Y=B.dashOffset,q=O.tickWidth,te=O.tickColor,ae=O.tickBorderDash||[],le=O.tickBorderDashOffset;S=Rce(this,x,l),S!==void 0&&(T=Ca(r,S,I),c?C=k=R=D=T:E=A=L=P=T,h.push({tx1:C,ty1:E,tx2:k,ty2:A,x1:R,y1:L,x2:D,y2:P,width:I,color:$,borderDash:G,borderDashOffset:Y,tickWidth:q,tickColor:te,tickBorderDash:ae,tickBorderDashOffset:le}))}return this._ticksLength=d,this._borderValue=b,h}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=ld(r.grid),h=f+u,p=d?-u:h,m=-Ya(this.labelRotation),y=[];let v,b,x,S,T,C,E,k,A,R,L,D,P="middle";if(i==="top")C=this.bottom-p,E=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+p,E=this._getXAxisLabelAlignment();else if(i==="left"){const j=this._getYAxisLabelAlignment(f);E=j.textAlign,T=j.x}else if(i==="right"){const j=this._getYAxisLabelAlignment(f);E=j.textAlign,T=j.x}else if(n==="x"){if(i==="center")C=(e.top+e.bottom)/2+h;else if(ut(i)){const j=Object.keys(i)[0],F=i[j];C=this.chart.scales[j].getPixelForValue(F)+h}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(e.left+e.right)/2-h;else if(ut(i)){const j=Object.keys(i)[0],F=i[j];T=this.chart.scales[j].getPixelForValue(F)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const M=this._getLabelSizes();for(v=0,b=a.length;v<b;++v){x=a[v],S=x.label;const j=s.setContext(this.getContext(v));k=this.getPixelForTick(v)+s.labelOffset,A=this._resolveTickFontOptions(v),R=A.lineHeight,L=In(S)?S.length:1;const F=L/2,O=j.color,B=j.textStrokeColor,I=j.textStrokeWidth;let $=E;o?(T=k,E==="inner"&&(v===b-1?$=this.options.reverse?"left":"right":v===0?$=this.options.reverse?"right":"left":$="center"),i==="top"?c==="near"||m!==0?D=-L*R+R/2:c==="center"?D=-M.highest.height/2-F*R+R:D=-M.highest.height+R/2:c==="near"||m!==0?D=R/2:c==="center"?D=M.highest.height/2-F*R:D=M.highest.height-L*R,d&&(D*=-1),m!==0&&!j.showLabelBackdrop&&(T+=R/2*Math.sin(m))):(C=k,D=(1-L)*R/2);let G;if(j.showLabelBackdrop){const Y=_i(j.backdropPadding),q=M.heights[v],te=M.widths[v];let ae=D-Y.top,le=0-Y.left;switch(P){case"middle":ae-=q/2;break;case"bottom":ae-=q;break}switch(E){case"center":le-=te/2;break;case"right":le-=te;break;case"inner":v===b-1?le-=te:v>0&&(le-=te/2);break}G={left:le,top:ae,width:te+Y.width,height:q+Y.height,color:j.backdropColor}}y.push({label:S,font:A,textOffset:D,options:{rotation:m,color:O,strokeColor:B,strokeWidth:I,textAlign:$,textBaseline:P,translation:[T,C],backdrop:G}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ya(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Ca(e,this.left,o)-o/2,u=Ca(e,this.right,a)+a/2,d=f=l):(d=Ca(e,this.top,o)-o/2,f=Ca(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&MT(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Qf(r,c,0,u,l,a)}i&&OT(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=er(r.font),o=_i(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ut(n)?(l+=o.bottom,In(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=Dce(this,l,n,a);Qf(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:Pce(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=tt(e.grid&&e.grid.z,-1),i=tt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ou.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return er(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ep{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Fce(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Mce(e,o,r),this.override&&un.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in un[i]&&(delete un[i][r],this.override&&delete Sl[r])}}function Mce(t,e,n){const r=Yf(Object.create(null),[n?un.get(n):{},un.get(e),t.defaults]);un.set(e,r),t.defaultRoutes&&Oce(e,t.defaultRoutes),t.descriptors&&un.describe(e,t.descriptors)}function Oce(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");un.route(s,i,l,a)})}function Fce(t){return"id"in t&&"defaults"in t}class jce{constructor(){this.controllers=new Ep(sf,"datasets",!0),this.elements=new Ep(Il,"elements"),this.plugins=new Ep(Object,"plugins"),this.scales=new Ep(Ou,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):mt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=LT(e);Ot(r["before"+i],[],r),n[e](r),Ot(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var os=new jce;class Nce{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ot(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){nn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=tt(r.options&&r.options.plugins,{}),s=Bce(r);return i===!1&&!n?[]:zce(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Bce(t){const e={},n=[],r=Object.keys(os.plugins.items);for(let s=0;s<r.length;s++)n.push(os.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function $ce(t,e){return!e&&t===!1?null:t===!0?{}:t}function zce(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=$ce(r[l],i);c!==null&&s.push({plugin:a,options:Uce(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Uce(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function j1(t,e){const n=un.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Vce(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Hce(t,e){return t===e?"_index_":"_value_"}function SR(t){if(t==="x"||t==="y"||t==="r")return t}function Wce(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function N1(t,...e){if(SR(t))return t;for(const n of e){const r=n.axis||Wce(n.position)||t.length>1&&SR(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function wR(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Gce(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return wR(t,"x",n[0])||wR(t,"y",n[0])}return{}}function Kce(t,e){const n=Sl[t.type]||{scales:{}},r=e.scales||{},i=j1(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ut(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=N1(o,a,Gce(o,t),un.scales[a.type]),c=Hce(l,i),u=n.scales||{};s[o]=Jd(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||j1(a,e),u=(Sl[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=Vce(d,l),h=o[f+"AxisID"]||f;s[h]=s[h]||Object.create(null),Jd(s[h],[{axis:f},r[h],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Jd(a,[un.scales[a.type],un.scale])}),s}function kO(t){const e=t.options||(t.options={});e.plugins=tt(e.plugins,{}),e.scales=Kce(t,e)}function AO(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Yce(t){return t=t||{},t.data=AO(t.data),kO(t),t}const TR=new Map,RO=new Set;function Cp(t,e){let n=TR.get(t);return n||(n=e(),TR.set(t,n),RO.add(n)),n}const cd=(t,e,n)=>{const r=Dg(e,n);r!==void 0&&t.add(r)};class qce{constructor(e){this._config=Yce(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=AO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),kO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Cp(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Cp(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Cp(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>cd(l,e,d))),u.forEach(d=>cd(l,i,d)),u.forEach(d=>cd(l,Sl[s]||{},d)),u.forEach(d=>cd(l,un,d)),u.forEach(d=>cd(l,M1,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),RO.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Sl[n]||{},un.datasets[n]||{},{type:n},un,M1]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=ER(this._resolverCache,e,i);let l=o;if(Qce(o,n)){s.$shared=!1,r=ia(r)?r():r;const c=this.createResolver(e,r,a);l=hu(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=ER(this._resolverCache,e,r);return ut(n)?hu(s,n,void 0,i):s}}function ER(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:FT(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const Xce=t=>ut(t)&&Object.getOwnPropertyNames(t).some(e=>ia(t[e]));function Qce(t,e){const{isScriptable:n,isIndexable:r}=dO(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(ia(a)||Xce(a))||o&&In(a))return!0}return!1}var Zce="4.4.6";const Jce=["top","bottom","left","right","chartArea"];function CR(t,e){return t==="top"||t==="bottom"||Jce.indexOf(t)===-1&&e==="x"}function kR(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function AR(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ot(n&&n.onComplete,[t],e)}function eue(t){const e=t.chart,n=e.options.animation;Ot(n&&n.onProgress,[t],e)}function _O(t){return BT()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cm={},RR=t=>{const e=_O(t);return Object.values(Cm).filter(n=>n.canvas===e).pop()};function tue(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function nue(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function kp(t,e,n){return t.options.clip?t[n]:e[n]}function rue(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:kp(n,e,"left"),right:kp(n,e,"right"),top:kp(r,e,"top"),bottom:kp(r,e,"bottom")}:e}var Co;let cy=(Co=class{static register(...e){os.add(...e),_R()}static unregister(...e){os.remove(...e),_R()}constructor(e,n){const r=this.config=new qce(n),i=_O(e),s=RR(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||bce(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=cae(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nce,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_ae(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Cm[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}$s.listen(this,"complete",AR),$s.listen(this,"progress",eue),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return nn(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return os}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():eR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return QA(this.canvas,this.ctx),this}stop(){return $s.stop(this),this}resize(e,n){$s.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,eR(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ot(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};mt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=N1(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),mt(s,o=>{const a=o.options,l=a.id,c=N1(l,a),u=tt(a.type,o.dtype);(a.position===void 0||CR(a.position,c)!==CR(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=os.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),mt(i,(o,a)=>{o||delete r[a]}),mt(r,o=>{xi.configure(this,o,o.options),xi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(kR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||j1(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=os.getController(a),{datasetElementType:c,dataElementType:u}=un.datasets[a];Object.assign(l,{dataElementType:os.getElement(u),datasetElementType:c&&os.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){mt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||mt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kR("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){mt(this.scales,e=>{xi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!zA(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;tue(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!zA(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],mt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ia(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($s.has(this)?this.attached&&!$s.running(this)&&$s.start(this):(this.draw(),AR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=rue(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&MT(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&OT(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Xf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=Jle.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ll(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Mg(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),$s.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),QA(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Cm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};mt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){mt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},mt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Ig(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=mae(e),c=nue(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ot(s.onHover,[e,a,this],this),l&&Ot(s.onClick,[e,a,this],this));const u=!Ig(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ze(Co,"defaults",un),ze(Co,"instances",Cm),ze(Co,"overrides",Sl),ze(Co,"registry",os),ze(Co,"version",Zce),ze(Co,"getChart",RR),Co);function _R(){return mt(cy.instances,t=>t._plugins.invalidate())}function LO(t,e,n=e){t.lineCap=tt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(tt(n.borderDash,e.borderDash)),t.lineDashOffset=tt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=tt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=tt(n.borderWidth,e.borderWidth),t.strokeStyle=tt(n.borderColor,e.borderColor)}function iue(t,e,n){t.lineTo(n.x,n.y)}function sue(t){return t.stepped?Uae:t.tension||t.cubicInterpolationMode==="monotone"?Vae:iue}function IO(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function oue(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=IO(i,n,r),u=sue(s);let{move:d=!0,reverse:f}=r||{},h,p,m;for(h=0;h<=c;++h)p=i[(a+(f?c-h:h))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,f,s.stepped),m=p);return l&&(p=i[(a+(f?c:0))%o],u(t,m,p,f,s.stepped)),!!l}function aue(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=IO(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,h,p,m,y,v;const b=S=>(o+(c?a-S:S))%s,x=()=>{m!==y&&(t.lineTo(u,y),t.lineTo(u,m),t.lineTo(u,v))};for(l&&(h=i[b(0)],t.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[b(f)],h.skip)continue;const S=h.x,T=h.y,C=S|0;C===p?(T<m?m=T:T>y&&(y=T),u=(d*u+S)/++d):(x(),t.lineTo(S,T),p=C,d=0,m=y=T),v=T}x()}function B1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?aue:oue}function lue(t){return t.stepped?wle:t.tension||t.cubicInterpolationMode==="monotone"?Tle:Ma}function cue(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),LO(t,e.options),t.stroke(i)}function uue(t,e,n,r){const{segments:i,options:s}=e,o=B1(e);for(const a of i)LO(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const due=typeof Path2D=="function";function fue(t,e,n,r){due&&!e.options.segment?cue(t,e,n,r):uue(t,e,n,r)}class Rd extends Il{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;ple(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ile(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=Rle(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=lue(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],h=s[d],p=s[f];if(h===p){a.push(h);continue}const m=Math.abs((i-h[n])/(p[n]-h[n])),y=l(h,p,m,r.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,r){return B1(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=B1(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),fue(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ze(Rd,"id","line"),ze(Rd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ze(Rd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ze(Rd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function LR(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class km extends Il{constructor(n){super();ze(this,"parsed");ze(this,"skip");ze(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return LR(this,n,"x",r)}inYRange(n,r){return LR(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Xf(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,O1(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ze(km,"id","point"),ze(km,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ze(km,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const IR=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},hue=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class PR extends Il{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ot(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=er(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=IR(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,m)=>{const y=r+n/2+s.measureText(p.text).width;(m===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,h+=u,f++),l[m]={left:0,top:h,row:f,width:y,height:i},c[c.length-1]+=y+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,h=0,p=0,m=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:b,itemHeight:x}=pue(r,n,s,y,i);v>0&&h+x+2*a>u&&(d+=f+a,c.push({width:f,height:h}),p+=f+a,m++,f=h=0),l[v]={left:p,top:h,col:m,width:b,height:x},f=Math.max(f,b),h+=x+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=zc(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Qn(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Qn(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Qn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Qn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;MT(e,this),this._draw(),OT(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=un.color,l=zc(e.rtl,this.left,this.width),c=er(o.font),{padding:u}=o,d=c.size,f=d/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:y}=IR(o,d),v=function(C,E,k){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const A=tt(k.lineWidth,1);if(i.fillStyle=tt(k.fillStyle,a),i.lineCap=tt(k.lineCap,"butt"),i.lineDashOffset=tt(k.lineDashOffset,0),i.lineJoin=tt(k.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=tt(k.strokeStyle,a),i.setLineDash(tt(k.lineDash,[])),o.usePointStyle){const R={radius:m*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:A},L=l.xPlus(C,p/2),D=E+f;cO(i,R,L,D,o.pointStyleWidth&&p)}else{const R=E+Math.max((d-m)/2,0),L=l.leftForLtr(C,p),D=rf(k.borderRadius);i.beginPath(),Object.values(D).some(P=>P!==0)?F1(i,{x:L,y:R,w:p,h:m,radius:D}):i.rect(L,R,p,m),i.fill(),A!==0&&i.stroke()}i.restore()},b=function(C,E,k){Qf(i,k.text,C,E+y/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},x=this.isHorizontal(),S=this._computeTitleHeight();x?h={x:Qn(s,this.left+u,this.right-r[0]),y:this.top+u+S,line:0}:h={x:this.left+u,y:Qn(s,this.top+S+u,this.bottom-n[0].height),line:0},gO(this.ctx,e.textDirection);const T=y+u;this.legendItems.forEach((C,E)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const k=i.measureText(C.text).width,A=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),R=p+f+k;let L=h.x,D=h.y;l.setWidth(this.width),x?E>0&&L+R+u>this.right&&(D=h.y+=T,h.line++,L=h.x=Qn(s,this.left+u,this.right-r[h.line])):E>0&&D+T>this.bottom&&(L=h.x=L+n[h.line].width+u,h.line++,D=h.y=Qn(s,this.top+S+u,this.bottom-n[h.line].height));const P=l.x(L);if(v(P,D,C),L=Lae(A,L+p+f,x?L+R:this.right,e.rtl),b(l.x(L),D,C),x)h.x+=R+u;else if(typeof C.text!="string"){const M=c.lineHeight;h.y+=PO(C,M)+u}else h.y+=T}),yO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=er(n.font),i=_i(n.padding);if(!n.display)return;const s=zc(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Qn(e.align,d,this.right-f);else{const p=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+Qn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=Qn(a,d,d+f);o.textAlign=s.textAlign(PT(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Qf(o,n.text,h,u,r)}_computeTitleHeight(){const e=this.options.title,n=er(e.font),r=_i(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(kd(e,this.left,this.right)&&kd(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],kd(e,i.left,i.left+i.width)&&kd(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!yue(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=hue(i,r);i&&!s&&Ot(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ot(n.onHover,[e,r,this],this)}else r&&Ot(n.onClick,[e,r,this],this)}}function pue(t,e,n,r,i){const s=mue(r,t,e,n),o=gue(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function mue(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function gue(t,e,n){let r=t;return typeof e.text!="string"&&(r=PO(e,n)),r}function PO(t,e){const n=t.text?t.text.length:0;return e*n}function yue(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var vue={id:"legend",_element:PR,start(t,e,n){const r=t.legend=new PR({ctx:t.ctx,options:n,chart:t});xi.configure(t,r,n),xi.addBox(t,r)},stop(t){xi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;xi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=_i(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class DO extends Il{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=In(r.text)?r.text.length:1;this._padding=_i(r.padding);const s=i*er(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Qn(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=Qn(a,i,n),l=Dn*-.5):(u=s-e,d=Qn(a,n,i),l=Dn*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=er(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Qf(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:PT(n.align),textBaseline:"middle",translation:[o,a]})}}function xue(t,e){const n=new DO({ctx:t.ctx,options:e,chart:t});xi.configure(t,n,e),xi.addBox(t,n),t.titleBlock=n}var bue={id:"title",_element:DO,start(t,e,n){xue(t,n)},stop(t){const e=t.titleBlock;xi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;xi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _d={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=D1(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function is(t,e){return e&&(In(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Sue(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function DR(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=er(e.bodyFont),c=er(e.titleFont),u=er(e.footerFont),d=s.length,f=i.length,h=r.length,p=_i(e.padding);let m=p.height,y=0,v=r.reduce((S,T)=>S+T.before.length+T.lines.length+T.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=h*S+(v-h)*l.lineHeight+(v-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const x=function(S){y=Math.max(y,n.measureText(S).width+b)};return n.save(),n.font=c.string,mt(t.title,x),n.font=l.string,mt(t.beforeBody.concat(t.afterBody),x),b=e.displayColors?o+2+e.boxPadding:0,mt(r,S=>{mt(S.before,x),mt(S.lines,x),mt(S.after,x)}),b=0,n.font=u.string,mt(t.footer,x),n.restore(),y+=p.width,{width:y,height:m}}function wue(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Tue(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Eue(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Tue(c,t,e,n)&&(c="center"),c}function MR(t,e,n){const r=n.yAlign||e.yAlign||wue(t,n);return{xAlign:n.xAlign||e.xAlign||Eue(t,e,n,r),yAlign:r}}function Cue(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function kue(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function OR(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=rf(o);let p=Cue(e,a);const m=kue(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+i:a==="right"&&(p+=Math.max(d,h)+i),{x:vi(p,0,r.width-e.width),y:vi(m,0,r.height-e.height)}}function Ap(t,e,n){const r=_i(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function FR(t){return is([],zs(t))}function Aue(t,e,n){return Ll(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function jR(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const MO={beforeTitle:js,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:js,beforeBody:js,beforeLabel:js,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return nn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:js,afterBody:js,beforeFooter:js,footer:js,afterFooter:js};function pr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?MO[e].call(n,r):i}class $1 extends Il{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new xO(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Aue(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=pr(r,"beforeTitle",this,e),s=pr(r,"title",this,e),o=pr(r,"afterTitle",this,e);let a=[];return a=is(a,zs(i)),a=is(a,zs(s)),a=is(a,zs(o)),a}getBeforeBody(e,n){return FR(pr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return mt(e,s=>{const o={before:[],lines:[],after:[]},a=jR(r,s);is(o.before,zs(pr(a,"beforeLabel",this,s))),is(o.lines,pr(a,"label",this,s)),is(o.after,zs(pr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return FR(pr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=pr(r,"beforeFooter",this,e),s=pr(r,"footer",this,e),o=pr(r,"afterFooter",this,e);let a=[];return a=is(a,zs(i)),a=is(a,zs(s)),a=is(a,zs(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Sue(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),mt(a,u=>{const d=jR(e.callbacks,u);i.push(pr(d,"labelColor",this,u)),s.push(pr(d,"labelPointStyle",this,u)),o.push(pr(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=_d[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=DR(this,r),c=Object.assign({},a,l),u=MR(this.chart,r,c),d=OR(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=rf(a),{x:f,y:h}=e,{width:p,height:m}=n;let y,v,b,x,S,T;return s==="center"?(S=h+m/2,i==="left"?(y=f,v=y-o,x=S+o,T=S-o):(y=f+p,v=y+o,x=S-o,T=S+o),b=y):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+p-Math.max(c,d)-o:v=this.caretX,s==="top"?(x=h,S=x-o,y=v-o,b=v+o):(x=h+m,S=x+o,y=v+o,b=v-o),T=x),{x1:y,x2:v,x3:b,y1:x,y2:S,y3:T}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=zc(r.rtl,this.x,this.width);for(e.x=Ap(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=er(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=er(s.bodyFont),d=Ap(this,"left",s),f=i.x(d),h=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+h;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(f,c)+c/2,v=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,O1(e,m,y,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,O1(e,m,y,v)}else{e.lineWidth=ut(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,c),y=i.leftForLtr(i.xPlus(f,1),c-2),v=rf(o.borderRadius);Object.values(v).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,F1(e,{x:m,y:p,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),F1(e,{x:y,y:p+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=er(r.bodyFont);let f=d.lineHeight,h=0;const p=zc(r.rtl,this.x,this.width),m=function(k){n.fillText(k,p.x(e.x+h),e.y+f/2),e.y+=f+s},y=p.textAlign(o);let v,b,x,S,T,C,E;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Ap(this,y,r),n.fillStyle=r.bodyColor,mt(this.beforeBody,m),h=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,C=i.length;S<C;++S){for(v=i[S],b=this.labelTextColors[S],n.fillStyle=b,mt(v.before,m),x=v.lines,a&&x.length&&(this._drawColorBox(n,e,S,p,r),f=Math.max(d.lineHeight,l)),T=0,E=x.length;T<E;++T)m(x[T]),f=d.lineHeight;mt(v.after,m)}h=0,f=d.lineHeight,mt(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=zc(r.rtl,this.x,this.width);for(e.x=Ap(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=er(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=rf(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=_d[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=DR(this,e),l=Object.assign({},o,this._size),c=MR(n,e,l),u=OR(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=_i(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),gO(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),yO(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Ig(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Ig(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=_d[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}ze($1,"positioners",_d);var Rue={id:"tooltip",_element:$1,positioners:_d,afterInit(t,e,n){n&&(t.tooltip=new $1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _ue=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Lue(t,e,n,r){const i=t.indexOf(e);if(i===-1)return _ue(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Iue=(t,e)=>t===null?null:vi(Math.round(t),0,e);function NR(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class z1 extends Ou{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(nn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Lue(r,e,tt(n,e),this._addedLabels),Iue(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return NR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ze(z1,"id","category"),ze(z1,"defaults",{ticks:{callback:NR}});function Pue(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=s||1,p=u-1,{min:m,max:y}=e,v=!nn(o),b=!nn(a),x=!nn(c),S=(y-m)/(d+1);let T=VA((y-m)/p/h)*h,C,E,k,A;if(T<1e-14&&!v&&!b)return[{value:m},{value:y}];A=Math.ceil(y/T)-Math.floor(m/T),A>p&&(T=VA(A*T/p/h)*h),nn(l)||(C=Math.pow(10,l),T=Math.ceil(T*C)/C),i==="ticks"?(E=Math.floor(m/T)*T,k=Math.ceil(y/T)*T):(E=m,k=y),v&&b&&s&&xae((a-o)/s,T/1e3)?(A=Math.round(Math.min((a-o)/T,u)),T=(a-o)/A,E=o,k=a):x?(E=v?o:E,k=b?a:k,A=c-1,T=(k-E)/A):(A=(k-E)/T,ef(A,Math.round(A),T/1e3)?A=Math.round(A):A=Math.ceil(A));const R=Math.max(HA(T),HA(E));C=Math.pow(10,nn(l)?R:l),E=Math.round(E*C)/C,k=Math.round(k*C)/C;let L=0;for(v&&(f&&E!==o?(n.push({value:o}),E<o&&L++,ef(Math.round((E+L*T)*C)/C,o,BR(o,S,t))&&L++):E<o&&L++);L<A;++L){const D=Math.round((E+L*T)*C)/C;if(b&&D>a)break;n.push({value:D})}return b&&f&&k!==a?n.length&&ef(n[n.length-1].value,a,BR(a,S,t))?n[n.length-1].value=a:n.push({value:a}):(!b||k===a)&&n.push({value:k}),n}function BR(t,e,{horizontal:n,minRotation:r}){const i=Ya(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Due extends Ou{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return nn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=fu(i),c=fu(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Pue(i,s);return e.bounds==="ticks"&&bae(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return oO(e,this.chart.options.locale,this.options.ticks.format)}}class U1 extends Due{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ri(e)?e:0,this.max=Ri(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ya(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ze(U1,"id","linear"),ze(U1,"defaults",{ticks:{callback:lO.formatters.numeric}});const uy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},br=Object.keys(uy);function $R(t,e){return t-e}function zR(t,e){if(nn(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Ri(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(qf(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function UR(t,e,n,r){const i=br.length;for(let s=br.indexOf(t);s<i-1;++s){const o=uy[br[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return br[s]}return br[i-1]}function Mue(t,e,n,r,i){for(let s=br.length-1;s>=br.indexOf(n);s--){const o=br[s];if(uy[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return br[n?br.indexOf(n):0]}function Oue(t){for(let e=br.indexOf(t)+1,n=br.length;e<n;++e)if(uy[br[e]].common)return br[e]}function VR(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=IT(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Fue(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function HR(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Fue(t,r,i,n)}class Ng extends Ou{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Yle._date(e.adapters.date);i.init(n),Jd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:zR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ri(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Ri(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=kae(i,s,o);return this._unit=n.unit||(r.autoSkip?UR(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Mue(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Oue(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),HR(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=vi(n,0,o),r=vi(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||UR(s.minUnit,n,r,this._getLabelCapacity(n)),a=tt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=qf(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<r;f=+e.add(f,a,o),h++)VR(u,f,p);return(f===r||i.bounds==="ticks"||h===1)&&VR(u,f,p),Object.keys(u).sort($R).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ot(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],h=c&&d&&f&&f.major;return this._adapter.format(e,i||(h?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Ya(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,HR(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(zR(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Rae(e.sort($R))}}ze(Ng,"id","time"),ze(Ng,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Rp(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=qa(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=qa(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class WR extends Ng{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Rp(n,this.min),this._tableRange=Rp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Rp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Rp(this._table,r*this._tableRange+this._minPos,!0)}}ze(WR,"id","timeseries"),ze(WR,"defaults",Ng.defaults);const OO="label";function GR(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function jue(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function FO(t,e){t.labels=e}function jO(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OO;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Nue(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OO;const n={labels:[],datasets:[]};return FO(n,t.labels),jO(n,t.datasets,e),n}function Bue(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,h=w.useRef(null),p=w.useRef(),m=()=>{h.current&&(p.current=new cy(h.current,{type:o,data:Nue(a,s),options:l&&{...l},plugins:c}),GR(e,p.current))},y=()=>{GR(e,null),p.current&&(p.current.destroy(),p.current=null)};return w.useEffect(()=>{!i&&p.current&&l&&jue(p.current,l)},[i,l]),w.useEffect(()=>{!i&&p.current&&FO(p.current.config.data,a.labels)},[i,a.labels]),w.useEffect(()=>{!i&&p.current&&a.datasets&&jO(p.current.config.data,a.datasets,s)},[i,a.datasets]),w.useEffect(()=>{p.current&&(i?(y(),setTimeout(m)):p.current.update(d))},[i,l,a.labels,a.datasets,d]),w.useEffect(()=>{p.current&&(y(),setTimeout(m))},[o]),w.useEffect(()=>(m(),()=>y()),[]),wr.createElement("canvas",Object.assign({ref:h,role:"img",height:n,width:r},f),u)}const $ue=w.forwardRef(Bue);function zue(t,e){return cy.register(e),w.forwardRef((n,r)=>wr.createElement($ue,Object.assign({},n,{ref:r,type:t})))}const Uue=zue("line",Tm);cy.register(z1,U1,km,Rd,bue,Rue,vue);const Vue=({transactions:t})=>{const[e,n]=w.useState({}),[r,i]=w.useState("profitsLosses");w.useEffect(()=>{if(r==="profitsLosses"){const o=t.reduce((a,l)=>{const c=l.amount;return l.isApproved?(a.profits.push(c),a.labels.push(new Date(l.createdAt).toLocaleDateString())):(l.isCanceled||l.reversed)&&(a.losses.push(c),a.labels.push(new Date(l.createdAt).toLocaleDateString())),a},{profits:[],losses:[],labels:[]});n({labels:o.labels,datasets:[{label:"Profits",data:o.profits,borderColor:"green",backgroundColor:"rgba(0, 255, 0, 0.2)",tension:.4},{label:"Losses",data:o.losses,borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.2)",tension:.4}]})}else if(r==="transactionCount"){const o=t.reduce((c,u)=>{const d=new Date(u.createdAt).toLocaleDateString();return c[d]=(c[d]||0)+1,c},{}),a=Object.keys(o),l=Object.values(o);n({labels:a,datasets:[{label:"Transaction Count",data:l,borderColor:"blue",backgroundColor:"rgba(0, 0, 255, 0.2)",tension:.4}]})}else if(r==="transactionTypes"){const o=t.reduce((d,f)=>{const h=new Date(f.createdAt).toLocaleDateString();return d.labels.includes(h)||d.labels.push(h),f.isApproved&&(d.approved[h]=(d.approved[h]||0)+1),f.isCanceled&&(d.canceled[h]=(d.canceled[h]||0)+1),f.reversed&&(d.reversed[h]=(d.reversed[h]||0)+1),d},{labels:[],approved:{},canceled:{},reversed:{}}),a=o.labels,l=a.map(d=>o.approved[d]||0),c=a.map(d=>o.canceled[d]||0),u=a.map(d=>o.reversed[d]||0);n({labels:a,datasets:[{label:"Approved",data:l,borderColor:"green",backgroundColor:"rgba(0, 255, 0, 0.2)",tension:.4},{label:"Canceled",data:c,borderColor:"orange",backgroundColor:"rgba(255, 165, 0, 0.2)",tension:.4},{label:"Reversed",data:u,borderColor:"purple",backgroundColor:"rgba(128, 0, 128, 0.2)",tension:.4}]})}else if(r==="transactionTypeEnum"){const o=t.reduce((f,h)=>{const p=new Date(h.createdAt).toLocaleDateString();f.labels.includes(p)||f.labels.push(p);const m=h.transactionType;return f[m][p]=(f[m][p]||0)+1,f},{labels:[],DEPO:{},RETRAIT:{},ABON:{},TELE:{}}),a=o.labels,l=a.map(f=>o.DEPO[f]||0),c=a.map(f=>o.RETRAIT[f]||0),u=a.map(f=>o.ABON[f]||0),d=a.map(f=>o.TELE[f]||0);n({labels:a,datasets:[{label:"DEPO",data:l,borderColor:"blue",backgroundColor:"rgba(0, 0, 255, 0.2)",tension:.4},{label:"RETRAIT",data:c,borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.2)",tension:.4},{label:"ABON",data:u,borderColor:"orange",backgroundColor:"rgba(255, 165, 0, 0.2)",tension:.4},{label:"TELE",data:d,borderColor:"purple",backgroundColor:"rgba(128, 0, 128, 0.2)",tension:.4}]})}},[t,r]);const s=ue("#ffffff","#1A202C");return g.jsxs(se,{bg:s,p:4,borderRadius:"md",boxShadow:"md",children:[g.jsx(H,{fontSize:"xl",mb:4,fontWeight:"bold",children:"Transaction Analysis"}),g.jsxs(Rr,{mb:4,value:r,onChange:o=>i(o.target.value),children:[g.jsx("option",{value:"profitsLosses",children:"Profits & Losses Over Time"}),g.jsx("option",{value:"transactionCount",children:"Transaction Count Over Time"}),g.jsx("option",{value:"transactionTypes",children:"Transaction Types Over Time"}),g.jsx("option",{value:"transactionTypeEnum",children:"Transaction Types (DEPO, RETRAIT, ABON, TELE) Over Time"})]}),e.labels&&e.labels.length>0?g.jsx(Uue,{data:e,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:r==="profitsLosses"?"Profits and Losses":r==="transactionCount"?"Transaction Count":r==="transactionTypes"?"Transaction Status Types Over Time":"Transaction Types (DEPO, RETRAIT, ABON, TELE) Over Time"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:r==="profitsLosses"?"Amount":"Count"}},x:{title:{display:!0,text:"Date"}}}}}):g.jsx(H,{children:"No data available for this analysis."})]})},Hue=()=>{const{getAllMoneyFlow:t,moneyflow:e,loading:n}=ay(),[r,i]=w.useState([]),[s,o]=w.useState("createdAt"),[a,l]=w.useState(""),c=ue("#f4f6f8","#1A202C"),u=ue("#333","#F7FAFC");w.useEffect(()=>{t(),console.log(e)},[]),w.useEffect(()=>{let m=[...e];s!=="createdAt"?s==="Tous les types"?m=[...e]:m=m.filter(y=>y.type===s):m.sort((y,v)=>new Date(v.createdAt)-new Date(y.createdAt)),i(m)},[e,s]);const d=m=>m.isApproved?"Approuvé":"Non Approuvé",f=m=>m.isApproved?"green.100":"pink.100",h=["Tous les types","createdAt",...new Set(e==null?void 0:e.map(m=>m.type))],p=r.filter(m=>Object.values(m).some(y=>typeof y=="string"?y.toLowerCase().includes(a.toLowerCase()):typeof y=="number"?y.toString().includes(a):!1));return g.jsx(Ue,{p:0,m:0,children:g.jsxs(se,{p:2,m:0,bg:c,color:u,mt:"3",children:[g.jsxs(de,{mb:4,alignItems:"center",children:[g.jsx(H,{fontWeight:"bold",mr:2,children:"Trier par :"}),g.jsx(Rr,{value:s,onChange:m=>o(m.target.value),mr:4,children:h==null?void 0:h.map(m=>g.jsx("option",{value:m==="Tous les types"?"createdAt":m,children:m},m))}),g.jsx(Ct,{placeholder:"Rechercher des transactions...",value:a,onChange:m=>l(m.target.value),mr:4})]}),n?g.jsx(de,{justify:"center",align:"center",height:"100px",children:g.jsx(Mn,{})}):g.jsx(se,{borderTop:"1px solid #ddd",pt:2,children:p.length?g.jsx(yh,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)",lg:"repeat(5, 1fr)"},gap:4,children:p.map(m=>g.jsxs(se,{p:4,bg:f(m),boxShadow:"sm",color:"black",children:[g.jsxs(H,{children:[g.jsx("strong",{children:"Montant :"})," ",m.amount]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Numéro de téléphone :"})," ",m.phonenumeber]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Statut :"})," ",d(m)]}),g.jsxs(H,{children:[g.jsx("strong",{children:"ID de transaction :"})," ",m.ID]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Type :"})," ",m.type]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Moyen :"})," ",m.mean]})]},m.id))}):g.jsx(H,{textAlign:"center",color:"#777",children:"Aucune transaction trouvée."})})]})})},Wue=()=>{const{currency:t}=It(),{getAllTransactions:e,transactions:n,loading:r}=ay(),[i,s]=w.useState([]),[o,a]=w.useState("createdAt"),[l,c]=w.useState(""),[u,d]=w.useState(!0),f=ue("#f4f6f8","#1A202C"),h=ue("#333","#F7FAFC");w.useEffect(()=>{e()},[]),w.useEffect(()=>{let b=[...n];o!=="createdAt"?o==="Tous les types"?b=[...n]:b=b.filter(x=>x.transactionType===o):b.sort((x,S)=>new Date(S.createdAt)-new Date(x.createdAt)),s(b)},[n,o]);const p=b=>b.reversed?"retourné":b.isPending?"En attente":b.isCanceled?"Annulé":"Inconnu",m=b=>b.reversed?"purple.100":b.isApproved?"green.100":b.isPending?"yellow.100":b.isCanceled?"pink.100":"white",y=["Tous les types","createdAt",...new Set(n.map(b=>b.transactionType))],v=i.filter(b=>Object.values(b).some(x=>typeof x=="string"?x.toLowerCase().includes(l.toLowerCase()):typeof x=="number"?x.toString().includes(l):!1)||p(b)&&p(b).toLowerCase().includes(l.toLowerCase()));return g.jsxs(Vf,{variant:"soft-rounded",colorScheme:"teal",p:2,children:[g.jsxs(Hf,{m:0,p:0,children:[g.jsxs(eo,{children:[g.jsx(Q3,{style:{display:"inline",marginRight:"8px"}}),"User Transactions"]}),g.jsx(eo,{children:"Moneyflow"})," ",g.jsx(eo,{children:"Statistics"})," "]}),g.jsxs(Wf,{m:0,p:2,children:[g.jsx(to,{mt:2,p:0,children:g.jsx(Ue,{p:0,m:0,children:g.jsxs(se,{p:2,m:0,bg:f,color:h,mt:"3",children:[g.jsxs(de,{mb:4,alignItems:"center",children:[g.jsx(H,{fontWeight:"bold",mr:2,children:"Trier par :"}),g.jsx(Rr,{value:o,onChange:b=>a(b.target.value),mr:4,children:y.map(b=>g.jsx("option",{value:b==="Tous les types"?"createdAt":b,children:b},b))}),g.jsx(Ct,{placeholder:"Rechercher des transactions...",value:l,onChange:b=>c(b.target.value),mr:4}),g.jsxs(de,{alignItems:"center",children:[g.jsx(H,{mr:2,children:"Afficher les images"}),g.jsx(uu,{colorScheme:"teal",isChecked:u,onChange:()=>d(!u)})]})]}),r?g.jsx(de,{justify:"center",align:"center",height:"100px",children:g.jsx(Mn,{})}):g.jsx(se,{borderTop:"1px solid #ddd",pt:2,children:v.length?g.jsx(yh,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)",lg:"repeat(5, 1fr)"},gap:4,children:v.map(b=>g.jsxs(se,{p:4,bg:m(b),boxShadow:"sm",color:"black",children:[g.jsxs(H,{children:[g.jsx("strong",{children:"Montant :"})," ",b.amount," ",t]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Numéro de téléphone :"})," ",b.phonenumber]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Statut :"})," ",p(b)]}),g.jsxs(H,{children:[g.jsx("strong",{children:"ID de transaction :"})," ",b.ID]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Type :"})," ",b.transactionType]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Créé le :"})," ",new Date(b.createdAt).toLocaleString()]}),u&&b.imageBase64&&g.jsxs(se,{children:[g.jsx("strong",{children:"Image :"}),g.jsx("img",{src:`data:image/png;base64,${b.imageBase64}`,alt:"Transaction",style:{maxWidth:"100px",maxHeight:"100px",marginTop:"10px"}})]})]},b.id))}):g.jsx(H,{textAlign:"center",color:"#777",children:"Aucune transaction trouvée."})})]})})}),g.jsx(to,{children:g.jsx(Hue,{})}),g.jsxs(to,{mt:2,p:0,children:[g.jsx(Vue,{transactions:n})," "]})]})]})},Gue=()=>{const t=rn({base:2,md:4}),e=rn({base:"auto",md:"100vh"}),[n,r]=w.useState(()=>{const i=localStorage.getItem("activeTabIndex");return i?parseInt(i,10):0});return w.useEffect(()=>{localStorage.setItem("activeTabIndex",n)},[n]),g.jsx(Poe,{children:g.jsx(de,{height:e,direction:"column",children:g.jsx(se,{flex:"1",p:t,overflowY:"auto",css:{"&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"},children:g.jsxs(Vf,{isFitted:!0,variant:"enclosed",colorScheme:"teal",size:rn({base:"sm",md:"md"}),index:n,onChange:i=>r(i),children:[g.jsxs(Hf,{mb:"1em",children:[g.jsx(eo,{children:"Subscriptions"}),g.jsx(eo,{children:"Users"}),g.jsx(eo,{children:"Transactions"})]}),g.jsxs(Wf,{children:[g.jsxs(to,{p:0,children:[g.jsxs(Vf,{variant:"soft-rounded",colorScheme:"teal",children:[g.jsx(Hf,{children:g.jsx(eo,{children:"Create via JSON"})}),g.jsx(Wf,{children:g.jsx(to,{children:g.jsx(Foe,{})})})]}),g.jsx(Ooe,{})]}),g.jsx(to,{p:0,children:g.jsx(Noe,{})}),g.jsx(to,{p:0,children:g.jsx(Wue,{})}),"ó"]})]})})})})},Kue=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!1),[i,s]=w.useState(""),{createDepositTransaction:o,tloading:a}=Mu(),{means:l}=It(),c=Mr(),u=async()=>{try{await o({picture:t})&&(r(!0),s(""))}catch{s("Échec de la transaction. Veuillez réessayer.")}},d=()=>{e(null),r(!1)},f=()=>c("/"),h=()=>c("/transaction"),p=ue("linear(to-br, white, gray.200)","linear(to-br, black, #141414)"),m=ue("gray.100","#181818"),y=ue("gray.800","white");return g.jsxs(Hn,{minHeight:"100vh",bgGradient:p,children:[g.jsxs(Vf,{colorScheme:"teal",children:[g.jsx(Hf,{m:0,p:0,children:g.jsxs(eo,{children:[l[0].phone," ",g.jsx("img",{src:l[0].logo,alt:"Transfer Logo",style:{height:"20px",marginLeft:"10px"}})," "]})}),g.jsx(Wf,{m:0,p:0,children:g.jsx(to,{mt:2,p:0,children:g.jsxs(Ue,{spacing:6,w:"100%",bg:m,p:6,borderRadius:"md",boxShadow:"lg",m:0,children:[g.jsx(H,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:y,children:"Exemple:"}),g.jsx("img",{src:l[0].exampleimg,alt:"Example Image",style:{width:"100%"}})," ",g.jsx(H,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:y,children:"Ajouter une capture de la transaction"}),a&&g.jsx(Hn,{children:g.jsx(Mn,{thickness:"4px",speed:"0.75s",color:"yellow.400",size:"xl"})}),i&&g.jsx(H,{color:"red.500",children:i}),n?g.jsx(W5,{initialScale:.8,in:n,children:g.jsxs(se,{textAlign:"center",color:"yellow.600",children:[g.jsx(du,{boxSize:"50px",color:"green.400"}),g.jsx(H,{fontSize:"lg",fontWeight:"bold",children:"Transaction en attente"}),g.jsx(H,{children:"Le statut de votre transaction est en attente."}),g.jsxs(Ue,{children:[g.jsx(he,{mt:2,colorScheme:"yellow",onClick:d,children:"Ajouter une autre capture"}),g.jsx(he,{mt:2,colorScheme:"blue",onClick:f,children:"Aller à l'accueil"}),g.jsx(he,{mt:4,onClick:h,bg:"purple.500",color:"white",_hover:{bg:"purple.600"},children:"Voir les transactions"})]})]})}):g.jsxs(Ue,{as:"form",spacing:4,onSubmit:v=>{v.preventDefault(),u()},children:[g.jsxs(se,{w:"100%",textAlign:"center",children:[g.jsx("input",{type:"file",accept:"image/*",id:"file-upload",onChange:v=>e(v.target.files[0]),style:{display:"none"}}),g.jsx("label",{htmlFor:"file-upload",children:g.jsx(he,{as:"span",bg:"teal.500",color:"white",leftIcon:g.jsx(Yse,{}),_hover:{bg:"teal.600"},width:"100%",children:"Choisir une photo"})}),t&&g.jsx(H,{mt:2,fontSize:"sm",color:y,children:t.name})]}),g.jsx(he,{type:"submit",bg:"green.500",color:"white",_hover:{bg:"green.600"},width:"100%",children:"Envoyer la capture"}),g.jsx(he,{onClick:d,bg:"red.400",color:"white",_hover:{bg:"red.500"},width:"100%",children:"Réinitialiser"}),g.jsx(he,{mt:4,onClick:f,bg:"orange.500",color:"white",_hover:{bg:"orange.600"},width:"100%",children:"Aller à l'accueil"}),g.jsx(he,{mt:4,onClick:h,bg:"purple.500",color:"white",_hover:{bg:"purple.600"},width:"100%",children:"Voir les transactions"})]})]})})})]})," "]})},Yue=()=>{const{currency:t}=It(),{transactions:e,tloading:n,getUserTransaction:r,createRetraitTransaction:i}=Mu(),[s,o]=w.useState([]),[a,l]=w.useState("createdAt"),[c,u]=w.useState(""),[d,f]=w.useState(!0),[h,p]=w.useState(""),{isOpen:m,onOpen:y,onClose:v}=lh(),b=ue("#f4f6f8","#1A202C"),x=ue("#333","#F7FAFC");w.useEffect(()=>{r()},[]);const S=async()=>{await i({amount:h}),v(),p(""),await r()};w.useEffect(()=>{let A=[...e];a!=="createdAt"?a==="Tous les types"?A=[...e]:A=A.filter(R=>R.transactionType===a):A.sort((R,L)=>new Date(L.createdAt)-new Date(R.createdAt)),o(A)},[e,a]);const T=A=>A.reversed?"retourné":A.isPending?"En attente":A.isCanceled?"Annulé":"Inconnu",C=A=>A.reversed?"purple.100":A.isApproved?"green.100":A.isPending?"yellow.100":A.isCanceled?"pink.100":"white",E=["Tous les types","createdAt",...new Set(e.map(A=>A.transactionType))],k=s.filter(A=>Object.values(A).some(R=>typeof R=="string"?R.toLowerCase().includes(c.toLowerCase()):typeof R=="number"?R.toString().includes(c):!1)||T(A)&&T(A).toLowerCase().includes(c.toLowerCase()));return g.jsx(g.Fragment,{children:n?g.jsx(Hn,{children:g.jsx(Mn,{thickness:"4px",speed:"0.75s",color:"yellow.400",size:"xl"})}):g.jsxs(Ue,{children:[g.jsxs(i3,{mt:"8",mb:"-20",p:2,spacing:2,align:"baseline",justify:"space-between",children:[g.jsx(Zd,{width:{base:"100%",md:"auto"},children:g.jsx(he,{as:"a",href:"/deposit",colorScheme:"green",size:{base:"sm",md:"md",lg:"lg"},leftIcon:g.jsx($oe,{}),width:"full",children:"Dépot"})}),g.jsx(Zd,{width:{base:"100%",md:"auto"},children:g.jsx(he,{colorScheme:"red",onClick:y,size:{base:"sm",md:"md",lg:"lg"},leftIcon:g.jsx(MA,{}),width:"full",children:"Retrait"})}),g.jsx(Zd,{width:{base:"100%",md:"auto"},children:g.jsx(he,{as:"a",href:"/subscribe",colorScheme:"purple",size:{base:"sm",md:"md",lg:"lg"},leftIcon:g.jsx(Boe,{}),width:"full",children:"Abonnements"})})]}),g.jsxs(se,{p:5,bg:b,color:x,borderRadius:"0",mt:"20",children:[g.jsxs(on,{as:"h2",size:"lg",color:x,mb:4,children:[g.jsx(Q3,{style:{display:"inline",marginRight:"8px"}}),"Transactions"]}),g.jsxs(de,{mb:4,alignItems:"center",children:[g.jsx(H,{fontWeight:"bold",mr:2,children:"Trier par :"}),g.jsx(Rr,{value:a,onChange:A=>l(A.target.value),mr:4,children:E.map(A=>g.jsx("option",{value:A==="Tous les types"?"createdAt":A,children:A},A))}),g.jsx(Ct,{placeholder:"Rechercher des transactions...",value:c,onChange:A=>u(A.target.value),mr:4}),g.jsxs(de,{alignItems:"center",children:[g.jsx(H,{mr:2,children:"Afficher les images"}),g.jsx(uu,{isChecked:d,onChange:()=>f(!d)})]})]}),g.jsxs(Ru,{isOpen:m,onClose:v,isCentered:!0,children:[g.jsx(Iu,{}),g.jsxs(wh,{children:[g.jsx(K0,{children:"Demande de Retrait"}),g.jsx(Lu,{}),g.jsxs(_u,{children:[g.jsx(H,{mb:2,children:"Entrer le montant :"}),g.jsx(Ct,{placeholder:"Montant",value:h,onChange:A=>p(A.target.value),type:"number",autoFocus:!0})]}),g.jsx(gT,{children:g.jsx(Xe,{icon:g.jsx(MA,{}),colorScheme:"red",onClick:S,"aria-label":"Soumettre la demande"})})]})]}),n?g.jsx(de,{justify:"center",align:"center",height:"100px",children:g.jsx(Mn,{})}):g.jsx(se,{borderTop:"1px solid #ddd",pt:2,children:k.length?g.jsx(yh,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:4,children:k.map(A=>g.jsxs(se,{p:4,bg:C(A),borderRadius:"0",boxShadow:"sm",color:"black",children:[g.jsxs(H,{children:[g.jsx("strong",{children:"Montant :"})," ",A.amount," ",t]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Numéro de téléphone :"})," ",A.phonenumber]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Statut :"})," ",T(A)]}),g.jsxs(H,{children:[g.jsx("strong",{children:"ID de transaction :"})," ",A.ID]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Type :"})," ",A.transactionType]}),g.jsxs(H,{children:[g.jsx("strong",{children:"Créé le :"})," ",new Date(A.createdAt).toLocaleString()]}),d&&A.imageBase64&&g.jsxs(se,{children:[g.jsx("strong",{children:"Image :"}),g.jsx("img",{src:`data:image/png;base64,${A.imageBase64}`,alt:"Transaction",style:{maxWidth:"100px",maxHeight:"100px",marginTop:"10px"}})]})]},A.id))}):g.jsx(H,{textAlign:"center",color:"#777",children:"Aucune transaction trouvée."})})]})]})})},que=()=>{const{createMoneyFlow:t,tloading:e}=Mu(),[n,r]=w.useState(""),[i,s]=w.useState(null),[o,a]=w.useState(null),l=async()=>{try{const u=JSON.parse(n),d=await t(u);d.errors?(a(d.errors),s(null)):(s(`${d.message}`),a(null))}catch{a("Invalid JSON format or server error."),s(null)}},c=ue("linear(to-br, white, gray.100)","linear(to-br, black, #141414)");return g.jsx(Hn,{minHeight:"100vh",bgGradient:c,children:g.jsxs(Ue,{spacing:6,w:{base:"90%",sm:"80%",md:"500px"},p:6,boxShadow:"lg",borderRadius:"md",children:[g.jsx(H,{fontSize:"2xl",fontWeight:"bold",textAlign:"center",children:"Create Money Flow Entries"}),g.jsx(xT,{value:n,onChange:u=>r(u.target.value),placeholder:"Enter JSON data here...",size:"lg",rows:10,borderColor:"gray.300",bg:ue("gray.50","gray.800")}),g.jsx(he,{colorScheme:"teal",onClick:l,width:"100%",isDisabled:e,children:e?g.jsx(Mn,{size:"sm"}):"Submit"}),i&&g.jsx(H,{color:"green.500",fontWeight:"bold",textAlign:"center",children:i}),o&&g.jsx(se,{color:"red.500",textAlign:"center",children:Array.isArray(o)?o.map((u,d)=>g.jsx(H,{children:u.error},d)):g.jsx(H,{children:o})})]})})},Xue={whatsapp:bT,facebook:a3,linkedin:Kre,twitter:u3,instagram:l3},Que=["+223","+234","+225","+221","+254","+256","+255","+212","+27","+20","+237"],Zue=()=>{var M,j,F;const{updateField:t,user:e,currency:n,flagdevice:r,loading:i}=It(),s=Mr(),[o,a]=w.useState(!1),l=((M=e.phone)==null?void 0:M.split(" ")[0])||"+223",c=((j=e.phone)==null?void 0:j.split(" ")[1])||"",[u,d]=w.useState({name:!1,phone:!1}),[f,h]=w.useState({name:e.name,countryCode:l,localPhoneNumber:c}),[p,m]=w.useState(e.SocialMedias||{}),[y,v]=w.useState(!1),[b,x]=w.useState(""),[S,T]=w.useState(""),C=O=>{d(B=>({...B,[O]:!B[O]}))},E=O=>{const{name:B,value:I}=O.target;h($=>({...$,[B]:I}))},k=O=>{r({deviceId:O})},A=O=>{if(O==="phone"){const B=`${f.countryCode} ${f.localPhoneNumber}`;t({fieldName:"phone",fieldValue:B}),console.log(e)}else t({fieldName:O,fieldValue:f[O]});d(B=>({...B,[O]:!1}))},R=O=>{h(O==="phone"?B=>({...B,countryCode:l,localPhoneNumber:c}):B=>({...B,[O]:e[O]})),d(B=>({...B,[O]:!1}))},L=()=>{navigator.clipboard.writeText(e.referralCode),a(!0),setTimeout(()=>a(!1),2e3)},D=()=>{const O={...p};b&&S&&(O[b]=S),m(O),t({fieldName:"SocialMedias",fieldValue:O}),x(""),T(""),v(!1)},P=O=>{const B={...p};delete B[O],m(B),t({fieldName:"SocialMedias",fieldValue:B})};return g.jsxs(se,{bg:ue("gray.100","gray.800"),p:8,rounded:"lg",boxShadow:"2xl",maxW:"500px",mx:"auto",border:"1px solid",children:[g.jsx(on,{as:"h3",size:"lg",mb:6,textAlign:"center",color:"red.500",children:"Mon Profil"}),g.jsxs(Ue,{align:"start",spacing:6,children:[g.jsxs(ht,{w:"100%",children:[g.jsx(H,{fontWeight:"bold",w:"150px",children:"Nom :"}),u.name?g.jsx(Ct,{name:"name",value:f.name,onChange:E,size:"sm"}):g.jsx(H,{children:e.name}),g.jsx(Ga,{}),g.jsx(Xe,{icon:u.name?g.jsx(Gv,{}):g.jsx(Kv,{}),"aria-label":u.name?"Save name":"Edit name",size:"sm",onClick:()=>u.name?A("name"):C("name")}),u.name&&g.jsx(Xe,{icon:g.jsx(Yv,{}),"aria-label":"Cancel edit",size:"sm",onClick:()=>R("name")})]}),g.jsxs(ht,{w:"100%",children:[g.jsx(H,{fontWeight:"bold",w:"auto",children:"Code de parrainage :"}),g.jsx(H,{children:e==null?void 0:e.refferalCode}),g.jsx(S1,{hasArrow:!0,label:o?"Copié !":"Copier le code",closeOnClick:!1,children:g.jsx(Xe,{icon:g.jsx(Qre,{}),"aria-label":"Copy referral code",size:"sm",onClick:L})})]}),g.jsxs(Ue,{align:"start",w:"100%",spacing:4,children:[g.jsx(H,{fontWeight:"bold",w:"150px",children:"Réseaux sociaux :"}),Object.entries(p).map(([O,B])=>{const I=Xue[O];return g.jsxs(ht,{w:"100%",children:[I&&g.jsx(I,{color:"blue.500"}),g.jsx(H,{as:"a",href:B,target:"_blank",rel:"noopener noreferrer",children:B}),g.jsx(Ga,{}),g.jsx(Xe,{icon:g.jsx(Kv,{}),"aria-label":"Edit social link",size:"sm",onClick:()=>{x(O),T(B),v(!0)}}),g.jsx(Xe,{icon:g.jsx(Yv,{}),"aria-label":"Delete social link",size:"sm",colorScheme:"red",onClick:()=>P(O)})]},O)}),y?g.jsxs(ht,{children:[g.jsxs(Rr,{placeholder:"Select Platform",value:b,onChange:O=>x(O.target.value),size:"sm",children:[g.jsx("option",{value:"facebook",children:"Facebook"}),g.jsx("option",{value:"linkedin",children:"LinkedIn"}),g.jsx("option",{value:"whatsapp",children:"WhatsApp"}),g.jsx("option",{value:"twitter",children:"Twitter"}),g.jsx("option",{value:"instagram",children:"Instagram"})]}),g.jsx(Ct,{placeholder:"Enter link",value:S,onChange:O=>T(O.target.value),size:"sm"}),g.jsx(Xe,{icon:g.jsx(Gv,{}),"aria-label":"Save link",size:"sm",colorScheme:"green",onClick:D})]}):g.jsx(he,{leftIcon:g.jsx(f3,{}),size:"sm",colorScheme:"teal",onClick:()=>v(!0),children:"Ajouter un lien"})]}),g.jsxs(Ue,{spacing:2,w:"100%",children:[g.jsx(H,{fontWeight:"bold",children:"Abonnement :"}),g.jsxs(H,{children:["Début : ",new Date(e==null?void 0:e.subscribtionStartDay).toLocaleString()]}),g.jsxs(H,{children:["Fin : ",new Date(e==null?void 0:e.subscribtionEndDay).toLocaleString()]}),g.jsxs(H,{children:["Type : ",(F=e.subscription)==null?void 0:F.type]})]}),g.jsxs(Ue,{spacing:2,w:"100%",children:[g.jsx(H,{fontWeight:"bold",children:"Email :"}),g.jsx(H,{children:e.email}),g.jsxs(Ei,{colorScheme:"blue",children:["Solde: ",n,e.balance]})]}),g.jsxs(ht,{w:"100%",children:[g.jsx(H,{fontWeight:"bold",w:"150px",children:"Téléphone :"}),u.phone?g.jsxs(ht,{children:[g.jsx(Rr,{name:"countryCode",value:f.countryCode,onChange:E,size:"sm",children:Que.map(O=>g.jsx("option",{value:O,children:O},O))}),g.jsx(Ct,{name:"localPhoneNumber",type:"number",value:f.localPhoneNumber,onChange:E,size:"sm"})]}):g.jsx(H,{children:e.phone}),g.jsx(Ga,{}),g.jsx(Xe,{icon:u.phone?g.jsx(Gv,{}):g.jsx(Kv,{}),"aria-label":u.phone?"Save phone":"Edit phone",size:"sm",onClick:()=>u.phone?A("phone"):C("phone")}),u.phone&&g.jsx(Xe,{icon:g.jsx(Yv,{}),"aria-label":"Cancel edit",size:"sm",onClick:()=>R("phone")})]}),g.jsxs(Ue,{align:"start",spacing:6,mt:8,w:"100%",children:[g.jsx(H,{fontWeight:"bold",fontSize:"lg",children:"Appareil Actuellement Connectés :"}),e.devicesInfo.sort((O,B)=>new Date(B.loginTime)-new Date(O.loginTime)).map((O,B)=>g.jsx(se,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",boxShadow:"sm",bg:ue("white","gray.700"),children:g.jsxs(ht,{spacing:4,align:"center",children:[g.jsxs(Ue,{align:"start",spacing:1,children:[g.jsxs(H,{fontWeight:"bold",children:["Type d'appareil : ",O.deviceType||"N/A"]}),g.jsxs(H,{children:["Navigateur : ",O.browser||"N/A"]}),g.jsxs(H,{children:["Système d'exploitation : ",O.os||"N/A"]}),g.jsxs(H,{children:["Location : ",O.location||"N/A"]}),g.jsxs(H,{children:["Adresse IP : ",O.ipAddress||"N/A"]}),g.jsxs(H,{children:["Date de connexion : ",new Date(O.loginTime).toLocaleString()]})]}),g.jsx(Ga,{}),g.jsx(S1,{label:"Marquer cet appareil comme suspect",closeOnClick:!1,children:g.jsx(Xe,{icon:g.jsx(eie,{}),colorScheme:"red",onClick:()=>k(O.id),"aria-label":"Flag Device",isLoading:i})})]})},O.id))]}),g.jsxs(Ue,{spacing:4,mt:6,w:"100%",children:[g.jsx(he,{colorScheme:"teal",w:"100%",onClick:()=>s("/changepassword"),children:"Changer le mot de passe"}),g.jsx(he,{colorScheme:"teal",w:"100%",onClick:()=>s("/subscribe"),children:"S'abonner"}),g.jsx(he,{colorScheme:"teal",w:"100%",onClick:()=>s("/deposit"),children:"Dépôt"})]})]})]})};function Jue(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function ede(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}const tde=()=>{Mr();const{logo:t,api:e,currency:n}=It(),{createSubscriptionTransaction:r,tloading:i}=Mu(),[s,o]=w.useState([]),[a,l]=w.useState(null),[c,u]=w.useState(1),[d,f]=w.useState(""),[h,p]=w.useState(!1),m={FaStar:X0,FaCrown:ST,FaMedal:Rg,FaClock:Ag},y=ue("white","gray.900"),v=ue("#ffffff","#2D3748"),b=ue("#ff4757","#ff4757"),x=ue("green.400","green.300"),S=ue("gray.700","white");w.useEffect(()=>{(async()=>{try{const R=await e.get("/api/subscription");o(R.data)}catch(R){console.error("Erreur lors du chargement des forfaits:",R)}})();const A=localStorage.getItem("Plan");A&&l(JSON.parse(A))},[]);const T=k=>{l(k),localStorage.setItem("Plan",JSON.stringify(k))},C=()=>{r({unit:c,type:a==null?void 0:a.type,referredCode:d})},E=k=>{u(A=>Math.max(1,A+k))};return g.jsx(se,{minHeight:"100vh",minWidth:"100vw",bg:y,display:"flex",alignItems:"center",justifyContent:"center",children:g.jsxs(Ue,{spacing:6,width:"100%",maxW:"1200px",p:4,align:"stretch",children:[g.jsx(Hn,{children:g.jsx(Ci,{src:t,alt:"Logo",boxSize:"80px",objectFit:"contain",borderRadius:"20px"})}),g.jsx(on,{as:"h1",fontWeight:"600",fontSize:rn({base:"28px",md:"32px"}),color:S,textAlign:"center",w:"100%",children:"Choisissez Votre Forfait"}),g.jsx(H,{fontSize:"lg",color:S,textAlign:"center",maxW:"700px",mx:"auto",children:"Obtenez les meilleurs forfaits de divertissement."}),g.jsxs(Ue,{spacing:6,w:"100%",children:[g.jsxs(ht,{justifyContent:"center",spacing:2,children:[g.jsx(H,{fontSize:"lg",color:S,textAlign:"center",maxW:"700px",mx:"auto",children:"Saisissez un code de parrainage pour une remise de 15% !"}),g.jsx(Xe,{onClick:()=>p(!h),icon:h?g.jsx(ede,{}):g.jsx(Jue,{}),colorScheme:"teal","aria-label":h?"Hide Code Input":"Show Code Input"}),h&&g.jsx(Ct,{placeholder:"Code de Parrainage",value:d,onChange:k=>f(k.target.value),maxW:"300px",bg:"gray.100",color:"gray.700",_placeholder:{color:"gray.500"},border:"2px solid",borderColor:d?"green.500":"gray.300",_focus:{borderColor:"green.500"}})]}),g.jsx(Dr,{direction:rn({base:"column",md:"row"}),spacing:6,w:"100%",justifyContent:"center",wrap:"wrap",display:"grid",gridTemplateColumns:{base:"1fr",md:"1fr 1fr",lg:"1fr 1fr 1fr"},gap:4,children:[...s].map(k=>g.jsxs(se,{w:"100%",bg:v,p:6,borderRadius:"lg",boxShadow:"0 4px 15px rgba(229, 9, 20, 0.4)",textAlign:"center",cursor:"pointer",border:(a==null?void 0:a.id)===k.id?"2px solid #ff4757":"2px solid transparent",onClick:()=>T(k),_hover:{boxShadow:"0 0 20px rgba(229, 9, 20, 0.6)",transform:"scale(1.05)"},transition:"all 0.3s ease-in-out",position:"relative",children:[(a==null?void 0:a.id)===k.id&&g.jsxs(Ei,{colorScheme:"red",position:"absolute",top:"2",right:"2",children:["Quantité: ",c]}),k.badge&&g.jsx(Ei,{colorScheme:"green",mb:2,bg:x,children:k.badge}),g.jsx(Jn,{as:m[k.icon]||Ag,boxSize:10,color:"yellow.500",mb:4}),g.jsxs(H,{fontSize:"xl",fontWeight:"bold",color:S,children:[k.price," ",g.jsxs(H,{as:"span",fontSize:"lg",color:"gray.500",children:[n,"/mois"]})]}),g.jsx(H,{fontSize:"sm",mt:3,color:S,textAlign:"center",children:k.description}),k.downloads<2e3&&g.jsxs(H,{fontSize:"sm",mt:2,color:"gray.500",children:["Augmentez les téléchargements pour ",g.jsx(H,{as:"span",fontWeight:"bold",children:"300 CFA"})," par téléchargement supplémentaire"]}),(a==null?void 0:a.id)===k.id&&g.jsx(g.Fragment,{children:g.jsxs(se,{position:"absolute",bottom:"0",left:"0",width:"100%",height:"25%",bg:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottomRadius:"lg",px:4,children:[g.jsxs(ht,{spacing:2,children:[g.jsx(Jn,{as:rie,boxSize:5,color:"white",cursor:"pointer",onClick:()=>E(-1)}),g.jsx(H,{color:"white",fontWeight:"bold",children:c}),g.jsx(Jn,{as:f3,boxSize:5,color:"white",cursor:"pointer",onClick:()=>E(1)})]}),g.jsx(he,{bg:b,color:"white",size:"md",_hover:{bg:"#ff6b6b"},_active:{bg:"#ff4747"},borderRadius:"6px",onClick:C,children:"S'abonner"})]})})]},k.id))})]})]})})},nde=20,rde=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState(1),[f,h]=w.useState(null),{api:p}=It(),[m,y]=w.useState(parseInt(localStorage.getItem("currentPage"))||1),v=Mr();w.useEffect(()=>{b()},[n,i,m]),w.useEffect(()=>{localStorage.setItem("currentPage",m)},[m]);const b=async()=>{c(!0),h(null);const R=localStorage.getItem("accessToken");try{const L=await p.get("/api/channels/",{headers:{Authorization:`Bearer ${R}`},params:{page:m,limit:nde,searchTerm:n,category:i}});e(L.data.channels),d(L.data.totalPages),x(L.data.channels)}catch(L){console.error("Failed to fetch channels",L),h("Failed to load channels. Please try again.")}finally{c(!1)}},x=R=>{const L=Array.from(new Set(R.map(D=>D.category).filter(Boolean)));a(L)},S=w.useCallback(R=>{r(R.target.value),y(1)},[]),T=w.useCallback(R=>{s(R.target.value),y(1)},[]),C=R=>{v(`/channel/${R}`)},E=R=>g.jsx(Ci,{src:R[0]||R[1]||"default-logo.png",alt:"Channel Logo",borderRadius:"md",objectFit:"contain",fallbackSrc:"default-logo.png",loading:"lazy",sx:{opacity:0,transition:"opacity 1s ease-in-out","&[src]":{opacity:1}}}),k=()=>y(R=>Math.min(R+1,u)),A=()=>y(R=>Math.max(R-1,1));return g.jsxs(se,{p:6,children:[g.jsxs(se,{mb:6,children:[g.jsx(Ct,{placeholder:"Search channels...",value:n,onChange:S,mb:3,borderColor:"teal.400",focusBorderColor:"teal.600"}),g.jsx(Rr,{placeholder:"Select Category",value:i,onChange:T,borderColor:"teal.400",focusBorderColor:"teal.600",children:o.map(R=>g.jsx("option",{value:R,children:R},R))})]}),g.jsx(se,{children:l?g.jsx($f,{columns:{base:3,md:4,lg:8},spacing:4,children:Array(8).fill("").map((R,L)=>g.jsxs(se,{border:"1px solid #ddd",p:4,borderRadius:"md",children:[g.jsx(Zr,{height:"150px",borderRadius:"md"}),g.jsx(Zr,{mt:2,height:"20px"})]},L))}):f?g.jsx(H,{color:"red.500",textAlign:"center",fontSize:"lg",children:f}):t.length===0?g.jsx(H,{mt:6,color:"gray.500",fontSize:"lg",textAlign:"center",children:"No channels found."}):g.jsx($f,{columns:{base:3,md:4,lg:8},spacing:4,children:t.map(R=>g.jsxs(se,{border:"1px solid #ddd",p:4,borderRadius:"md",textAlign:"center",cursor:"pointer",boxShadow:"md",_hover:{boxShadow:"xl",bg:"gray.50"},onClick:()=>C(R.id),children:[E(R.logos),g.jsx(H,{mt:2,fontWeight:"bold",children:R.name}),R.category!="undefined"&&g.jsx(H,{color:"gray.500",children:R.category||"No category"})]},R.id))})}),!l&&g.jsxs(se,{mt:6,display:"flex",justifyContent:"center",alignItems:"center",gap:4,children:[g.jsx(he,{leftIcon:g.jsx(d3,{}),onClick:A,disabled:m===1,colorScheme:"red",variant:"solid",size:"md",children:"Previous"}),g.jsxs(se,{as:"span",fontSize:"lg",fontWeight:"semibold",px:3,py:1,borderRadius:"md",bg:"gray.100",color:"gray.700",display:"flex",alignItems:"center",children:[m," / ",u]}),g.jsx(he,{rightIcon:g.jsx(Yre,{}),onClick:k,disabled:m===u,colorScheme:"red",variant:"solid",size:"md",children:"Next"})]})]})};function ide(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NO={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=a.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=a.normalizePath(d.path),a.buildURLFromParts(d)}var f=a.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=a.normalizePath(f.path),a.buildURLFromParts(f)):c;var h=a.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var p=i.exec(h.path);h.netLoc=p[1],h.path=p[2]}h.netLoc&&!h.path&&(h.path="/");var m={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(m.netLoc=h.netLoc,f.path[0]!=="/"))if(!f.path)m.path=h.path,f.params||(m.params=h.params,f.query||(m.query=h.query));else{var y=h.path,v=y.substring(0,y.lastIndexOf("/")+1)+f.path;m.path=a.normalizePath(v)}return m.path===null&&(m.path=u.alwaysNormalize?a.normalizePath(f.path):f.path),a.buildURLFromParts(m)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(NO);var UT=NO.exports;function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ode(t){var e=sde(t,"string");return typeof e=="symbol"?e:String(e)}function ade(t,e,n){return e=ode(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gn(){return gn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gn.apply(this,arguments)}const ve=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},lde=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=cde},cde=Number.MAX_SAFE_INTEGER||9007199254740991;let _=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),Pe=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Z=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Oa=function(){},V1={trace:Oa,debug:Oa,log:Oa,warn:Oa,info:Oa,error:Oa};let of=V1;function ude(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Oa}function dde(t,...e){e.forEach(function(n){of[n]=t[n]?t[n].bind(t):ude(n)})}function fde(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){dde(t,"debug","log","info","warn","error");try{of.log(`Debug logs enabled for "${e}" in hls.js version 1.5.17`)}catch{of=V1}}else of=V1}const K=of,hde=/^(\d+)x(\d+)$/,YR=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Gt{constructor(e){typeof e=="string"&&(e=Gt.parseAttrList(e)),gn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=hde.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const r={},i='"';for(YR.lastIndex=0;(n=YR.exec(e))!==null;){let s=n[2];s.indexOf(i)===0&&s.lastIndexOf(i)===s.length-1&&(s=s.slice(1,-1));const o=n[1].trim();r[o]=s}return r}}function pde(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function mde(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class BO{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const r=n.attr;for(const i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){K.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=gn(new Gt({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);ve(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(ve(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&ve(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class dy{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var gt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class $O{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[gt.AUDIO]:null,[gt.VIDEO]:null,[gt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=(n==null?void 0:n.byteRangeEndOffset)||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=UT.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class lx extends $O{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new dy,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!ve(this.programDateTime))return null;const e=ve(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,s,o=!1){const{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:s,partial:o};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[gt.AUDIO]=null,e[gt.VIDEO]=null,e[gt.AUDIOVIDEO]=null}}class gde extends $O{constructor(e,n,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new dy,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const yde=10;class vde{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?ve(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||yde}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function VT(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function xde(t){const e=H1(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function bde(t){const e=function(r,i,s){const o=r[i];r[i]=r[s],r[s]=o};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function Sde(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",o=i[1];s?(r.splice(-1,1),n=VT(o)):n=xde(o)}}return n}function H1(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const mu=typeof self<"u"?self:void 0;var At={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},vr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function qR(t){switch(t){case vr.FAIRPLAY:return At.FAIRPLAY;case vr.PLAYREADY:return At.PLAYREADY;case vr.WIDEVINE:return At.WIDEVINE;case vr.CLEARKEY:return At.CLEARKEY}}var Ld={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",FAIRPLAY:"94ce86fb07ff4f43adb893d2fa968ca2",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function XR(t){if(t===Ld.WIDEVINE)return At.WIDEVINE;if(t===Ld.PLAYREADY)return At.PLAYREADY;if(t===Ld.CENC||t===Ld.CLEARKEY)return At.CLEARKEY}function QR(t){switch(t){case At.FAIRPLAY:return vr.FAIRPLAY;case At.PLAYREADY:return vr.PLAYREADY;case At.WIDEVINE:return vr.WIDEVINE;case At.CLEARKEY:return vr.CLEARKEY}}function cx(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[At.FAIRPLAY,At.WIDEVINE,At.PLAYREADY,At.CLEARKEY].filter(i=>!!e[i]):[];return!r[At.WIDEVINE]&&n&&r.push(At.WIDEVINE),r}const zO=function(t){return mu!=null&&(t=mu.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function wde(t,e,n,r){let i;switch(t){case At.FAIRPLAY:i=["cenc","sinf"];break;case At.WIDEVINE:case At.PLAYREADY:i=["cenc"];break;case At.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return Tde(i,e,n,r)}function Tde(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function ll(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const HT=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,UO=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Jf=(t,e)=>{const n=e;let r=0;for(;HT(t,e);){r+=10;const i=fy(t,e+6);r+=i,UO(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},fy=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},Ede=(t,e)=>HT(t,e)&&fy(t,e+6)+10<=t.length-e,WT=t=>{const e=HO(t);for(let n=0;n<e.length;n++){const r=e[n];if(VO(r))return Lde(r)}},VO=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",Cde=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=fy(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}},HO=t=>{let e=0;const n=[];for(;HT(t,e);){const r=fy(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const s=Cde(t.subarray(e)),o=kde(s);o&&n.push(o),e+=s.size+10}UO(t,e)&&(e+=10)}return n},kde=t=>t.type==="PRIV"?Ade(t):t.type[0]==="W"?_de(t):Rde(t),Ade=t=>{if(t.size<2)return;const e=Es(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},Rde=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=Es(t.data.subarray(n),!0);n+=r.length+1;const i=Es(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=Es(t.data.subarray(1));return{key:t.type,data:e}},_de=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=Es(t.data.subarray(n),!0);n+=r.length+1;const i=Es(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=Es(t.data);return{key:t.type,data:e}},Lde=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}},Es=(t,e=!1)=>{const n=Ide();if(n){const c=n.decode(t);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const r=t.length;let i,s,o,a="",l=0;for(;l<r;){if(i=t[l++],i===0&&e)return a;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:s=t[l++],a+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t[l++],o=t[l++],a+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}}return a};let ux;function Ide(){if(!navigator.userAgent.includes("PlayStation 4"))return!ux&&typeof self.TextDecoder<"u"&&(ux=new self.TextDecoder("utf-8")),ux}const ls={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},Bg=Math.pow(2,32)-1,Pde=[].push,WO={video:1,audio:2,id3:3,text:4};function wn(t){return String.fromCharCode.apply(null,t)}function GO(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function _e(t,e){const n=KO(t,e);return n<0?4294967296+n:n}function ZR(t,e){let n=_e(t,e);return n*=Math.pow(2,32),n+=_e(t,e+4),n}function KO(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function dx(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function Dde(t){const e=t.byteLength;for(let n=0;n<e;){const r=_e(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function Ne(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const s=_e(t,i),o=wn(t.subarray(i+4,i+8)),a=s>1?i+s:r;if(o===e[0])if(e.length===1)n.push(t.subarray(i+8,a));else{const l=Ne(t.subarray(i+8,a),e.slice(1));l.length&&Pde.apply(n,l)}i=a}return n}function Mde(t){const e=[],n=t[0];let r=8;const i=_e(t,r);r+=4;let s=0,o=0;n===0?(s=_e(t,r),o=_e(t,r+4),r+=8):(s=ZR(t,r),o=ZR(t,r+8),r+=16),r+=2;let a=t.length+o;const l=GO(t,r);r+=2;for(let c=0;c<l;c++){let u=r;const d=_e(t,u);u+=4;const f=d&2147483647;if((d&2147483648)>>>31===1)return K.warn("SIDX has hierarchical references (not supported)"),null;const p=_e(t,u);u+=4,e.push({referenceSize:f,subsegmentDuration:p,info:{duration:p/i,start:a,end:a+f-1}}),a+=f,u+=4,r=u}return{earliestPresentationTime:s,timescale:i,version:n,referencesCount:l,references:e}}function YO(t){const e=[],n=Ne(t,["moov","trak"]);for(let i=0;i<n.length;i++){const s=n[i],o=Ne(s,["tkhd"])[0];if(o){let a=o[0];const l=_e(o,a===0?12:20),c=Ne(s,["mdia","mdhd"])[0];if(c){a=c[0];const u=_e(c,a===0?12:20),d=Ne(s,["mdia","hdlr"])[0];if(d){const f=wn(d.subarray(8,12)),h={soun:gt.AUDIO,vide:gt.VIDEO}[f];if(h){const p=Ne(s,["mdia","minf","stbl","stsd"])[0],m=Ode(p);e[l]={timescale:u,type:h},e[h]=On({timescale:u,id:l},m)}}}}}return Ne(t,["moov","mvex","trex"]).forEach(i=>{const s=_e(i,4),o=e[s];o&&(o.default={duration:_e(i,12),flags:_e(i,20)})}),e}function Ode(t){const e=t.subarray(8),n=e.subarray(86),r=wn(e.subarray(4,8));let i=r;const s=r==="enca"||r==="encv";if(s){const a=Ne(e,[r])[0].subarray(r==="enca"?28:78);Ne(a,["sinf"]).forEach(c=>{const u=Ne(c,["schm"])[0];if(u){const d=wn(u.subarray(4,8));if(d==="cbcs"||d==="cenc"){const f=Ne(c,["frma"])[0];f&&(i=wn(f))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const o=Ne(n,["avcC"])[0];i+="."+_p(o[1])+_p(o[2])+_p(o[3]);break}case"mp4a":{const o=Ne(e,[r])[0],a=Ne(o.subarray(28),["esds"])[0];if(a&&a.length>12){let l=4;if(a[l++]!==3)break;l=fx(a,l),l+=2;const c=a[l++];if(c&128&&(l+=2),c&64&&(l+=a[l++]),a[l++]!==4)break;l=fx(a,l);const u=a[l++];if(u===64)i+="."+_p(u);else break;if(l+=12,a[l++]!==5)break;l=fx(a,l);const d=a[l++];let f=(d&248)>>3;f===31&&(f+=1+((d&7)<<3)+((a[l]&224)>>5)),i+="."+f}break}case"hvc1":case"hev1":{const o=Ne(n,["hvcC"])[0],a=o[1],l=["","A","B","C"][a>>6],c=a&31,u=_e(o,2),d=(a&32)>>5?"H":"L",f=o[12],h=o.subarray(6,12);i+="."+l+c,i+="."+u.toString(16).toUpperCase(),i+="."+d+f;let p="";for(let m=h.length;m--;){const y=h[m];(y||p)&&(p="."+y.toString(16).toUpperCase()+p)}i+=p;break}case"dvh1":case"dvhe":{const o=Ne(n,["dvcC"])[0],a=o[2]>>1&127,l=o[2]<<5&32|o[3]>>3&31;i+="."+rs(a)+"."+rs(l);break}case"vp09":{const o=Ne(n,["vpcC"])[0],a=o[4],l=o[5],c=o[6]>>4&15;i+="."+rs(a)+"."+rs(l)+"."+rs(c);break}case"av01":{const o=Ne(n,["av1C"])[0],a=o[1]>>>5,l=o[1]&31,c=o[2]>>>7?"H":"M",u=(o[2]&64)>>6,d=(o[2]&32)>>5,f=a===2&&u?d?12:10:u?10:8,h=(o[2]&16)>>4,p=(o[2]&8)>>3,m=(o[2]&4)>>2,y=o[2]&3;i+="."+a+"."+rs(l)+c+"."+rs(f)+"."+h+"."+p+m+y+"."+rs(1)+"."+rs(1)+"."+rs(1)+"."+0;break}}return{codec:i,encrypted:s}}function fx(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function _p(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function rs(t){return(t<10?"0":"")+t}function Fde(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&Ne(t,["moov","trak"]).forEach(i=>{const o=Ne(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=Ne(o,["enca"]);const l=a.length>0;l||(a=Ne(o,["encv"])),a.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);Ne(u,["sinf"]).forEach(f=>{const h=qO(f);if(h){const p=h.subarray(8,24);p.some(m=>m!==0)||(K.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${ls.hexDump(p)} -> ${ls.hexDump(n)}`),h.set(n,8))}})})}),t}function qO(t){const e=Ne(t,["schm"])[0];if(e){const n=wn(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return Ne(t,["schi","tenc"])[0]}return null}function jde(t,e){return Ne(e,["moof","traf"]).reduce((n,r)=>{const i=Ne(r,["tfdt"])[0],s=i[0],o=Ne(r,["tfhd"]).reduce((a,l)=>{const c=_e(l,4),u=t[c];if(u){let d=_e(i,4);if(s===1){if(d===Bg)return K.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;d*=Bg+1,d+=_e(i,8)}const f=u.timescale||9e4,h=d/f;if(ve(h)&&(a===null||h<a))return h}return a},null);return o!==null&&ve(o)&&(n===null||o<n)?o:n},null)}function Nde(t,e){let n=0,r=0,i=0;const s=Ne(t,["moof","traf"]);for(let o=0;o<s.length;o++){const a=s[o],l=Ne(a,["tfhd"])[0],c=_e(l,4),u=e[c];if(!u)continue;const d=u.default,f=_e(l,0)|(d==null?void 0:d.flags);let h=d==null?void 0:d.duration;f&8&&(f&2?h=_e(l,12):h=_e(l,8));const p=u.timescale||9e4,m=Ne(a,["trun"]);for(let y=0;y<m.length;y++){if(n=Bde(m[y]),!n&&h){const v=_e(m[y],4);n=h*v}u.type===gt.VIDEO?r+=n/p:u.type===gt.AUDIO&&(i+=n/p)}}if(r===0&&i===0){let o=1/0,a=0,l=0;const c=Ne(t,["sidx"]);for(let u=0;u<c.length;u++){const d=Mde(c[u]);if(d!=null&&d.references){o=Math.min(o,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((h,p)=>h+p.info.duration||0,0);a=Math.max(a,f+d.earliestPresentationTime/d.timescale),l=a-o}}if(l&&ve(l))return l}return r||i}function Bde(t){const e=_e(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const i=_e(t,4);for(let s=0;s<i;s++){if(e&256){const o=_e(t,n);r+=o,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function $de(t,e,n){Ne(e,["moof","traf"]).forEach(r=>{Ne(r,["tfhd"]).forEach(i=>{const s=_e(i,4),o=t[s];if(!o)return;const a=o.timescale||9e4;Ne(r,["tfdt"]).forEach(l=>{const c=l[0],u=n*a;if(u){let d=_e(l,4);if(c===0)d-=u,d=Math.max(d,0),dx(l,4,d);else{d*=Math.pow(2,32),d+=_e(l,8),d-=u,d=Math.max(d,0);const f=Math.floor(d/(Bg+1)),h=Math.floor(d%(Bg+1));dx(l,4,f),dx(l,8,h)}}})})})}function zde(t){const e={valid:null,remainder:null},n=Ne(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=ll(t,0,r.byteOffset-8),e.remainder=ll(t,r.byteOffset-8),e}function Li(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function JR(t,e){const n=[],r=e.samples,i=e.timescale,s=e.id;let o=!1;return Ne(r,["moof"]).map(l=>{const c=l.byteOffset-8;Ne(l,["traf"]).map(d=>{const f=Ne(d,["tfdt"]).map(h=>{const p=h[0];let m=_e(h,4);return p===1&&(m*=Math.pow(2,32),m+=_e(h,8)),m/i})[0];return f!==void 0&&(t=f),Ne(d,["tfhd"]).map(h=>{const p=_e(h,4),m=_e(h,0)&16777215,y=(m&1)!==0,v=(m&2)!==0,b=(m&8)!==0;let x=0;const S=(m&16)!==0;let T=0;const C=(m&32)!==0;let E=8;p===s&&(y&&(E+=8),v&&(E+=4),b&&(x=_e(h,E),E+=4),S&&(T=_e(h,E),E+=4),C&&(E+=4),e.type==="video"&&(o=Ude(e.codec)),Ne(d,["trun"]).map(k=>{const A=k[0],R=_e(k,0)&16777215,L=(R&1)!==0;let D=0;const P=(R&4)!==0,M=(R&256)!==0;let j=0;const F=(R&512)!==0;let O=0;const B=(R&1024)!==0,I=(R&2048)!==0;let $=0;const G=_e(k,4);let Y=8;L&&(D=_e(k,Y),Y+=4),P&&(Y+=4);let q=D+c;for(let te=0;te<G;te++){if(M?(j=_e(k,Y),Y+=4):j=x,F?(O=_e(k,Y),Y+=4):O=T,B&&(Y+=4),I&&(A===0?$=_e(k,Y):$=KO(k,Y),Y+=4),e.type===gt.VIDEO){let ae=0;for(;ae<O;){const le=_e(r,q);if(q+=4,Vde(o,r[q])){const Te=r.subarray(q,q+le);XO(Te,o?2:1,t+$/i,n)}q+=le,ae+=le+4}}t+=j/i}}))})})}),n}function Ude(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function Vde(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function XO(t,e,n,r){const i=QO(t);let s=0;s+=e;let o=0,a=0,l=0;for(;s<i.length;){o=0;do{if(s>=i.length)break;l=i[s++],o+=l}while(l===255);a=0;do{if(s>=i.length)break;l=i[s++],a+=l}while(l===255);const c=i.length-s;let u=s;if(a<c)s+=a;else if(a>c){K.error(`Malformed SEI payload. ${a} is too small, only ${c} bytes left to parse.`);break}if(o===4){if(i[u++]===181){const f=GO(i,u);if(u+=2,f===49){const h=_e(i,u);if(u+=4,h===1195456820){const p=i[u++];if(p===3){const m=i[u++],y=31&m,v=64&m,b=v?2+y*3:0,x=new Uint8Array(b);if(v){x[0]=m;for(let S=1;S<b;S++)x[S]=i[u++]}r.push({type:p,payloadType:o,pts:n,bytes:x})}}}}}else if(o===5&&a>16){const d=[];for(let p=0;p<16;p++){const m=i[u++].toString(16);d.push(m.length==1?"0"+m:m),(p===3||p===5||p===7||p===9)&&d.push("-")}const f=a-16,h=new Uint8Array(f);for(let p=0;p<f;p++)h[p]=i[u++];r.push({payloadType:o,pts:n,uuid:d.join(""),userData:Es(h),userDataBytes:h})}}}function QO(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,s=new Uint8Array(i);let o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),s[r]=t[o];return s}function Hde(t){const e=t[0];let n="",r="",i=0,s=0,o=0,a=0,l=0,c=0;if(e===0){for(;wn(t.subarray(c,c+1))!=="\0";)n+=wn(t.subarray(c,c+1)),c+=1;for(n+=wn(t.subarray(c,c+1)),c+=1;wn(t.subarray(c,c+1))!=="\0";)r+=wn(t.subarray(c,c+1)),c+=1;r+=wn(t.subarray(c,c+1)),c+=1,i=_e(t,12),s=_e(t,16),a=_e(t,20),l=_e(t,24),c=28}else if(e===1){c+=4,i=_e(t,c),c+=4;const d=_e(t,c);c+=4;const f=_e(t,c);for(c+=4,o=2**32*d+f,lde(o)||(o=Number.MAX_SAFE_INTEGER,K.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=_e(t,c),c+=4,l=_e(t,c),c+=4;wn(t.subarray(c,c+1))!=="\0";)n+=wn(t.subarray(c,c+1)),c+=1;for(n+=wn(t.subarray(c,c+1)),c+=1;wn(t.subarray(c,c+1))!=="\0";)r+=wn(t.subarray(c,c+1)),c+=1;r+=wn(t.subarray(c,c+1)),c+=1}const u=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:s,eventDuration:a,id:l,payload:u}}function Wde(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(t,4),i=0,r=8;i<n;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function Gde(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(o.buffer).setUint32(0,n.byteLength,!1),Wde([112,115,115,104],new Uint8Array([r,0,0,0]),t,s,i,o,n||new Uint8Array)}function Kde(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),s=Yde(i);e.push(s),r+=s.size}}return e}function Yde(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:n,size:e};const o=t.buffer,a=ls.hexDump(new Uint8Array(o,n+12,16)),l=t.getUint32(28);let c=null,u=null;if(s===0){if(e-32<l||l<22)return{offset:n,size:e};u=new Uint8Array(o,n+32,l)}else if(s===1){if(!l||r<n+32+l*16+16)return{offset:n,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(o,n+32+d*16,16))}return{version:s,systemId:a,kids:c,data:u,offset:n,size:e}}let Lp={};class eh{static clearKeyUriToKeyIdMap(){Lp={}}constructor(e,n,r,i=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case vr.FAIRPLAY:case vr.WIDEVINE:case vr.PLAYREADY:case vr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&K.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=qde(e);return new eh(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=Sde(this.uri);if(n)switch(this.keyFormat){case vr.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case vr.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Gde(r,null,n);const i=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),s=String.fromCharCode.apply(null,Array.from(i)),o=s.substring(s.indexOf("<"),s.length),c=new DOMParser().parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(c){const u=c.childNodes[0]?c.childNodes[0].nodeValue:c.getAttribute("VALUE");if(u){const d=VT(u).subarray(0,16);bde(d),this.keyId=d}}break}default:{let r=n.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=Lp[this.uri];if(!r){const i=Object.keys(Lp).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),Lp[this.uri]=r}this.keyId=r}return this}}function qde(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const ZO=/\{\$([a-zA-Z0-9-_]+)\}/g;function e_(t){return ZO.test(t)}function mr(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],s=e[i];s&&(e[i]=W1(t,s))}}function W1(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(ZO,r=>{const i=r.substring(2,r.length-1),s=n==null?void 0:n[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function t_(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(n).searchParams;if(o.has(i))s=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(o){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,s=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function Xde(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function wl(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Qde(t){return typeof self<"u"&&t===self.ManagedMediaSource}const $g={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Zde(t,e){const n=$g[e];return!!n&&!!n[t.slice(0,4)]}function hx(t,e,n=!0){return!t.split(",").some(r=>!JO(r,e,n))}function JO(t,e,n=!0){var r;const i=wl(n);return(r=i==null?void 0:i.isTypeSupported(th(t,e)))!=null?r:!1}function th(t,e){return`${e}/mp4;codecs="${t}"`}function n_(t){if(t){const e=t.substring(0,4);return $g.video[e]}return 2}function zg(t){return t.split(",").reduce((e,n)=>{const r=$g.video[n];return r?(r*2+e)/(e?3:2):($g.audio[n]+e)/(e?2:1)},0)}const px={};function Jde(t,e=!0){if(px[t])return px[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(JO(n[r],"audio",e))return px[t]=n[r],n[r];return t}const efe=/flac|opus/i;function Ug(t,e=!0){return t.replace(efe,n=>Jde(n.toLowerCase(),e))}function r_(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function tfe(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");if(r.length>2){let i=r.shift()+".";i+=parseInt(r.shift()).toString(16),i+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[n]=i}}return e.join(",")}const i_=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,s_=/#EXT-X-MEDIA:(.*)/g,nfe=/^#EXT(?:INF|-X-TARGETDURATION):/m,o_=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),rfe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ms{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return UT.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return nfe.test(e)}static parseMasterPlaylist(e,n){const r=e_(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];i_.lastIndex=0;let o;for(;(o=i_.exec(e))!=null;)if(o[1]){var a;const c=new Gt(o[1]);mr(i,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=W1(i,o[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:ms.resolve(u,n)},f=c.decimalResolution("RESOLUTION");f&&(d.width=f.width,d.height=f.height),ife(c.CODECS,d),(a=d.unknownCodecs)!=null&&a.length||s.push(d),i.levels.push(d)}else if(o[3]){const c=o[3],u=o[4];switch(c){case"SESSION-DATA":{const d=new Gt(u);mr(i,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const f=d["DATA-ID"];f&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[f]=d);break}case"SESSION-KEY":{const d=a_(u,n,i);d.encrypted&&d.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(d)):K.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new Gt(u);mr(i,d,["NAME","VALUE","QUERYPARAM"]),t_(i,d,n)}break}case"CONTENT-STEERING":{const d=new Gt(u);mr(i,d,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:ms.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=l_(u);break}}}const l=s.length>0&&s.length<i.levels.length;return i.levels=l?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const s={},o=r.levels,a={AUDIO:o.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:o.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(s_.lastIndex=0;(i=s_.exec(e))!==null;){const c=new Gt(i[1]),u=c.TYPE;if(u){const d=a[u],f=s[u]||[];s[u]=f,mr(r,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const h=c.LANGUAGE,p=c["ASSOC-LANGUAGE"],m=c.CHANNELS,y=c.CHARACTERISTICS,v=c["INSTREAM-ID"],b={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||h||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:h,url:c.URI?ms.resolve(c.URI,n):""};if(p&&(b.assocLang=p),m&&(b.channels=m),y&&(b.characteristics=y),v&&(b.instreamId=v),d!=null&&d.length){const x=ms.findGroup(d,b.groupId)||d[0];c_(b,x,"audioCodec"),c_(b,x,"textCodec")}f.push(b)}}return s}static parseLevelPlaylist(e,n,r,i,s,o){const a=new vde(n),l=a.fragments;let c=null,u=0,d=0,f=0,h=0,p=null,m=new lx(i,n),y,v,b,x=-1,S=!1,T=null;for(o_.lastIndex=0,a.m3u8=e,a.hasVariableRefs=e_(e);(y=o_.exec(e))!==null;){S&&(S=!1,m=new lx(i,n),m.start=f,m.sn=u,m.cc=h,m.level=r,c&&(m.initSegment=c,m.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,T&&(m.setByteRange(T),T=null)));const A=y[1];if(A){m.duration=parseFloat(A);const R=(" "+y[2]).slice(1);m.title=R||null,m.tagList.push(R?["INF",A,R]:["INF",A])}else if(y[3]){if(ve(m.duration)){m.start=f,b&&f_(m,b,a),m.sn=u,m.level=r,m.cc=h,l.push(m);const R=(" "+y[3]).slice(1);m.relurl=W1(a,R),u_(m,p),p=m,f+=m.duration,u++,d=0,S=!0}}else if(y[4]){const R=(" "+y[4]).slice(1);p?m.setByteRange(R,p):m.setByteRange(R)}else if(y[5])m.rawProgramDateTime=(" "+y[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),x===-1&&(x=l.length);else{if(y=y[0].match(rfe),!y){K.warn("No matches on slow regex match for level playlist!");continue}for(v=1;v<y.length&&!(typeof y[v]<"u");v++);const R=(" "+y[v]).slice(1),L=(" "+y[v+1]).slice(1),D=y[v+2]?(" "+y[v+2]).slice(1):"";switch(R){case"PLAYLIST-TYPE":a.type=L.toUpperCase();break;case"MEDIA-SEQUENCE":u=a.startSN=parseInt(L);break;case"SKIP":{const P=new Gt(L);mr(a,P,["RECENTLY-REMOVED-DATERANGES"]);const M=P.decimalInteger("SKIPPED-SEGMENTS");if(ve(M)){a.skippedSegments=M;for(let F=M;F--;)l.unshift(null);u+=M}const j=P.enumeratedString("RECENTLY-REMOVED-DATERANGES");j&&(a.recentlyRemovedDateranges=j.split("	"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(L),1);break;case"VERSION":a.version=parseInt(L);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(L||D)&&m.tagList.push(D?[L,D]:[L]);break;case"DISCONTINUITY":h++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([R]);break;case"BITRATE":m.tagList.push([R,L]);break;case"DATERANGE":{const P=new Gt(L);mr(a,P,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),mr(a,P,P.clientAttrs);const M=new BO(P,a.dateRanges[P.ID]);M.isValid||a.skippedSegments?a.dateRanges[M.id]=M:K.warn(`Ignoring invalid DATERANGE tag: "${L}"`),m.tagList.push(["EXT-X-DATERANGE",L]);break}case"DEFINE":{{const P=new Gt(L);mr(a,P,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in P?Xde(a,P,o):t_(a,P,n)}break}case"DISCONTINUITY-SEQUENCE":h=parseInt(L);break;case"KEY":{const P=a_(L,n,a);if(P.isSupported()){if(P.method==="NONE"){b=void 0;break}b||(b={}),b[P.keyFormat]&&(b=gn({},b)),b[P.keyFormat]=P}else K.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${L}"`);break}case"START":a.startTimeOffset=l_(L);break;case"MAP":{const P=new Gt(L);if(mr(a,P,["BYTERANGE","URI"]),m.duration){const M=new lx(i,n);d_(M,P,r,b),c=M,m.initSegment=c,c.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=c.rawProgramDateTime)}else{const M=m.byteRangeEndOffset;if(M){const j=m.byteRangeStartOffset;T=`${M-j}@${j}`}else T=null;d_(m,P,r,b),c=m,S=!0}break}case"SERVER-CONTROL":{const P=new Gt(L);a.canBlockReload=P.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=P.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&P.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=P.optionalFloat("PART-HOLD-BACK",0),a.holdBack=P.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const P=new Gt(L);a.partTarget=P.decimalFloatingPoint("PART-TARGET");break}case"PART":{let P=a.partList;P||(P=a.partList=[]);const M=d>0?P[P.length-1]:void 0,j=d++,F=new Gt(L);mr(a,F,["BYTERANGE","URI"]);const O=new gde(F,m,n,j,M);P.push(O),m.duration+=O.duration;break}case"PRELOAD-HINT":{const P=new Gt(L);mr(a,P,["URI"]),a.preloadHint=P;break}case"RENDITION-REPORT":{const P=new Gt(L);mr(a,P,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(P);break}default:K.warn(`line parsed but not handled: ${y}`);break}}}p&&!p.relurl?(l.pop(),f-=p.duration,a.partList&&(a.fragmentHint=p)):a.partList&&(u_(m,p),m.cc=h,a.fragmentHint=m,b&&f_(m,b,a));const C=l.length,E=l[0],k=l[C-1];if(f+=a.skippedSegments*a.targetduration,f>0&&C&&k){a.averagetargetduration=f/C;const A=k.sn;a.endSN=A!=="initSegment"?A:0,a.live||(k.endList=!0),E&&(a.startCC=E.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(f+=a.fragmentHint.duration),a.totalduration=f,a.endCC=h,x>0&&sfe(l,x),a}}function a_(t,e,n){var r,i;const s=new Gt(t);mr(n,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const o=(r=s.METHOD)!=null?r:"",a=s.URI,l=s.hexadecimalInteger("IV"),c=s.KEYFORMATVERSIONS,u=(i=s.KEYFORMAT)!=null?i:"identity";a&&s.IV&&!l&&K.error(`Invalid IV: ${s.IV}`);const d=a?ms.resolve(a,e):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new eh(o,d,u,f,l)}function l_(t){const n=new Gt(t).decimalFloatingPoint("TIME-OFFSET");return ve(n)?n:null}function ife(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(s=>Zde(s,r));i.length&&(e[`${r}Codec`]=i.join(","),n=n.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=n}function c_(t,e,n){const r=e[n];r&&(t[n]=r)}function sfe(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function u_(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),ve(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function d_(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function f_(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}var et={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Le={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function h_(t){const{type:e}=t;switch(e){case et.AUDIO_TRACK:return Le.AUDIO;case et.SUBTITLE_TRACK:return Le.SUBTITLE;default:return Le.MAIN}}function mx(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class ofe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(_.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_LOADING,this.onLevelLoading,this),e.off(_.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(_.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,s=r||i,o=new s(n);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:et.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:s,url:o,deliveryDirectives:a}=n;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:et.LEVEL,url:o,deliveryDirectives:a})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:et.AUDIO_TRACK,url:s,deliveryDirectives:o})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:et.SUBTITLE_TRACK,url:s,deliveryDirectives:o})}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const c=i.context;if(c&&c.url===e.url&&c.level===e.level){K.trace("[playlist-loader]: playlist request ongoing");return}K.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===et.MANIFEST?s=r.manifestLoadPolicy.default:s=gn({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),ve((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===et.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===et.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===et.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const f=Math.max(u*3,d*.8)*1e3;s=gn({},s,{maxTimeToFirstByteMs:Math.min(f,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},a={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(c,u,d,f)=>{const h=this.getInternalLoader(d);this.resetInternalLoader(d.type);const p=c.data;if(p.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),f||null,u);return}u.parsing.start=performance.now(),ms.isMediaPlaylist(p)?this.handleTrackOrLevelPlaylist(c,u,d,f||null,h):this.handleMasterPlaylist(c,u,d,f)},onError:(c,u,d,f)=>{this.handleNetworkError(u,d,!1,c,f)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};i.load(e,a,l)}handleMasterPlaylist(e,n,r,i){const s=this.hls,o=e.data,a=mx(e,r),l=ms.parseMasterPlaylist(o,a);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,i,n);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:p}=l;this.variableList=p;const{AUDIO:m=[],SUBTITLES:y,"CLOSED-CAPTIONS":v}=ms.parseMasterPlaylistMedia(o,a,l);m.length&&!m.some(x=>!x.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(K.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Gt({}),bitrate:0,url:""})),s.trigger(_.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:y,captions:v,contentSteering:c,url:a,stats:n,networkDetails:i,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:p})}handleTrackOrLevelPlaylist(e,n,r,i,s){const o=this.hls,{id:a,level:l,type:c}=r,u=mx(e,r),d=0,f=ve(l)?l:ve(a)?a:0,h=h_(r),p=ms.parseLevelPlaylist(e.data,u,f,h,d,this.variableList);if(c===et.MANIFEST){const m={attrs:new Gt({}),bitrate:0,details:p,name:"",url:u};o.trigger(_.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=p,this.handlePlaylistLoaded(p,e,n,r,i,s)}handleManifestParsingError(e,n,r,i,s){this.hls.trigger(_.ERROR,{type:Pe.NETWORK_ERROR,details:Z.MANIFEST_PARSING_ERROR,fatal:n.type===et.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:s})}handleNetworkError(e,n,r=!1,i,s){let o=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===et.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===et.AUDIO_TRACK||e.type===et.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(o);K.warn(`[playlist-loader]: ${o}`);let l=Z.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case et.MANIFEST:l=r?Z.MANIFEST_LOAD_TIMEOUT:Z.MANIFEST_LOAD_ERROR,c=!0;break;case et.LEVEL:l=r?Z.LEVEL_LOAD_TIMEOUT:Z.LEVEL_LOAD_ERROR,c=!1;break;case et.AUDIO_TRACK:l=r?Z.AUDIO_TRACK_LOAD_TIMEOUT:Z.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case et.SUBTITLE_TRACK:l=r?Z.SUBTITLE_TRACK_LOAD_TIMEOUT:Z.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:Pe.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:a,networkDetails:n,stats:s};if(i){const f=(n==null?void 0:n.url)||e.url;d.response=On({url:f,data:void 0},i)}this.hls.trigger(_.ERROR,d)}handlePlaylistLoaded(e,n,r,i,s,o){const a=this.hls,{type:l,level:c,id:u,groupId:d,deliveryDirectives:f}=i,h=mx(n,i),p=h_(i),m=typeof i.level=="number"&&p===Le.MAIN?c:void 0;if(!e.fragments.length){const v=new Error("No Segments found in Playlist");a.trigger(_.ERROR,{type:Pe.NETWORK_ERROR,details:Z.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:n,context:i,level:m,parent:p,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const y=e.playlistParsingError;if(y){a.trigger(_.ERROR,{type:Pe.NETWORK_ERROR,details:Z.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:y,reason:y.message,response:n,context:i,level:m,parent:p,networkDetails:s,stats:r});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case et.MANIFEST:case et.LEVEL:a.trigger(_.LEVEL_LOADED,{details:e,level:m||0,id:u||0,stats:r,networkDetails:s,deliveryDirectives:f});break;case et.AUDIO_TRACK:a.trigger(_.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:f});break;case et.SUBTITLE_TRACK:a.trigger(_.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:f});break}}}function eF(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function tF(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){K.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){K.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function Ec(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function G1(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=lfe(t.cues,e,n);for(let o=0;o<s.length;o++)(!r||r(s[o]))&&t.removeCue(s[o])}i==="disabled"&&(t.mode=i)}function afe(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const s=Math.floor((i+r)/2);if(e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&r<n)r=s+1;else return s}return t[r].startTime-e<e-t[i].startTime?r:i}function lfe(t,e,n){const r=[],i=afe(t,e);if(i>-1)for(let s=i,o=t.length;s<o;s++){const a=t[s];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}function Am(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}var Ui={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const cfe=.25;function K1(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function p_(t,e,n,r,i){let s=new t(e,n,"");try{s.value=r,i&&(s.type=i)}catch{s=new t(e,n,JSON.stringify(i?On({type:i},r):r))}return s}const Ip=(()=>{const t=K1();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function gx(t,e){return t.getTime()/1e3-e}function ufe(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class dfe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(Ec(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return eF(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=K1();if(o)for(let a=0;a<s.length;a++){const l=s[a].type;if(l===Ui.emsg&&!r||!i)continue;const c=HO(s[a].data);if(c){const u=s[a].pts;let d=u+s[a].duration;d>Ip&&(d=Ip),d-u<=0&&(d=u+cfe);for(let h=0;h<c.length;h++){const p=c[h];if(!VO(p)){this.updateId3CueEnds(u,l);const m=p_(o,u,d,p,l);m&&this.id3Track.addCue(m)}}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const o=i[s];o.type===n&&o.startTime<e&&o.endTime===Ip&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=o;if(s&&(a||l)){let c;i==="audio"?c=u=>u.type===Ui.audioId3&&l:i==="video"?c=u=>u.type===Ui.emsg&&a:c=u=>u.type===Ui.audioId3&&l||u.type===Ui.emsg&&a,G1(s,n,r,c)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:s}=n,o=Object.keys(s);if(i){const u=Object.keys(r).filter(d=>!o.includes(d));for(let d=u.length;d--;){const f=u[d];Object.keys(r[f].cues).forEach(h=>{i.removeCue(r[f].cues[h])}),delete r[f]}}const a=n.fragments[n.fragments.length-1];if(o.length===0||!ve(a==null?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=a.programDateTime/1e3-a.start,c=K1();for(let u=0;u<o.length;u++){const d=o[u],f=s[d],h=gx(f.startDate,l),p=r[d],m=(p==null?void 0:p.cues)||{};let y=(p==null?void 0:p.durationKnown)||!1,v=Ip;const b=f.endDate;if(b)v=gx(b,l),y=!0;else if(f.endOnNext&&!y){const S=o.reduce((T,C)=>{if(C!==f.id){const E=s[C];if(E.class===f.class&&E.startDate>f.startDate&&(!T||f.startDate<T.startDate))return E}return T},null);S&&(v=gx(S.startDate,l),y=!0)}const x=Object.keys(f.attr);for(let S=0;S<x.length;S++){const T=x[S];if(!pde(T))continue;const C=m[T];if(C)y&&!p.durationKnown&&(C.endTime=v);else if(c){let E=f.attr[T];mde(T)&&(E=ufe(E));const k=p_(c,h,v,{key:T,data:E},Ui.dateRange);k&&(k.id=d,this.id3Track.addCue(k),m[T]=k)}}r[d]={cues:m,dateRange:f,durationKnown:y}}}}class ffe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,l=this.hls.userConfig;let c=a&&r||n;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=s!==void 0?s:o*i);const u=i;return c+Math.min(this.stallCount*1,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,r=this.levelDetails;if(e===null||n===null||r===null)return null;const i=r.edge,s=e-n-this.edgeStalled,o=i-r.totalduration,a=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,s),a)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(_.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(_.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(_.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(_.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var r;n.details===Z.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&K.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const a=r-o,l=Math.min(this.maxLatency,o+n.targetduration);if(a<l&&a>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,s)),d=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const Y1=["NONE","TYPE-0","TYPE-1",null];function hfe(t){return Y1.indexOf(t)>-1}const Vg=["SDR","PQ","HLG"];function pfe(t){return!!t&&Vg.indexOf(t)>-1}var Rm={No:"",Yes:"YES",v2:"v2"};function m_(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?Rm.v2:Rm.Yes:Rm.No}class g_{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class gu{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return y_(this._audioGroups,e)}hasSubtitleGroup(e){return y_(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function y_(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function yx(t,e){const n=e.startPTS;if(ve(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&(i.duration=r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function nF(t,e,n,r,i,s){r-n<=0&&(K.warn("Fragment should have a positive duration",e),r=n+e.duration,s=i+e.duration);let a=n,l=r;const c=e.startPTS,u=e.endPTS;if(ve(c)){const y=Math.abs(c-n);ve(e.deltaPTS)?e.deltaPTS=Math.max(y,e.deltaPTS):e.deltaPTS=y,a=Math.max(n,c),n=Math.min(n,c),i=Math.min(i,e.startDTS),l=Math.min(r,u),r=Math.max(r,u),s=Math.max(s,e.endDTS)}const d=n-e.start;e.start!==0&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=i,e.endPTS=r,e.minEndPTS=l,e.endDTS=s;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let h;const p=f-t.startSN,m=t.fragments;for(m[p]=e,h=p;h>0;h--)yx(m[h],m[h-1]);for(h=p;h<m.length-1;h++)yx(m[h],m[h+1]);return t.fragmentHint&&yx(m[m.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function mfe(t,e){let n=null;const r=t.fragments;for(let l=r.length-1;l>=0;l--){const c=r[l].initSegment;if(c){n=c;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i=0,s;if(vfe(t,e,(l,c)=>{l.relurl&&(i=l.cc-c.cc),ve(l.startPTS)&&ve(l.endPTS)&&(c.start=c.startPTS=l.startPTS,c.startDTS=l.startDTS,c.maxStartPTS=l.maxStartPTS,c.endPTS=l.endPTS,c.endDTS=l.endDTS,c.minEndPTS=l.minEndPTS,c.duration=l.endPTS-l.startPTS,c.duration&&(s=c),e.PTSKnown=e.alignedSliding=!0),c.elementaryStreams=l.elementaryStreams,c.loader=l.loader,c.stats=l.stats,l.initSegment&&(c.initSegment=l.initSegment,n=l.initSegment)}),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(c=>{var u;c&&(!c.initSegment||c.initSegment.relurl===((u=n)==null?void 0:u.relurl))&&(c.initSegment=n)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(l=>!l),e.deltaUpdateFailed){K.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=gfe(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const o=e.fragments;if(i){K.warn("discontinuity sliding from playlist, take drift into account");for(let l=0;l<o.length;l++)o[l].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),yfe(t.partList,e.partList,(l,c)=>{c.elementaryStreams=l.elementaryStreams,c.stats=l.stats}),s?nF(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):rF(t,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const l=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=l),e.driftEndTime=a,e.driftEnd=l}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function gfe(t,e,n){const r=gn({},t);return n&&n.forEach(i=>{delete r[i]}),Object.keys(e).forEach(i=>{const s=new BO(e[i].attr,r[i]);s.isValid?r[i]=s:K.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),r}function yfe(t,e,n){if(t&&e){let r=0;for(let i=0,s=t.length;i<=s;i++){const o=t[i],a=e[i+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}function vfe(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=i;c<=s;c++){const u=l[o+c];let d=a[c];r&&!d&&c<r&&(d=e.fragments[c]=u),u&&d&&n(u,d)}}function rF(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||q1(e,r[n].start)}function q1(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function xfe(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const s=r[r.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function bfe(t,e,n){if(!(t!=null&&t.details))return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&n&&n.sn===e?n:null}function v_(t,e,n){var r;return t!=null&&t.details?iF((r=t.details)==null?void 0:r.partList,e,n):null}function iF(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function sF(t){t.forEach((e,n)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(i=>{i.level=n})})}function Hg(t){switch(t.details){case Z.FRAG_LOAD_TIMEOUT:case Z.KEY_LOAD_TIMEOUT:case Z.LEVEL_LOAD_TIMEOUT:case Z.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function x_(t,e){const n=Hg(e);return t.default[`${n?"timeout":"error"}Retry`]}function GT(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function b_(t){return On(On({},t),{errorRetry:null,timeoutRetry:null})}function Wg(t,e,n,r){if(!t)return!1;const i=r==null?void 0:r.code,s=e<t.maxNumRetry&&(Sfe(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,s):s}function Sfe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const oF={search:function(t,e){let n=0,r=t.length-1,i=null,s=null;for(;n<=r;){i=(n+r)/2|0,s=t[i];const o=e(s);if(o>0)n=i+1;else if(o<0)r=i-1;else return s}return null}};function wfe(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!ve(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;n=n||0;for(let s=0;s<t.length;++s){const o=t[s];if(Efe(e,n,o))return o}return null}function Gg(t,e,n=0,r=0,i=.005){let s=null;if(t){s=e[t.sn-e[0].sn+1]||null;const a=t.endDTS-n;a>0&&a<15e-7&&(n+=15e-7)}else n===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&X1(n,r,s)===0||Tfe(s,t,Math.min(i,r))))return s;const o=oF.search(e,X1.bind(null,n,r));return o&&(o!==t||!s)?o:s}function Tfe(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),n);return t.start<=r}return!1}function X1(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function Efe(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function Cfe(t,e){return oF.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}var $n={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},Fi={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class kfe{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=K.log.bind(K,"[info]:"),this.warn=K.warn.bind(K,"[warning]:"),this.error=K.error.bind(K,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(_.ERROR,this.onError,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(_.ERROR,this.onError,this),e.off(_.ERROR,this.onErrorOut,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Le.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r,i;if(n.fatal)return;const s=this.hls,o=n.context;switch(n.details){case Z.FRAG_LOAD_ERROR:case Z.FRAG_LOAD_TIMEOUT:case Z.KEY_LOAD_ERROR:case Z.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Z.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction={action:$n.DoNothing,flags:Fi.None};return}case Z.FRAG_GAP:case Z.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=$n.SendAlternateToPenaltyBox;return}case Z.LEVEL_EMPTY_ERROR:case Z.LEVEL_PARSING_ERROR:{var a,l;const c=n.parent===Le.MAIN?n.level:s.loadLevel;n.details===Z.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(l=a.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case Z.LEVEL_LOAD_ERROR:case Z.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case Z.AUDIO_TRACK_LOAD_ERROR:case Z.AUDIO_TRACK_LOAD_TIMEOUT:case Z.SUBTITLE_LOAD_ERROR:case Z.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const c=s.levels[s.loadLevel];if(c&&(o.type===et.AUDIO_TRACK&&c.hasAudioGroup(o.groupId)||o.type===et.SUBTITLE_TRACK&&c.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=$n.SendAlternateToPenaltyBox,n.errorAction.flags=Fi.MoveAllAlternatesMatchingHost;return}}return;case Z.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=s.levels[s.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?n.errorAction={action:$n.SendAlternateToPenaltyBox,flags:Fi.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(n)}return;case Z.BUFFER_ADD_CODEC_ERROR:case Z.REMUX_ALLOC_ERROR:case Z.BUFFER_APPEND_ERROR:n.errorAction=this.getLevelSwitchAction(n,(i=n.level)!=null?i:s.loadLevel);return;case Z.INTERNAL_EXCEPTION:case Z.BUFFER_APPENDING_ERROR:case Z.BUFFER_FULL_ERROR:case Z.LEVEL_SWITCH_ERROR:case Z.BUFFER_STALLED_ERROR:case Z.BUFFER_SEEK_OVER_HOLE:case Z.BUFFER_NUDGE_ON_STALL:n.errorAction={action:$n.DoNothing,flags:Fi.None};return}n.type===Pe.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=x_(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(Wg(i,s,Hg(e),e.response))return{action:$n.RetryRequest,flags:Fi.None,retryConfig:i,retryCount:s};const a=this.getLevelSwitchAction(e,n);return i&&(a.retryConfig=i,a.retryCount=s),a}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:s,keyLoadPolicy:o}=n.config,a=x_(e.details.startsWith("key")?o:s,e),l=n.levels.reduce((u,d)=>u+d.fragmentError,0);if(i&&(e.details!==Z.FRAG_GAP&&i.fragmentError++,Wg(a,l,Hg(e),e.response)))return{action:$n.RetryRequest,flags:Fi.None,retryConfig:a,retryCount:l};const c=this.getLevelSwitchAction(e,r);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var s,o;const c=e.details;i.loadError++,c===Z.BUFFER_APPEND_ERROR&&i.fragmentError++;let u=-1;const{levels:d,loadLevel:f,minAutoLevel:h,maxAutoLevel:p}=r;r.autoLevelEnabled||(r.loadLevel=-1);const m=(s=e.frag)==null?void 0:s.type,v=(m===Le.AUDIO&&c===Z.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===Z.BUFFER_ADD_CODEC_ERROR||c===Z.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:C})=>i.audioCodec!==C),x=e.sourceBufferName==="video"&&(c===Z.BUFFER_ADD_CODEC_ERROR||c===Z.BUFFER_APPEND_ERROR)&&d.some(({codecSet:C,audioCodec:E})=>i.codecSet!==C&&i.audioCodec===E),{type:S,groupId:T}=(o=e.context)!=null?o:{};for(let C=d.length;C--;){const E=(C+f)%d.length;if(E!==f&&E>=h&&E<=p&&d[E].loadError===0){var a,l;const k=d[E];if(c===Z.FRAG_GAP&&m===Le.MAIN&&e.frag){const A=d[E].details;if(A){const R=Gg(e.frag,A.fragments,e.frag.start);if(R!=null&&R.gap)continue}}else{if(S===et.AUDIO_TRACK&&k.hasAudioGroup(T)||S===et.SUBTITLE_TRACK&&k.hasSubtitleGroup(T))continue;if(m===Le.AUDIO&&(a=i.audioGroups)!=null&&a.some(A=>k.hasAudioGroup(A))||m===Le.SUBTITLE&&(l=i.subtitleGroups)!=null&&l.some(A=>k.hasSubtitleGroup(A))||v&&i.audioCodec===k.audioCodec||!v&&i.audioCodec!==k.audioCodec||x&&i.codecSet===k.codecSet)continue}u=E;break}}if(u>-1&&r.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:$n.SendAlternateToPenaltyBox,flags:Fi.None,nextAutoLevel:u}}return{action:$n.SendAlternateToPenaltyBox,flags:Fi.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case $n.DoNothing:break;case $n.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Z.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:o}=r;switch(i){case Fi.None:this.switchLevel(e,o);break;case Fi.MoveAllAlternatesMatchingHDCP:s&&(n.maxHdcpLevel=Y1[Y1.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class KT{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=K.log.bind(K,`${n}:`),this.warn=K.warn.bind(K,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n==null?void 0:n.renditionReports;if(i){let s=-1;for(let o=0;o<i.length;o++){const a=i[o];let l;try{l=new self.URL(a.URI,n.url).href}catch(c){K.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){s=o;break}else l===e.substring(0,l.length)&&(s=o)}if(s!==-1){const o=i[s],a=parseInt(o["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let l=parseInt(o["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&u>n.partTarget&&(l+=1)}const c=r&&m_(r);return new g_(a,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,r){const{details:i,stats:s}=n,o=self.performance.now(),a=s.loading.first?Math.max(0,o-s.loading.first):0;if(i.advancedDateTime=Date.now()-a,i.live||r!=null&&r.live){if(i.reloaded(r),r&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),r&&i.fragments.length>0&&mfe(r,i),!this.canLoad||!i.live)return;let l,c,u;if(i.canBlockReload&&i.endSN&&i.advanced){const y=this.hls.config.lowLatencyMode,v=i.lastPartSn,b=i.endSN,x=i.lastPartIndex,S=x!==-1,T=v===b,C=y?0:x;S?(c=T?b+1:v,u=T?C:x+1):c=b+1;const E=i.age,k=E+i.ageHeader;let A=Math.min(k-i.partTarget,i.targetduration*1.5);if(A>0){if(r&&A>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${A} with playlist age: ${i.age}`),A=0;else{const R=Math.floor(A/i.targetduration);if(c+=R,u!==void 0){const L=Math.round(A%i.targetduration/i.partTarget);u+=L}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${E.toFixed(2)}s goal: ${A} skip sn ${R} to part ${u}`)}i.tuneInGoal=A}if(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,u),y||!T){this.loadPlaylist(l);return}}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,u));const d=this.hls.mainForwardBufferInfo,f=d?d.end-d.len:0,h=(i.edge-f)*1e3,p=xfe(i,h);i.updated&&o>this.requestScheduled+p&&(this.requestScheduled=s.loading.start),c!==void 0&&i.canBlockReload?this.requestScheduled=s.loading.first+p-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+p<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=p);let m=this.requestScheduled-o;m=Math.max(0,m),this.log(`reload live playlist ${e} in ${Math.round(m)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),m)}else this.clearTimer()}getDeliveryDirectives(e,n,r,i){let s=m_(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,s=Rm.No),new g_(r,i,s)}checkRetry(e){const n=e.details,r=Hg(e),i=e.errorAction,{action:s,retryCount:o=0,retryConfig:a}=i||{},l=!!i&&!!a&&(s===$n.RetryRequest||!i.resolved&&s===$n.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=GT(a,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" in ${u}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}class ql{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Afe{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ql(e),this.fast_=new ql(n),this.defaultTTFB_=i,this.ttfb_=new ql(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new ql(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new ql(n,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new ql(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const aF={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},S_={};function Rfe(t,e,n,r,i,s){const o=t.audioCodec?t.audioGroups:null,a=s==null?void 0:s.audioCodec,l=s==null?void 0:s.channels,c=l?parseInt(l):a?1/0:2;let u=null;if(o!=null&&o.length)try{o.length===1&&o[0]?u=e.groups[o[0]].channels:u=o.reduce((d,f)=>{if(f){const h=e.groups[f];if(!h)throw new Error(`Audio track group ${f} not found`);Object.keys(h.channels).forEach(p=>{d[p]=(d[p]||0)+h.channels[p]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!u&&ve(c)&&Object.keys(u).some(d=>parseInt(d)>c)}function _fe(t,e,n){const r=t.videoCodec,i=t.audioCodec;if(!r||!i||!n)return Promise.resolve(aF);const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},o=t.videoRange;o!=="SDR"&&(s.transferFunction=o.toLowerCase());const a=r.split(",").map(l=>({type:"media-source",video:On(On({},s),{},{contentType:th(l,"video")})}));return i&&t.audioGroups&&t.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){const d=u.channels||"",f=parseFloat(d);ve(f)&&f>2&&a.push.apply(a,i.split(",").map(h=>({type:"media-source",audio:{contentType:th(h,"audio"),channels:""+f}})))}}))}),Promise.all(a.map(l=>{const c=Lfe(l);return S_[c]||(S_[c]=n.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:a,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:a,decodingInfoResults:[],error:l}))}function Lfe(t){const{audio:e,video:n}=t,r=n||e;if(r){const i=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${i}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}function Ife(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function Pfe(t,e){let n=!1,r=[];return t&&(n=t!=="SDR",r=[t]),e&&(r=e.allowedVideoRanges||Vg.slice(0),n=e.preferHDR!==void 0?e.preferHDR:Ife(),n?r=r.filter(i=>i!=="SDR"):r=["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function Dfe(t,e,n,r,i){const s=Object.keys(t),o=r==null?void 0:r.channels,a=r==null?void 0:r.audioCodec,l=o&&parseInt(o)===2;let c=!0,u=!1,d=1/0,f=1/0,h=1/0,p=0,m=[];const{preferHDR:y,allowedVideoRanges:v}=Pfe(e,i);for(let T=s.length;T--;){const C=t[s[T]];c=C.channels[2]>0,d=Math.min(d,C.minHeight),f=Math.min(f,C.minFramerate),h=Math.min(h,C.minBitrate);const E=v.filter(k=>C.videoRanges[k]>0);E.length>0&&(u=!0,m=E)}d=ve(d)?d:0,f=ve(f)?f:0;const b=Math.max(1080,d),x=Math.max(30,f);return h=ve(h)?h:n,n=Math.max(h,n),u||(e=void 0,m=[]),{codecSet:s.reduce((T,C)=>{const E=t[C];if(C===T)return T;if(E.minBitrate>n)return Ns(C,`min bitrate of ${E.minBitrate} > current estimate of ${n}`),T;if(!E.hasDefaultAudio)return Ns(C,"no renditions with default or auto-select sound found"),T;if(a&&C.indexOf(a.substring(0,4))%5!==0)return Ns(C,`audio codec preference "${a}" not found`),T;if(o&&!l){if(!E.channels[o])return Ns(C,`no renditions with ${o} channel sound found (channels options: ${Object.keys(E.channels)})`),T}else if((!a||l)&&c&&E.channels[2]===0)return Ns(C,"no renditions with stereo sound found"),T;return E.minHeight>b?(Ns(C,`min resolution of ${E.minHeight} > maximum of ${b}`),T):E.minFramerate>x?(Ns(C,`min framerate of ${E.minFramerate} > maximum of ${x}`),T):m.some(k=>E.videoRanges[k]>0)?E.maxScore<p?(Ns(C,`max score of ${E.maxScore} < selected max of ${p}`),T):T&&(zg(C)>=zg(T)||E.fragmentError>t[T].fragmentError)?T:(p=E.maxScore,C):(Ns(C,`no variants with VIDEO-RANGE of ${JSON.stringify(m)} found`),T)},void 0),videoRanges:m,preferHDR:y,minFramerate:f,minBitrate:h}}function Ns(t,e){K.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function Mfe(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Ofe(t,e,n,r){return t.slice(n,r+1).reduce((i,s)=>{if(!s.codecSet)return i;const o=s.audioGroups;let a=i[s.codecSet];a||(i[s.codecSet]=a={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),a.minBitrate=Math.min(a.minBitrate,s.bitrate);const l=Math.min(s.height,s.width);return a.minHeight=Math.min(a.minHeight,l),a.minFramerate=Math.min(a.minFramerate,s.frameRate),a.maxScore=Math.max(a.maxScore,s.score),a.fragmentError+=s.fragmentError,a.videoRanges[s.videoRange]=(a.videoRanges[s.videoRange]||0)+1,o&&o.forEach(c=>{if(!c)return;const u=e.groups[c];u&&(a.hasDefaultAudio=a.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(d=>{a.channels[d]=(a.channels[d]||0)+u.channels[d]}))}),i},{})}function gs(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Uc(t,i,n))return r}return-1}function Uc(t,e,n){const{groupId:r,name:i,lang:s,assocLang:o,characteristics:a,default:l}=t,c=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||e.lang===s)&&(s===void 0||e.assocLang===o)&&(l===void 0||e.default===l)&&(c===void 0||e.forced===c)&&(a===void 0||Ffe(a,e.characteristics))&&(n===void 0||n(t,e))}function Ffe(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function Xl(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function jfe(t,e,n,r,i){const s=e[r],a=e.reduce((f,h,p)=>{const m=h.uri;return(f[m]||(f[m]=[])).push(p),f},{})[s.uri];a.length>1&&(r=Math.max.apply(Math,a));const l=s.videoRange,c=s.frameRate,u=s.codecSet.substring(0,4),d=w_(e,r,f=>{if(f.videoRange!==l||f.frameRate!==c||f.codecSet.substring(0,4)!==u)return!1;const h=f.audioGroups,p=n.filter(m=>!h||h.indexOf(m.groupId)!==-1);return gs(t,p,i)>-1});return d>-1?d:w_(e,r,f=>{const h=f.audioGroups,p=n.filter(m=>!h||h.indexOf(m.groupId)!==-1);return gs(t,p,i)>-1})}function w_(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}class Nfe{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:n,partCurrent:r,hls:i}=this,{autoLevelEnabled:s,media:o}=i;if(!n||!o)return;const a=performance.now(),l=r?r.stats:n.stats,c=r?r.duration:n.duration,u=a-l.loading.start,d=i.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||n.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s||o.paused||!o.playbackRate||!o.readyState)return;const f=i.mainForwardBufferInfo;if(f===null)return;const h=this.bwEstimator.getEstimateTTFB(),p=Math.abs(o.playbackRate);if(u<=Math.max(h,1e3*(c/(p*2))))return;const m=f.len/p,y=l.loading.first?l.loading.first-l.loading.start:-1,v=l.loaded&&y>-1,b=this.getBwEstimate(),x=i.levels,S=x[n.level],T=l.total||Math.max(l.loaded,Math.round(c*S.averageBitrate/8));let C=v?u-y:u;C<1&&v&&(C=Math.min(u,l.loaded*8/b));const E=v?l.loaded*1e3/C:0,k=E?(T-l.loaded)/E:T*8/b+h/1e3;if(k<=m)return;const A=E?E*8:b;let R=Number.POSITIVE_INFINITY,L;for(L=n.level-1;L>d;L--){const P=x[L].maxBitrate;if(R=this.getTimeToLoadFrag(h/1e3,A,c*P,!x[L].details),R<m)break}if(R>=k||R>c*10)return;i.nextLoadLevel=i.nextAutoLevel=L,v?this.bwEstimator.sample(u-Math.min(h,y),l.loaded):this.bwEstimator.sampleTTFB(u);const D=x[L].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>D&&this.resetEstimator(D),this.clearTimer(),K.warn(`[abr] Fragment ${n.sn}${r?" part "+r.index:""} of level ${n.level} is loading too slowly;
      Time to underbuffer: ${m.toFixed(3)} s
      Estimated load time for current fragment: ${k.toFixed(3)} s
      Estimated load time for down switch fragment: ${R.toFixed(3)} s
      TTFB estimate: ${y|0} ms
      Current BW estimate: ${ve(b)?b|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${L} @ ${D|0} bps`),i.trigger(_.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(K.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Afe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.FRAG_LOADING,this.onFragLoading,this),e.on(_.FRAG_LOADED,this.onFragLoaded,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.FRAG_LOADING,this.onFragLoading,this),e.off(_.FRAG_LOADED,this.onFragLoaded,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(_.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case Z.BUFFER_ADD_CODEC_ERROR:case Z.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Z.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const o=performance.now(),a=s?s.stats:r.stats,l=o-a.loading.start,c=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),a.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,r,i){const s=e+r/n,o=i?this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,s=i.end-i.start;ve(s)&&(this.lastLevelLoadSec=s/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===Le.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:n.duration,o=this.hls.levels[n.level],a=(o.loaded?o.loaded.bytes:0)+i.loaded,l=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:a,duration:l},o.realBitrate=Math.round(8*a/l)}if(n.bitrateTest){const s={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(_.FRAG_BUFFERED,s),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Le.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,n,e,0,i,1,1);if(s>-1)return s;const o=this.hls.firstLevel,a=Math.min(Math.max(o,n),e);return K.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,s)&&o[e].loadError<=o[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{maxAutoLevel:i,config:s,minAutoLevel:o}=r,a=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=s.abrBandWidthFactor,d=s.abrBandWidthUpFactor;if(c){const y=this.findBestLevel(l,o,i,c,0,u,d);if(y>=0)return y}let f=a?Math.min(a,s.maxStarvationDelay):s.maxStarvationDelay;if(!c){const y=this.bitrateTestDelay;y&&(f=(a?Math.min(a,s.maxLoadingDelay):s.maxLoadingDelay)-y,K.info(`[abr] bitrate test took ${Math.round(1e3*y)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),u=d=1)}const h=this.findBestLevel(l,o,i,c,f,u,d);if(K.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const p=r.levels[o],m=r.levels[r.loadLevel];return(p==null?void 0:p.bitrate)<(m==null?void 0:m.bitrate)?o:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,s,o,a){var l;const c=i+s,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:f,partCurrent:h}=this,{levels:p,allAudioTracks:m,loadLevel:y,config:v}=this.hls;if(p.length===1)return 0;const b=p[d],x=!!(b!=null&&(l=b.details)!=null&&l.live),S=y===-1||u===-1;let T,C="SDR",E=(b==null?void 0:b.frameRate)||0;const{audioPreference:k,videoPreference:A}=v,R=this.audioTracksByGroup||(this.audioTracksByGroup=Mfe(m));if(S){if(this.firstSelection!==-1)return this.firstSelection;const j=this.codecTiers||(this.codecTiers=Ofe(p,R,n,r)),F=Dfe(j,C,e,k,A),{codecSet:O,videoRanges:B,minFramerate:I,minBitrate:$,preferHDR:G}=F;T=O,C=G?B[B.length-1]:B[0],E=I,e=Math.max(e,$),K.log(`[abr] picked start tier ${JSON.stringify(F)}`)}else T=b==null?void 0:b.codecSet,C=b==null?void 0:b.videoRange;const L=h?h.duration:f?f.duration:0,D=this.bwEstimator.getEstimateTTFB()/1e3,P=[];for(let j=r;j>=n;j--){var M;const F=p[j],O=j>d;if(!F)continue;if(v.useMediaCapabilities&&!F.supportedResult&&!F.supportedPromise){const te=navigator.mediaCapabilities;typeof(te==null?void 0:te.decodingInfo)=="function"&&Rfe(F,R,C,E,e,k)?(F.supportedPromise=_fe(F,R,te),F.supportedPromise.then(ae=>{if(!this.hls)return;F.supportedResult=ae;const le=this.hls.levels,Te=le.indexOf(F);ae.error?K.warn(`[abr] MediaCapabilities decodingInfo error: "${ae.error}" for level ${Te} ${JSON.stringify(ae)}`):ae.supported||(K.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${Te} ${JSON.stringify(ae)}`),Te>-1&&le.length>1&&(K.log(`[abr] Removing unsupported level ${Te}`),this.hls.removeLevel(Te)))})):F.supportedResult=aF}if(T&&F.codecSet!==T||C&&F.videoRange!==C||O&&E>F.frameRate||!O&&E>0&&E<F.frameRate||F.supportedResult&&!((M=F.supportedResult.decodingInfoResults)!=null&&M[0].smooth)){P.push(j);continue}const B=F.details,I=(h?B==null?void 0:B.partTarget:B==null?void 0:B.averagetargetduration)||L;let $;O?$=a*e:$=o*e;const G=L&&i>=L*2&&s===0?p[j].averageBitrate:p[j].maxBitrate,Y=this.getTimeToLoadFrag(D,$,G*I,B===void 0);if($>=G&&(j===u||F.loadError===0&&F.fragmentError===0)&&(Y<=D||!ve(Y)||x&&!this.bitrateTestDelay||Y<c)){const te=this.forcedAutoLevel;return j!==y&&(te===-1||te!==y)&&(P.length&&K.trace(`[abr] Skipped level(s) ${P.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${p[P[0]].codecs}" ${p[P[0]].videoRange}; not compatible with "${b.codecs}" ${C}`),K.info(`[abr] switch candidate:${d}->${j} adjustedbw(${Math.round($)})-bitrate=${Math.round($-G)} ttfb:${D.toFixed(1)} avgDuration:${I.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${Y.toFixed(1)} firstSelection:${S} codecSet:${T} videoRange:${C} hls.loadLevel:${y}`)),S&&(this.firstSelection=j),j}}return-1}set nextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls,i=Math.min(Math.max(e,r),n);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}class Bfe{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Ln={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class $fe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(_.BUFFER_APPENDED,this.onBufferAppended,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.BUFFER_APPENDED,this.onBufferAppended,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:r}=this,i=Object.keys(r);for(let s=i.length;s--;){const o=r[i[s]];if((o==null?void 0:o.body.type)===n&&o.buffered){const a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}detectEvictedFragments(e,n,r,i){this.timeRanges&&(this.timeRanges[e]=n);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a||s>=a.body.sn)return;if(!a.buffered&&!a.loaded){a.body.type===r&&this.removeFragment(a.body);return}const l=a.range[e];l&&l.time.some(c=>{const u=!this.isTimeBuffered(c.startPTS,c.endPTS,n);return u&&this.removeFragment(a.body),u})})}detectPartialFragments(e){const n=this.timeRanges,{frag:r,part:i}=e;if(!n||r.sn==="initSegment")return;const s=Ql(r),o=this.fragments[s];if(!o||o.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(l=>{const c=r.elementaryStreams[l];if(!c)return;const u=n[l],d=a||c.partial===!0;o.range[l]=this.getBufferedTimes(r,i,d,u)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),Pp(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=r.filter(i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=Ql(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,n,r,i){const s={time:[],partial:r},o=e.start,a=e.end,l=e.minEndPTS||a,c=e.maxStartPTS||o;for(let u=0;u<i.length;u++){const d=i.start(u)-this.bufferPadding,f=i.end(u)+this.bufferPadding;if(c>=d&&l<=f){s.time.push({startPTS:Math.max(o,i.start(u)),endPTS:Math.min(a,i.end(u))});break}else if(o<f&&a>d){const h=Math.max(o,i.start(u)),p=Math.min(a,i.end(u));p>h&&(s.partial=!0,s.time.push({startPTS:h,endPTS:p}))}else if(a<=d)break}return s}getPartialFragment(e){let n=null,r,i,s,o=0;const{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&Pp(u)&&(i=u.body.start-a,s=u.body.end+a,e>=i&&e<=s&&(r=Math.min(e-i,s-e),o<=r&&(n=u.body,o=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||Pp(n))}getState(e){const n=Ql(e),r=this.fragments[n];return r?r.buffered?Pp(r)?Ln.PARTIAL:Ln.OK:Ln.APPENDING:Ln.NOT_LOADED}isTimeBuffered(e,n,r){let i,s;for(let o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,s=r.end(o)+this.bufferPadding,e>=i&&n<=s)return!0;if(n<=i)return!1}return!1}onFragLoaded(e,n){const{frag:r,part:i}=n;if(r.sn==="initSegment"||r.bitrateTest)return;const s=i?null:n,o=Ql(r);this.fragments[o]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:s}=n;if(r.sn==="initSegment")return;const o=r.type;if(i){let a=this.activePartLists[o];a||(this.activePartLists[o]=a=[]),a.push(i)}this.timeRanges=s,Object.keys(s).forEach(a=>{const l=s[a];this.detectEvictedFragments(a,l,o,i)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Ql(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a)return;const l=a.body;l.type!==r||i&&!l.gap||l.start<n&&l.end>e&&(a.buffered||s)&&this.removeFragment(l)})}removeFragment(e){const n=Ql(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=r.filter(s=>s.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Pp(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function Ql(t){return`${t.type}_${t.level}_${t.sn}`}const zfe={length:0,start:()=>0,end:()=>0};class kt{static isBuffered(e,n){try{if(e){const r=kt.getBuffered(e);for(let i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}}catch{}return!1}static bufferInfo(e,n,r){try{if(e){const i=kt.getBuffered(e),s=[];let o;for(o=0;o<i.length;o++)s.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(s,n,r)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.sort(function(c,u){const d=c.start-u.start;return d||u.end-c.end});let i=[];if(r)for(let c=0;c<e.length;c++){const u=i.length;if(u){const d=i[u-1].end;e[c].start-d<r?e[c].end>d&&(i[u-1].end=e[c].end):i.push(e[c])}else i.push(e[c])}else i=e;let s=0,o,a=n,l=n;for(let c=0;c<i.length;c++){const u=i[c].start,d=i[c].end;if(n+r>=u&&n<d)a=u,l=d,s=l-n;else if(n+r<u){o=u;break}}return{len:s,start:a||0,end:l||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(n){return K.log("failed to get media.buffered",n),zfe}}}class YT{constructor(e,n,r,i=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Dp(),this.buffering={audio:Dp(),video:Dp(),audiovideo:Dp()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=s,this.partial=o}}function Dp(){return{start:0,executeStart:0,executeEnd:0,end:0}}function _m(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function Ufe(t,e,n){return!!(e&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function Vfe(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length){K.log("No fragments to align");return}const i=_m(n,r[0].cc);if(!i||i&&!i.startPTS){K.log("No frag in previous level to align on");return}return i}function T_(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function lF(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)T_(n[r],t);e.fragmentHint&&T_(e.fragmentHint,t),e.alignedSliding=!0}function Hfe(t,e,n){e&&(Wfe(t,n,e),!n.alignedSliding&&e&&Kg(n,e),!n.alignedSliding&&e&&!n.skippedSegments&&rF(e,n))}function Wfe(t,e,n){if(Ufe(t,n,e)){const r=Vfe(n,e);r&&ve(r.start)&&(K.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),lF(r.start,e))}}function Kg(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,s;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(i=_m(r,o),s=_m(n,o)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=_m(n,i.cc)||n[Math.floor(n.length/2)]);const a=i.programDateTime,l=s.programDateTime;if(!a||!l)return;const c=(l-a)/1e3-(s.start-i.start);lF(c,t)}const E_=Math.pow(2,17);class Gfe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new Vs({type:Pe.NETWORK_ERROR,details:Z.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(h=>h[0]==="GAP")){l(k_(e));return}else e.gap=!1;const c=this.loader=e.loader=s?new s(i):new o(i),u=C_(e),d=b_(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:E_};e.stats=c.stats,c.load(u,f,{onSuccess:(h,p,m,y)=>{this.resetLoader(e,c);let v=h.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(v.slice(0,16)),v=v.slice(16)),a({frag:e,part:null,payload:v,networkDetails:y})},onError:(h,p,m,y)=>{this.resetLoader(e,c),l(new Vs({type:Pe.NETWORK_ERROR,details:Z.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:On({url:r,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:y}))},onAbort:(h,p,m)=>{this.resetLoader(e,c),l(new Vs({type:Pe.NETWORK_ERROR,details:Z.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,c),l(new Vs({type:Pe.NETWORK_ERROR,details:Z.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:m,stats:h}))},onProgress:(h,p,m,y)=>{n&&n({frag:e,part:null,payload:m,networkDetails:y})}})})}loadPart(e,n,r){this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(k_(e,n));return}const c=this.loader=e.loader=s?new s(i):new o(i),u=C_(e,n),d=b_(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:E_};n.stats=c.stats,c.load(u,f,{onSuccess:(h,p,m,y)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const v={frag:e,part:n,payload:h.data,networkDetails:y};r(v),a(v)},onError:(h,p,m,y)=>{this.resetLoader(e,c),l(new Vs({type:Pe.NETWORK_ERROR,details:Z.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:On({url:u.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:y}))},onAbort:(h,p,m)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new Vs({type:Pe.NETWORK_ERROR,details:Z.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,c),l(new Vs({type:Pe.NETWORK_ERROR,details:Z.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:m,stats:h}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,s=i.total;if(r.loaded+=i.loaded,s){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(r.loaded/s),l),d=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const o=r.loading,a=i.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function C_(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(ve(i)&&ve(s)){var o;let a=i,l=s;if(t.sn==="initSegment"&&((o=t.decryptdata)==null?void 0:o.method)==="AES-128"){const c=s-i;c%16&&(l=s+(16-c%16)),i!==0&&(r.resetIV=!0,a=i-16)}r.rangeStart=a,r.rangeEnd=l}return r}function k_(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:Pe.MEDIA_ERROR,details:Z.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Vs(r)}class Vs extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Kfe{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class Yfe{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function qfe(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?ll(t,0,e-n):t}class Xfe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],s=r[1],o=r[2],a=r[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],f=l[3],h=new Uint32Array(256);let p=0,m=0,y=0;for(y=0;y<256;y++)y<128?h[y]=y<<1:h[y]=y<<1^283;for(y=0;y<256;y++){let v=m^m<<1^m<<2^m<<3^m<<4;v=v>>>8^v&255^99,e[p]=v,n[v]=p;const b=h[p],x=h[b],S=h[x];let T=h[v]*257^v*16843008;i[p]=T<<24|T>>>8,s[p]=T<<16|T>>>16,o[p]=T<<8|T>>>24,a[p]=T,T=S*16843009^x*65537^b*257^p*16843008,c[v]=T<<24|T>>>8,u[v]=T<<16|T>>>16,d[v]=T<<8|T>>>24,f[v]=T,p?(p=b^h[h[h[S^b]]],m^=h[h[m]]):p=m=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let a,l;const c=this.keySchedule=new Uint32Array(o),u=this.invKeySchedule=new Uint32Array(o),d=this.sBox,f=this.rcon,h=this.invSubMix,p=h[0],m=h[1],y=h[2],v=h[3];let b,x;for(a=0;a<o;a++){if(a<s){b=c[a]=n[a];continue}x=b,a%s===0?(x=x<<8|x>>>24,x=d[x>>>24]<<24|d[x>>>16&255]<<16|d[x>>>8&255]<<8|d[x&255],x^=f[a/s|0]<<24):s>6&&a%s===4&&(x=d[x>>>24]<<24|d[x>>>16&255]<<16|d[x>>>8&255]<<8|d[x&255]),c[a]=b=(c[a-s]^x)>>>0}for(l=0;l<o;l++)a=o-l,l&3?x=c[a]:x=c[a-4],l<4||a<=4?u[l]=x:u[l]=p[d[x>>>24]]^m[d[x>>>16&255]]^y[d[x>>>8&255]]^v[d[x&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],u=a[2],d=a[3],f=this.uint8ArrayToUint32Array_(r);let h=f[0],p=f[1],m=f[2],y=f[3];const v=new Int32Array(e),b=new Int32Array(v.length);let x,S,T,C,E,k,A,R,L,D,P,M,j,F;const O=this.networkToHostOrderSwap;for(;n<v.length;){for(L=O(v[n]),D=O(v[n+1]),P=O(v[n+2]),M=O(v[n+3]),E=L^s[0],k=M^s[1],A=P^s[2],R=D^s[3],j=4,F=1;F<i;F++)x=l[E>>>24]^c[k>>16&255]^u[A>>8&255]^d[R&255]^s[j],S=l[k>>>24]^c[A>>16&255]^u[R>>8&255]^d[E&255]^s[j+1],T=l[A>>>24]^c[R>>16&255]^u[E>>8&255]^d[k&255]^s[j+2],C=l[R>>>24]^c[E>>16&255]^u[k>>8&255]^d[A&255]^s[j+3],E=x,k=S,A=T,R=C,j=j+4;x=o[E>>>24]<<24^o[k>>16&255]<<16^o[A>>8&255]<<8^o[R&255]^s[j],S=o[k>>>24]<<24^o[A>>16&255]<<16^o[R>>8&255]<<8^o[E&255]^s[j+1],T=o[A>>>24]<<24^o[R>>16&255]<<16^o[E>>8&255]<<8^o[k&255]^s[j+2],C=o[R>>>24]<<24^o[E>>16&255]<<16^o[k>>8&255]<<8^o[A&255]^s[j+3],b[n]=O(x^h),b[n+1]=O(C^p),b[n+2]=O(T^m),b[n+3]=O(S^y),h=L,p=D,m=P,y=M,n=n+4}return b.buffer}}const Qfe=16;class qT{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?qfe(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r){return this.useSoftware?new Promise((i,s)=>{this.softwareDecrypt(new Uint8Array(e),n,r);const o=this.flush();o?i(o.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r)}softwareDecrypt(e,n,r){const{currentIV:i,currentResult:s,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=Li(o,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;i&&(r=i);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new Xfe),l.expandKey(n);const c=s;return this.currentResult=l.decrypt(a.buffer,0,r),this.currentIV=ll(a,-16).buffer,c||null}webCryptoDecrypt(e,n,r){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r));this.key=n,this.fastAesKey=new Yfe(this.subtle,n)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new Kfe(this.subtle,new Uint8Array(r)).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(K.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,n,r)))}onWebCryptoError(e,n,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%Qfe;return r!==e.length&&(n=ll(e,0,r),this.remainderData=ll(e,r)),n}logOnce(e){this.logEnabled&&(K.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const Zfe={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},re={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class XT extends Bfe{constructor(e,n,r,i,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=re.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=i,this.log=K.log.bind(K,`${i}:`),this.warn=K.warn.bind(K,`${i}:`),this.hls=e,this.fragmentLoader=new Gfe(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new qT(e.config),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=re.STOPPED}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const r=n.partList;if(r!=null&&r.length){const s=r[r.length-1];return kt.isBuffered(this.media,s.start+s.duration/2)}const i=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===re.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:r,mediaBuffer:i,state:s}=this,o=r?r.currentTime:0,a=kt.bufferInfo(i||r,o,e.maxBufferHole);if(this.log(`media seeking to ${ve(o)?o.toFixed(3):o}, state: ${s}`),this.state===re.ENDED)this.resetLoadingState();else if(n){const l=e.maxFragLookUpTolerance,c=n.start-l,u=n.start+n.duration+l;if(!a.len||u<a.start||c>a.end){const d=o>u;(o<c||d)&&(d&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!a.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=re.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,r,i).then(s=>{if(!s)return;const o=this.state;if(this.fragContextChanged(e)){(o===re.FRAG_LOADING||!this.fragCurrent&&o===re.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=re.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(_.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===re.STOPPED||this.state===re.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===Ln.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Ln.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(_.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{payload:s}=r,o=e.decryptdata;if(s&&s.byteLength>0&&o!=null&&o.key&&o.iv&&o.method==="AES-128"){const a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer).catch(l=>{throw i.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return i.trigger(_.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:a,tdecrypt:c}}),r.payload=l,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===re.STOPPED||this.state===re.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=re.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){var r,i,s,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===Le.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${a?Zfe.toString(kt.getBuffered(a)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==Le.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=re.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=re.IDLE,a&&(!this.loadedmetadata&&e.type==Le.MAIN&&a.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:s}=e,o=!s||s.length===0||s.some(l=>!l),a=new YT(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!o);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var s;const o=n==null?void 0:n.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=re.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(_.KEY_LOADED,u),this.state===re.KEY_LOADING&&(this.state=re.IDLE),u}),this.hls.trigger(_.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const u=o.partList;if(u&&i){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const d=this.getNextPart(u,e,r);if(d>-1){const f=u[d];this.log(`Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${d}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=re.FRAG_LOADING;let h;return a?h=a.then(p=>!p||this.fragContextChanged(p.frag)?null:this.doFragPartsLoad(e,f,n,i)).catch(p=>this.handleFragLoadError(p)):h=this.doFragPartsLoad(e,f,n,i).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(_.FRAG_LOADING,{frag:e,part:f,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}else if(!e.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),ve(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=re.FRAG_LOADING;const l=this.config.progressive;let c;return l&&a?c=a.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,i)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?i:void 0),a]).then(([u])=>(!l&&u&&i&&i(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(_.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,n,r,i){return new Promise((s,o)=>{var a;const l=[],c=(a=r.details)==null?void 0:a.partList,u=d=>{this.fragmentLoader.loadPart(e,d,i).then(f=>{l[d.index]=f;const h=f.part;this.hls.trigger(_.FRAG_LOADED,f);const p=v_(r,e.sn,d.index+1)||iF(c,e.sn,d.index+1);if(p)u(p);else return s({frag:e,part:h,partsLoaded:l})}).catch(o)};u(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===Z.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(_.ERROR,n)}else this.hls.trigger(_.ERROR,{type:Pe.OTHER_ERROR,details:Z.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==re.PARSING){!this.fragCurrent&&this.state!==re.STOPPED&&this.state!==re.ERROR&&(this.state=re.IDLE);return}const{frag:r,part:i,level:s}=n,o=self.performance.now();r.stats.parsing.end=o,i&&(i.stats.parsing.end=o),this.updateLevelTiming(r,i,s,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:s,part:o}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${i}. The current chunk will not be buffered.`),null;const a=n[i],l=o>-1?v_(a,s,o):null,c=l?l.fragment:bfe(a,s,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:l,level:a}):null}bufferFragmentData(e,n,r,i,s){var o;if(!e||this.state!==re.PARSING)return;const{data1:a,data2:l}=e;let c=a;if(a&&l&&(c=Li(a,l)),!((o=c)!=null&&o.length))return;const u={type:e.type,frag:n,part:r,chunkMeta:i,parent:n.type,data:c};if(this.hls.trigger(_.BUFFER_APPENDING,u),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!kt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=kt.bufferInfo(n,r,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),a=Math.max(Math.min(e.start-o,i.end-o),r+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){const r=this.getLoadPosition();return ve(r)?this.getFwdBufferInfoAtPos(e,r,n):null}getFwdBufferInfoAtPos(e,n,r){const{config:{maxBufferHole:i}}=this,s=kt.bufferInfo(e,n,i);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(n,r);if(o&&s.nextStart<o.end)return kt.bufferInfo(e,n,Math.max(s.nextStart,i))}return s}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),s=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,n=Le.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,Le.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:s}=this,o=r[0].start;let a;if(n.live){const l=s.initialLiveManifestSize;if(i<l)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${l})`),null;(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o)&&(a=this.getInitialLiveFragment(n,r),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=r[0]);if(!a){const l=s.lowLatencyMode?n.partEnd:n.fragmentEnd;a=this.getFragmentAtPosition(e,l,n)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===Ln.OK||r===Ln.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,s){const o=e.gap,a=this.getNextFragment(this.nextLoadPosition,n);if(a===null)return a;if(e=a,o&&e&&!e.gap&&r.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(l!==null&&r.len+l.len>=s)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,s=!1,o=!0;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(o=o&&!c.independent,i>-1&&r<c.start)break;const u=c.loaded;u?i=-1:(s||c.independent||o)&&c.fragment===n&&(i=a),s=u}return i}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=wfe(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=n[s-e.startSN];r.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=Cfe(n,r.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:o,endSN:a}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=i,u=r.partList,d=!!(i.lowLatencyMode&&u!=null&&u.length&&l);d&&l&&!this.bitrateTest&&(o=o.concat(l),a=l.sn);let f;if(e<n){const h=e>n-c?0:c;f=Gg(s,o,e,h)}else f=o[o.length-1];if(f){const h=f.sn-r.startSN,p=this.fragmentTracker.getState(f);if((p===Ln.OK||p===Ln.PARTIAL&&f.gap)&&(s=f),s&&f.sn===s.sn&&(!d||u[0].fragment.sn>f.sn)&&s&&f.level===s.level){const y=o[h+1];f.sn<a&&this.fragmentTracker.getState(y)!==Ln.OK?f=y:f=null}}return f}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=r.currentTime,o=e.fragments[0].start,a=e.edge,l=s>=o-n.maxFragLookUpTolerance&&s<=a;if(i!==null&&r.duration>i&&(s<i||!l)){const c=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!l&&r.readyState<4||s<a-c)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${i.toFixed(3)}`),r.currentTime=i))}}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,o=!n,a=e.alignedSliding&&ve(s);if(o||!a&&!s){const{fragPrevious:l}=this;Hfe(l,r,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${i}`),c}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;if(r<n&&(r=-1),r===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&ve(s)?(r=n+s,s<0&&(r+=e.totalduration),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Start time offset ${s} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||n:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==re.FRAG_LOADING_WAITING_RETRY)&&(this.state=re.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const u=this.getCurrentContext(n.chunkMeta);u&&(n.frag=u.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=n.details===Z.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const o=n.errorAction,{action:a,retryCount:l=0,retryConfig:c}=o||{};if(o&&a===$n.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const u=GT(c,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),o.resolved=!0,this.retryDate=self.performance.now()+u,this.state=re.FRAG_LOADING_WAITING_RETRY}else if(c&&o)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!s&&a!==$n.RemoveAlternatePermanently&&(o.resolved=!0);else{K.warn(`${n.details} reached or exceeded max retry (${l})`);return}else(o==null?void 0:o.action)===$n.SendAlternateToPenaltyBox?this.state=re.WAITING_LEVEL:this.state=re.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===re.PARSING||this.state===re.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,(n==null?void 0:n.duration)||10);const o=!s;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===Le.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==re.STOPPED&&(this.state=re.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=kt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===re.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=re.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){var s;const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const f=i?0:nF(o,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(_.LEVEL_PTS_UPDATED,{details:o,level:r,drift:f,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((s=this.transmuxer)==null?void 0:s.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=re.PARSED,this.hls.trigger(_.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}class cF{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=Jfe(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function Jfe(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}function ehe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function the(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function nhe(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function ds(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class QT{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=Li(this.cachedData,e),this.cachedData=null);let r=Jf(e,0),i=r?r.length:0,s;const o=this._audioTrack,a=this._id3Track,l=r?WT(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&ve(l))&&(this.basePTS=rhe(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ui.audioId3,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(e,i)){const u=this.appendFrame(o,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,i+=u.length,s=i):i=c}else Ede(e,i)?(r=Jf(e,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ui.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===c&&s!==c){const u=ll(e,s);this.cachedData?this.cachedData=Li(this.cachedData,u):this.cachedData=u}}return{audioTrack:o,videoTrack:ds(),id3Track:a,textTrack:ds()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:ds(),id3Track:this._id3Track,textTrack:ds()}}destroy(){}}const rhe=(t,e,n)=>{if(ve(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};function ihe(t,e,n,r){let i,s,o,a;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[n+2]&192)>>>6)+1;const d=(e[n+2]&60)>>>2;if(d>u.length-1){const f=new Error(`invalid ADTS sampling index:${d}`);t.emit(_.ERROR,_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}return o=(e[n+2]&1)<<2,o|=(e[n+3]&192)>>>6,K.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(i=5,a=new Array(4),s=d-3):(i=2,a=new Array(2),s=d):l.indexOf("android")!==-1?(i=2,a=new Array(2),s=d):(i=5,a=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&d>=6?s=d-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(d>=6&&o===1||/vivaldi/i.test(l))||!r&&o===1)&&(i=2,a=new Array(2)),s=d)),a[0]=i<<3,a[0]|=(d&14)>>1,a[1]|=(d&1)<<7,a[1]|=o<<3,i===5&&(a[1]|=(s&14)>>1,a[2]=(s&1)<<7,a[2]|=8,a[3]=0),{config:a,samplerate:u[d],channelCount:o,codec:"mp4a.40."+i,manifestCodec:c}}function uF(t,e){return t[e]===255&&(t[e+1]&246)===240}function dF(t,e){return t[e+1]&1?7:9}function ZT(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function she(t,e){return e+5<t.length}function Yg(t,e){return e+1<t.length&&uF(t,e)}function ohe(t,e){return she(t,e)&&uF(t,e)&&ZT(t,e)<=t.length-e}function ahe(t,e){if(Yg(t,e)){const n=dF(t,e);if(e+n>=t.length)return!1;const r=ZT(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||Yg(t,i)}return!1}function fF(t,e,n,r,i){if(!t.samplerate){const s=ihe(e,n,r,i);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,K.log(`parsed codec:${t.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function hF(t){return 1024*9e4/t}function lhe(t,e){const n=dF(t,e);if(e+n<=t.length){const r=ZT(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function pF(t,e,n,r,i){const s=hF(t.samplerate),o=r+i*s,a=lhe(e,n);let l;if(a){const{frameLength:d,headerLength:f}=a,h=f+d,p=Math.max(0,n+h-e.length);p?(l=new Uint8Array(h-f),l.set(e.subarray(n+f,e.length),0)):l=e.subarray(n+f,n+h);const m={unit:l,pts:o};return p||t.samples.push(m),{sample:m,length:h,missing:p}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:o},length:c,missing:-1}}let Mp=null;const che=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],uhe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],dhe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],fhe=[0,1,1,4];function mF(t,e,n,r,i){if(n+24>e.length)return;const s=gF(e,n);if(s&&n+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,a=r+i*o,l={unit:e.subarray(n,n+s.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(l),{sample:l,length:s.frameLength,missing:0}}}function gF(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&s!==3){const o=t[e+2]>>1&1,a=t[e+3]>>6,l=n===3?3-r:r===3?3:4,c=che[l*14+i-1]*1e3,d=uhe[(n===3?0:n===2?1:2)*3+s],f=a===3?1:2,h=dhe[n][r],p=fhe[r],m=h*8*p,y=Math.floor(h*c/d+o)*p;if(Mp===null){const x=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Mp=x?parseInt(x[1]):0}return!!Mp&&Mp<=87&&r===2&&c>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:f,frameLength:y,samplesPerFrame:m}}}function JT(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function yF(t,e){return e+1<t.length&&JT(t,e)}function hhe(t,e){return JT(t,e)&&4<=t.length-e}function vF(t,e){if(e+1<t.length&&JT(t,e)){const r=gF(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===t.length||yF(t,s)}return!1}class phe extends QT{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Jf(e,0);let r=(n==null?void 0:n.length)||0;if(vF(e,r))return!1;for(let i=e.length;r<i;r++)if(ahe(e,r))return K.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return ohe(e,n)}appendFrame(e,n,r){fF(e,this.observer,n,r,e.manifestCodec);const i=pF(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const mhe=/\/emsg[-/]ID3/i;class ghe{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const s=this.videoTrack=ds("video",1),o=this.audioTrack=ds("audio",1),a=this.txtTrack=ds("text",1);if(this.id3Track=ds("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=YO(e);if(l.video){const{id:c,timescale:u,codec:d}=l.video;s.id=c,s.timescale=a.timescale=u,s.codec=d}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;o.id=c,o.timescale=u,o.codec=d}a.id=WO.text,s.sampleDuration=0,s.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return Dde(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Li(this.remainderData,e));const a=zde(r);this.remainderData=a.remainder,i.samples=a.valid||new Uint8Array}else i.samples=r;const o=this.extractID3Track(i,n);return s.samples=JR(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=JR(e,n),{videoTrack:n,audioTrack:ds(),id3Track:i,textTrack:ds()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=Ne(e.samples,["emsg"]);i&&i.forEach(s=>{const o=Hde(s);if(mhe.test(o.schemeIdUri)){const a=ve(o.presentationTime)?o.presentationTime/o.timeScale:n+o.presentationTimeDelta/o.timeScale;let l=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=o.payload;r.samples.push({data:c,len:c.byteLength,dts:a,pts:a,type:Ui.emsg,duration:l})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const xF=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),o=new Uint8Array(1);for(;r>0;){o[0]=t[e];const a=Math.min(r,8),l=8-a;s[0]=4278190080>>>24+l<<l,i[0]=(o[0]&s[0])>>l,n=n?n<<a|i[0]:i[0],e+=1,r-=a}return n};class yhe extends QT{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=bF(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=Jf(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&WT(n)!==void 0&&xF(e,r)<16}}function bF(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const s=e[n+4]>>6;if(s>=3)return-1;const a=[48e3,44100,32e3][s],l=e[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+s]*2;if(n+u>e.length)return-1;const d=e[n+6]>>5;let f=0;d===2?f+=2:(d&1&&d!==1&&(f+=2),d&4&&(f+=2));const h=(e[n+6]<<8|e[n+7])>>12-f&1,m=[2,1,2,3,3,4,4,5][d]+h,y=e[n+5]>>3,v=e[n+5]&7,b=new Uint8Array([s<<6|y<<1|v>>2,(v&3)<<6|d<<3|h<<2|l>>4,l<<4&224]),x=1536/a*9e4,S=r+i*x,T=e.subarray(n,n+u);return t.config=b,t.channelCount=m,t.samplerate=a,t.samples.push({unit:T,pts:S}),u}class vhe{constructor(){this.VideoSample=null}createVideoSample(e,n,r,i){return{key:e,frame:!1,pts:n,dts:r,units:[],debug:i,length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{n.dropped++;return}}n.samples.push(e)}e.debug.length&&K.log(e.pts+"/"+e.dts+":"+e.debug)}}class A_{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&K.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,r=8,i;for(let s=0;s<e;s++)r!==0&&(i=this.readEG(),r=(n+i+256)%256),n=r===0?n:r}readSPS(){let e=0,n=0,r=0,i=0,s,o,a;const l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),d=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);l();const y=l();if(c(5),f(3),l(),p(),y===100||y===110||y===122||y===244||y===44||y===83||y===86||y===118||y===128){const C=u();if(C===3&&f(1),p(),p(),f(1),d())for(o=C!==3?8:12,a=0;a<o;a++)d()&&(a<6?m(16):m(64))}p();const v=u();if(v===0)u();else if(v===1)for(f(1),h(),h(),s=u(),a=0;a<s;a++)h();p(),f(1);const b=u(),x=u(),S=c(1);S===0&&f(1),f(1),d()&&(e=u(),n=u(),r=u(),i=u());let T=[1,1];if(d()&&d())switch(l()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:{T=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((b+1)*16-e*2-n*2),height:(2-S)*(x+1)*16-(S?2:4)*(r+i),pixelRatio:T}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class xhe extends vhe{parseAVCPES(e,n,r,i,s){const o=this.parseAVCNALu(e,r.data);let a=this.VideoSample,l,c=!1;r.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),o.forEach(u=>{var d;switch(u.type){case 1:{let m=!1;l=!0;const y=u.data;if(c&&y.length>4){const v=new A_(y).readSliceType();(v===2||v===4||v===7||v===9)&&(m=!0)}if(m){var f;(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.frame=!0,a.key=m;break}case 5:l=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.key=!0,a.frame=!0;break;case 6:{l=!0,XO(u.data,1,r.pts,n.samples);break}case 7:{var h,p;l=!0,c=!0;const m=u.data,v=new A_(m).readSPS();if(!e.sps||e.width!==v.width||e.height!==v.height||((h=e.pixelRatio)==null?void 0:h[0])!==v.pixelRatio[0]||((p=e.pixelRatio)==null?void 0:p[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[m],e.duration=s;const b=m.subarray(1,4);let x="avc1.";for(let S=0;S<3;S++){let T=b[S].toString(16);T.length<2&&(T="0"+T),x+=T}e.codec=x}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,a&&this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:l=!0;break;default:l=!1,a&&(a.debug+="unknown NAL "+u.type+" ");break}a&&l&&a.units.push(u)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}parseAVCNALu(e,n){const r=n.byteLength;let i=e.naluState||0;const s=i,o=[];let a=0,l,c,u,d=-1,f=0;for(i===-1&&(d=0,f=n[0]&31,i=0,a=1);a<r;){if(l=n[a++],!i){i=l?0:1;continue}if(i===1){i=l?0:2;continue}if(!l)i=3;else if(l===1){if(c=a-i-1,d>=0){const h={data:n.subarray(d,c),type:f};o.push(h)}else{const h=this.getLastNalUnit(e.samples);h&&(s&&a<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),c>0&&(h.data=Li(h.data,n.subarray(0,c)),h.state=0))}a<r?(u=n[a]&31,d=a,f=u,i=0):i=-1}else i=0}if(d>=0&&i>=0){const h={data:n.subarray(d,r),type:f,state:i};o.push(h)}if(o.length===0){const h=this.getLastNalUnit(e.samples);h&&(h.data=Li(h.data,n))}return e.naluState=i,o}}class bhe{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new qT(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(a=>{const l=new Uint8Array(a);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,n,r,i,s){const o=QO(s.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(l=>{s.data=this.getAvcDecryptedUnit(o,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)})}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const s=e[n].units;for(;!(r>=s.length);r++){const o=s[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,n,r,i,o),!this.decrypter.isSync()))return}}}}const Rn=188;class Mo{constructor(e,n,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.videoParser=new xhe}static probe(e){const n=Mo.syncOffset(e);return n>0&&K.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let r=Math.min(Rn*5,n-Rn)+1,i=0;for(;i<r;){let s=!1,o=-1,a=0;for(let l=i;l<n;l+=Rn)if(e[l]===71&&(n-l===Rn||e[l+Rn]===71)){if(a++,o===-1&&(o=l,o!==0&&(r=Math.min(o+Rn*99,e.length-Rn)+1)),s||(s=Q1(e,l)===0),s&&a>1&&(o===0&&a>2||l+Rn>r))return o}else{if(a)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:WO[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Mo.createTrack("video"),this._audioTrack=Mo.createTrack("audio",i),this._id3Track=Mo.createTrack("id3"),this._txtTrack=Mo.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let s;const o=this._videoTrack,a=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=o.pid,d=o.pesData,f=a.pid,h=l.pid,p=a.pesData,m=l.pesData,y=null,v=this.pmtParsed,b=this._pmtId,x=e.length;if(this.remainderData&&(e=Li(this.remainderData,e),x=e.length,this.remainderData=null),x<Rn&&!i)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};const S=Math.max(0,Mo.syncOffset(e));x-=(x-S)%Rn,x<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,x,e.buffer.byteLength-x));let T=0;for(let E=S;E<x;E+=Rn)if(e[E]===71){const k=!!(e[E+1]&64),A=Q1(e,E),R=(e[E+3]&48)>>4;let L;if(R>1){if(L=E+5+e[E+4],L===E+Rn)continue}else L=E+4;switch(A){case u:k&&(d&&(s=Zl(d))&&this.videoParser.parseAVCPES(o,c,s,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(L,E+Rn)),d.size+=E+Rn-L);break;case f:if(k){if(p&&(s=Zl(p)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,s);break;case"mp3":this.parseMPEGPES(a,s);break;case"ac3":this.parseAC3PES(a,s);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(L,E+Rn)),p.size+=E+Rn-L);break;case h:k&&(m&&(s=Zl(m))&&this.parseID3PES(l,s),m={data:[],size:0}),m&&(m.data.push(e.subarray(L,E+Rn)),m.size+=E+Rn-L);break;case 0:k&&(L+=e[L]+1),b=this._pmtId=She(e,L);break;case b:{k&&(L+=e[L]+1);const D=whe(e,L,this.typeSupported,r,this.observer);u=D.videoPid,u>0&&(o.pid=u,o.segmentCodec=D.segmentVideoCodec),f=D.audioPid,f>0&&(a.pid=f,a.segmentCodec=D.segmentAudioCodec),h=D.id3Pid,h>0&&(l.pid=h),y!==null&&!v&&(K.warn(`MPEG-TS PMT found at ${E} after unknown PID '${y}'. Backtracking to sync byte @${S} to parse all TS packets.`),y=null,E=S-188),v=this.pmtParsed=!0;break}case 17:case 8191:break;default:y=A;break}}else T++;T>0&&qg(this.observer,new Error(`Found ${T} TS packet/s that do not start with 0x47`)),o.pesData=d,a.pesData=p,l.pesData=m;const C={audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};return i&&this.extractRemainingSamples(C),C}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:s}=e,o=r.pesData,a=n.pesData,l=i.pesData;let c;if(o&&(c=Zl(o))?(this.videoParser.parseAVCPES(r,s,c,!0,this._duration),r.pesData=null):r.pesData=o,a&&(c=Zl(a))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else a!=null&&a.size&&K.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;l&&(c=Zl(l))?(this.parseID3PES(i,c),i.pesData=null):i.pesData=l}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new bhe(this.observer,this.config,n);return this.decrypt(i,s)}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let s=n.data;if(i){this.aacOverFlow=null;const d=i.missing,f=i.sample.unit.byteLength;if(d===-1)s=Li(i.sample.unit,s);else{const h=f-d;i.sample.unit.set(s.subarray(0,d),h),e.samples.push(i.sample),r=i.missing}}let o,a;for(o=r,a=s.length;o<a-1&&!Yg(s,o);o++);if(o!==r){let d;const f=o<a-1;if(f?d=`AAC PES did not start with ADTS header,offset:${o}`:d="No ADTS header found in AAC PES",qg(this.observer,new Error(d),f),!f)return}fF(e,this.observer,s,o,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(i){const d=hF(e.samplerate);l=i.sample.pts+d}else{K.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;o<a;)if(u=pF(e,s,o,l,c),o+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;o<a-1&&!Yg(s,o);o++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let s=0,o=0;const a=n.pts;if(a===void 0){K.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(yF(r,o)){const l=mF(e,r,o,a,s);if(l)o+=l.length,s++;else break}else o++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){K.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let o=0,a=0,l;for(;a<s&&(l=bF(e,r,a,i,o++))>0;)a+=l}}parseID3PES(e,n){if(n.pts===void 0){K.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=gn({},n,{type:this._videoTrack?Ui.emsg:Ui.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function Q1(t,e){return((t[e+1]&31)<<8)+t[e+2]}function She(t,e){return(t[e+10]&31)<<8|t[e+11]}function whe(t,e,n,r,i){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(t[e+1]&15)<<8|t[e+2],a=e+3+o-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<a;){const c=Q1(t,e),u=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){vx("ADTS AAC");break}case 15:s.audioPid===-1&&(s.audioPid=c);break;case 21:s.id3Pid===-1&&(s.id3Pid=c);break;case 219:if(!r){vx("H.264");break}case 27:s.videoPid===-1&&(s.videoPid=c,s.segmentVideoCodec="avc");break;case 3:case 4:!n.mpeg&&!n.mp3?K.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="mp3");break;case 193:if(!r){vx("AC-3");break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="ac3"):K.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&u>0){let d=e+5,f=u;for(;f>2;){switch(t[d]){case 106:n.ac3!==!0?K.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=c,s.segmentAudioCodec="ac3");break}const p=t[d+1]+2;d+=p,f-=p}}break;case 194:case 135:return qg(i,new Error("Unsupported EC-3 in M2TS found")),s;case 36:return qg(i,new Error("Unsupported HEVC in M2TS found")),s}e+=u+5}return s}function qg(t,e,n){K.warn(`parsing error: ${e.message}`),t.emit(_.ERROR,_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function vx(t){K.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Zl(t){let e=0,n,r,i,s,o;const a=t.data;if(!t||t.size===0)return null;for(;a[0].length<19&&a.length>1;)a[0]=Li(a[0],a[1]),a.splice(1,1);if(n=a[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>t.size-6)return null;const c=n[7];c&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,c&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-o>60*9e4&&(K.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),i=n[8];let u=i+9;if(t.size<=u)return null;t.size-=u;const d=new Uint8Array(t.size);for(let f=0,h=a.length;f<h;f++){n=a[f];let p=n.byteLength;if(u)if(u>p){u-=p;continue}else n=n.subarray(u),p-=u,u=0;d.set(n,e),e+=p}return r&&(r-=i+3),{data:d,pts:s,dts:o,len:r}}return null}class The extends QT{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Jf(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&WT(n)!==void 0&&xF(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(vF(e,r))return K.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return hhe(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return mF(e,n,r,this.basePTS,this.frameIndex)}}class R_{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Eo=Math.pow(2,32)-1;class X{static init(){X.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in X.types)X.types.hasOwnProperty(e)&&(X.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);X.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);X.STTS=X.STSC=X.STCO=s,X.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),X.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),X.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),X.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);X.FTYP=X.box(X.types.ftyp,o,l,o,a),X.DINF=X.box(X.types.dinf,X.box(X.types.dref,i))}static box(e,...n){let r=8,i=n.length;const s=i;for(;i--;)r+=n[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),i=0,r=8;i<s;i++)o.set(n[i],r),r+=n[i].byteLength;return o}static hdlr(e){return X.box(X.types.hdlr,X.HDLR_TYPES[e])}static mdat(e){return X.box(X.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(Eo+1)),i=Math.floor(n%(Eo+1));return X.box(X.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return X.box(X.types.mdia,X.mdhd(e.timescale,e.duration),X.hdlr(e.type),X.minf(e))}static mfhd(e){return X.box(X.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?X.box(X.types.minf,X.box(X.types.smhd,X.SMHD),X.DINF,X.stbl(e)):X.box(X.types.minf,X.box(X.types.vmhd,X.VMHD),X.DINF,X.stbl(e))}static moof(e,n,r){return X.box(X.types.moof,X.mfhd(e),X.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=X.trak(e[n]);return X.box.apply(null,[X.types.moov,X.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(X.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=X.trex(e[n]);return X.box.apply(null,[X.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(Eo+1)),i=Math.floor(n%(Eo+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return X.box(X.types.mvhd,s)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,s;for(i=0;i<n.length;i++)s=n[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return X.box(X.types.sdtp,r)}static stbl(e){return X.box(X.types.stbl,X.stsd(e),X.box(X.types.stts,X.STTS),X.box(X.types.stsc,X.STSC),X.box(X.types.stsz,X.STSZ),X.box(X.types.stco,X.STCO))}static avc1(e){let n=[],r=[],i,s,o;for(i=0;i<e.sps.length;i++)s=e.sps[i],o=s.byteLength,n.push(o>>>8&255),n.push(o&255),n=n.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],o=s.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(s));const a=X.box(X.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return X.box(X.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,X.box(X.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),X.box(X.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const n=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return X.box(X.types.mp4a,X.audioStsd(e),X.box(X.types.esds,X.esds(e)))}static mp3(e){return X.box(X.types[".mp3"],X.audioStsd(e))}static ac3(e){return X.box(X.types["ac-3"],X.audioStsd(e),X.box(X.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?X.box(X.types.stsd,X.STSD,X.mp3(e)):e.segmentCodec==="ac3"?X.box(X.types.stsd,X.STSD,X.ac3(e)):X.box(X.types.stsd,X.STSD,X.mp4a(e)):X.box(X.types.stsd,X.STSD,X.avc1(e))}static tkhd(e){const n=e.id,r=e.duration*e.timescale,i=e.width,s=e.height,o=Math.floor(r/(Eo+1)),a=Math.floor(r%(Eo+1));return X.box(X.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const r=X.sdtp(e),i=e.id,s=Math.floor(n/(Eo+1)),o=Math.floor(n%(Eo+1));return X.box(X.types.traf,X.box(X.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),X.box(X.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),X.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,X.box(X.types.trak,X.tkhd(e),X.mdia(e))}static trex(e){const n=e.id;return X.box(X.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,s=12+16*i,o=new Uint8Array(s);let a,l,c,u,d,f;for(n+=8+s,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<i;a++)l=r[a],c=l.duration,u=l.size,d=l.flags,f=l.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*a);return X.box(X.types.trun,o)}static initSegment(e){X.types||X.init();const n=X.moov(e);return Li(X.FTYP,n)}}X.types=void 0;X.HDLR_TYPES=void 0;X.STTS=void 0;X.STSC=void 0;X.STCO=void 0;X.STSZ=void 0;X.VMHD=void 0;X.SMHD=void 0;X.STSD=void 0;X.FTYP=void 0;X.DINF=void 0;const SF=9e4;function eE(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function Ehe(t,e,n=1,r=!1){return eE(t,e,1/n,r)}function ud(t,e=!1){return eE(t,1e3,1/SF,e)}function Che(t,e=1){return eE(t,SF,1/e)}const khe=10*1e3,__=1024,Ahe=1152,Rhe=1536;let Jl=null,xx=null;class Lm{constructor(e,n,r,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,Jl===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Jl=o?parseInt(o[1]):0}if(xx===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);xx=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){K.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){K.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){K.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e.reduce((i,s)=>{const o=s.pts-i;return o<-4294967296?(n=!0,di(i,s.pts)):o>0?i:s.pts},e[0].pts);return n&&K.debug("PTS rollover detected"),r}remux(e,n,r,i,s,o,a,l){let c,u,d,f,h,p,m=s,y=s;const v=e.pid>-1,b=n.pid>-1,x=n.samples.length,S=e.samples.length>0,T=a&&x>0||x>1;if((!v||S)&&(!b||T)||this.ISGenerated||a){if(this.ISGenerated){var E,k,A,R;const M=this.videoTrackConfig;M&&(n.width!==M.width||n.height!==M.height||((E=n.pixelRatio)==null?void 0:E[0])!==((k=M.pixelRatio)==null?void 0:k[0])||((A=n.pixelRatio)==null?void 0:A[1])!==((R=M.pixelRatio)==null?void 0:R[1]))&&this.resetInitSegment()}else d=this.generateIS(e,n,s,o);const L=this.isVideoContiguous;let D=-1,P;if(T&&(D=_he(n.samples),!L&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,D>0){K.warn(`[mp4-remuxer]: Dropped ${D} out of ${x} video samples due to a missing keyframe`);const M=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(D),n.dropped+=D,y+=(n.samples[0].pts-M)/n.inputTimeScale,P=y}else D===-1&&(K.warn(`[mp4-remuxer]: No keyframe found out of ${x} video samples`),p=!1);if(this.ISGenerated){if(S&&T){const M=this.getVideoStartPts(n.samples),F=(di(e.samples[0].pts,M)-M)/n.inputTimeScale;m+=Math.max(0,F),y+=Math.max(0,-F)}if(S){if(e.samplerate||(K.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,n,s,o)),u=this.remuxAudio(e,m,this.isAudioContiguous,o,b||T||l===Le.AUDIO?y:void 0),T){const M=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(K.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,n,s,o)),c=this.remuxVideo(n,y,L,M)}}else T&&(c=this.remuxVideo(n,y,L,0));c&&(c.firstKeyFrame=D,c.independent=D!==-1,c.firstKeyFramePTS=P)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(h=wF(r,s,this._initPTS,this._initDTS)),i.samples.length&&(f=TF(i,s,this._initPTS))),{audio:u,video:c,initSegment:d,independent:p,text:f,id3:h}}generateIS(e,n,r,i){const s=e.samples,o=n.samples,a=this.typeSupported,l={},c=this._initPTS;let u=!c||i,d="audio/mp4",f,h,p;if(u&&(f=h=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(d="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):X.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(p=e.inputTimeScale,!c||p!==c.timescale?f=h=s[0].pts-Math.round(p*r):u=!1)}if(n.sps&&n.pps&&o.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:X.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(p=n.inputTimeScale,!c||p!==c.timescale){const m=this.getVideoStartPts(o),y=Math.round(p*r);h=Math.min(h,di(o[0].dts,m)-y),f=Math.min(f,m-y)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:f,timescale:p},this._initDTS={baseTime:h,timescale:p}):f=p=void 0,{tracks:l,initPTS:f,timescale:p}}remuxVideo(e,n,r,i){const s=e.inputTimeScale,o=e.samples,a=[],l=o.length,c=this._initPTS;let u=this.nextAvcDts,d=8,f=this.videoSampleDuration,h,p,m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,v=!1;if(!r||u===null){const I=n*s,$=o[0].pts-di(o[0].dts,o[0].pts);Jl&&u!==null&&Math.abs(I-$-u)<15e3?r=!0:u=I-$}const b=c.baseTime*s/c.timescale;for(let I=0;I<l;I++){const $=o[I];$.pts=di($.pts-b,u),$.dts=di($.dts-b,u),$.dts<o[I>0?I-1:I].dts&&(v=!0)}v&&o.sort(function(I,$){const G=I.dts-$.dts,Y=I.pts-$.pts;return G||Y}),h=o[0].dts,p=o[o.length-1].dts;const x=p-h,S=x?Math.round(x/(l-1)):f||e.inputTimeScale/30;if(r){const I=h-u,$=I>S,G=I<-1;if(($||G)&&($?K.warn(`AVC: ${ud(I,!0)} ms (${I}dts) hole between fragments detected at ${n.toFixed(3)}`):K.warn(`AVC: ${ud(-I,!0)} ms (${I}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!G||u>=o[0].pts||Jl)){h=u;const Y=o[0].pts-I;if($)o[0].dts=h,o[0].pts=Y;else for(let q=0;q<o.length&&!(o[q].dts>Y);q++)o[q].dts-=I,o[q].pts-=I;K.log(`Video: Initial PTS/DTS adjusted: ${ud(Y,!0)}/${ud(h,!0)}, delta: ${ud(I,!0)} ms`)}}h=Math.max(0,h);let T=0,C=0,E=h;for(let I=0;I<l;I++){const $=o[I],G=$.units,Y=G.length;let q=0;for(let te=0;te<Y;te++)q+=G[te].data.length;C+=q,T+=Y,$.length=q,$.dts<E?($.dts=E,E+=S/4|0||1):E=$.dts,m=Math.min($.pts,m),y=Math.max($.pts,y)}p=o[l-1].dts;const k=C+4*T+8;let A;try{A=new Uint8Array(k)}catch(I){this.observer.emit(_.ERROR,_.ERROR,{type:Pe.MUX_ERROR,details:Z.REMUX_ALLOC_ERROR,fatal:!1,error:I,bytes:k,reason:`fail allocating video mdat ${k}`});return}const R=new DataView(A.buffer);R.setUint32(0,k),A.set(X.types.mdat,4);let L=!1,D=Number.POSITIVE_INFINITY,P=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,j=Number.NEGATIVE_INFINITY;for(let I=0;I<l;I++){const $=o[I],G=$.units;let Y=0;for(let ae=0,le=G.length;ae<le;ae++){const Te=G[ae],Fe=Te.data,Qe=Te.data.byteLength;R.setUint32(d,Qe),d+=4,A.set(Fe,d),d+=Qe,Y+=4+Qe}let q;if(I<l-1)f=o[I+1].dts-$.dts,q=o[I+1].pts-$.pts;else{const ae=this.config,le=I>0?$.dts-o[I-1].dts:S;if(q=I>0?$.pts-o[I-1].pts:S,ae.stretchShortVideoTrack&&this.nextAudioPts!==null){const Te=Math.floor(ae.maxBufferHole*s),Fe=(i?m+i*s:this.nextAudioPts)-$.pts;Fe>Te?(f=Fe-le,f<0?f=le:L=!0,K.log(`[mp4-remuxer]: It is approximately ${Fe/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=le}else f=le}const te=Math.round($.pts-$.dts);D=Math.min(D,f),M=Math.max(M,f),P=Math.min(P,q),j=Math.max(j,q),a.push(new L_($.key,f,Y,te))}if(a.length){if(Jl){if(Jl<70){const I=a[0].flags;I.dependsOn=2,I.isNonSync=0}}else if(xx&&j-P<M-D&&S/M<.025&&a[0].cts===0){K.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let I=h;for(let $=0,G=a.length;$<G;$++){const Y=I+a[$].duration,q=I+a[$].cts;if($<G-1){const te=Y+a[$+1].cts;a[$].duration=te-q}else a[$].duration=$?a[$-1].duration:S;a[$].cts=0,I=Y}}}f=L||!f?S:f,this.nextAvcDts=u=p+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const B={data1:X.moof(e.sequenceNumber++,h,gn({},e,{samples:a})),data2:A,startPTS:m/s,endPTS:(y+f)/s,startDTS:h/s,endDTS:u/s,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,B}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return Ahe;case"ac3":return Rhe;default:return __}}remuxAudio(e,n,r,i,s){const o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,l=o/a,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],p=s!==void 0;let m=e.samples,y=f?0:8,v=this.nextAudioPts||-1;const b=n*o,x=d.baseTime*o/d.timescale;if(this.isAudioContiguous=r=r||m.length&&v>0&&(i&&Math.abs(b-v)<9e3||Math.abs(di(m[0].pts-x,b)-v)<20*u),m.forEach(function(F){F.pts=di(F.pts-x,b)}),!r||v<0){if(m=m.filter(F=>F.pts>=0),!m.length)return;s===0?v=0:i&&!p?v=Math.max(0,b):v=m[0].pts}if(e.segmentCodec==="aac"){const F=this.config.maxAudioFramesDrift;for(let O=0,B=v;O<m.length;O++){const I=m[O],$=I.pts,G=$-B,Y=Math.abs(1e3*G/o);if(G<=-F*u&&p)O===0&&(K.warn(`Audio frame @ ${($/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*G/o)} ms.`),this.nextAudioPts=v=B=$);else if(G>=F*u&&Y<khe&&p){let q=Math.round(G/u);B=$-q*u,B<0&&(q--,B+=u),O===0&&(this.nextAudioPts=v=B),K.warn(`[mp4-remuxer]: Injecting ${q} audio frame @ ${(B/o).toFixed(3)}s due to ${Math.round(1e3*G/o)} ms gap.`);for(let te=0;te<q;te++){const ae=Math.max(B,0);let le=R_.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);le||(K.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),le=I.unit.subarray()),m.splice(O,0,{unit:le,pts:ae}),B+=u,O++}}I.pts=B,B+=u}}let S=null,T=null,C,E=0,k=m.length;for(;k--;)E+=m[k].unit.byteLength;for(let F=0,O=m.length;F<O;F++){const B=m[F],I=B.unit;let $=B.pts;if(T!==null){const Y=h[F-1];Y.duration=Math.round(($-T)/l)}else if(r&&e.segmentCodec==="aac"&&($=v),S=$,E>0){E+=y;try{C=new Uint8Array(E)}catch(Y){this.observer.emit(_.ERROR,_.ERROR,{type:Pe.MUX_ERROR,details:Z.REMUX_ALLOC_ERROR,fatal:!1,error:Y,bytes:E,reason:`fail allocating audio mdat ${E}`});return}f||(new DataView(C.buffer).setUint32(0,E),C.set(X.types.mdat,4))}else return;C.set(I,y);const G=I.byteLength;y+=G,h.push(new L_(!0,c,G,0)),T=$}const A=h.length;if(!A)return;const R=h[h.length-1];this.nextAudioPts=v=T+l*R.duration;const L=f?new Uint8Array(0):X.moof(e.sequenceNumber++,S/l,gn({},e,{samples:h}));e.samples=[];const D=S/o,P=v/o,j={data1:L,data2:C,startPTS:D,endPTS:P,startDTS:D,endDTS:P,type:"audio",hasAudio:!0,hasVideo:!1,nb:A};return this.isAudioContiguous=!0,j}remuxEmptyAudio(e,n,r,i){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,a=s/o,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,d=(l!==null?l:i.startDTS*s)+u,f=i.endDTS*s+u,h=a*__,p=Math.ceil((f-d)/h),m=R_.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(K.warn("[mp4-remuxer]: remux empty Audio"),!m){K.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const y=[];for(let v=0;v<p;v++){const b=d+v*h;y.push({unit:m,pts:b,dts:b})}return e.samples=y,this.remuxAudio(e,n,r,!1)}}function di(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function _he(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function wF(t,e,n,r){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let a=0;a<i;a++){const l=t.samples[a];l.pts=di(l.pts-n.baseTime*s/n.timescale,e*s)/s,l.dts=di(l.dts-r.baseTime*s/r.timescale,e*s)/s}const o=t.samples;return t.samples=[],{samples:o}}function TF(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let o=0;o<r;o++){const a=t.samples[o];a.pts=di(a.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((o,a)=>o.pts-a.pts);const s=t.samples;return t.samples=[],{samples:s}}class L_{constructor(e,n,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class Lhe{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(Fde(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=YO(e);i.audio&&(n=I_(i.audio,gt.AUDIO)),i.video&&(r=I_(i.video,gt.VIDEO));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:K.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,r,i,s,o){var a,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};ve(u)||(u=this.lastEndTime=s||0);const f=n.samples;if(!(f!=null&&f.length))return d;const h={initPTS:void 0,timescale:1};let p=this.initData;if((a=p)!=null&&a.length||(this.generateInitSegment(f),p=this.initData),!((l=p)!=null&&l.length))return K.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const m=Nde(f,p),y=jde(p,f),v=y===null?s:y;(Ihe(c,v,s,m)||h.timescale!==c.timescale&&o)&&(h.initPTS=v-s,c&&c.timescale===1&&K.warn(`Adjusting initPTS by ${h.initPTS-c.baseTime}`),this.initPTS=c={baseTime:h.initPTS,timescale:1});const b=e?v-c.baseTime/c.timescale:u,x=b+m;$de(p,f,c.baseTime/c.timescale),m>0?this.lastEndTime=x:(K.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const S=!!p.audio,T=!!p.video;let C="";S&&(C+="audio"),T&&(C+="video");const E={data1:f,startPTS:b,startDTS:b,endPTS:x,endDTS:x,type:C,hasAudio:S,hasVideo:T,nb:1,dropped:0};return d.audio=E.type==="audio"?E:void 0,d.video=E.type!=="audio"?E:void 0,d.initSegment=h,d.id3=wF(r,s,c,c),i.samples.length&&(d.text=TF(i,s,c)),d}}function Ihe(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>i}function I_(t,e){const n=t==null?void 0:t.codec;if(n&&n.length>4)return n;if(e===gt.AUDIO){if(n==="ec-3"||n==="ac-3"||n==="alac")return n;if(n==="fLaC"||n==="Opus")return Ug(n,!1);const r="mp4a.40.5";return K.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${r}"`),r}return K.warn(`Unhandled video codec "${n}"`),n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":"avc1.42e01e"}let Hs;try{Hs=self.performance.now.bind(self.performance)}catch{K.debug("Unable to use Performance API on this environment"),Hs=mu==null?void 0:mu.Date.now}const Im=[{demux:ghe,remux:Lhe},{demux:Mo,remux:Lm},{demux:phe,remux:Lm},{demux:The,remux:Lm}];Im.splice(2,0,{demux:yhe,remux:Lm});class P_{constructor(e,n,r,i,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=i,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const s=r.transmuxing;s.executeStart=Hs();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:f,timeOffset:h,initSegmentChange:p}=i||a,{audioCodec:m,videoCodec:y,defaultInitPts:v,duration:b,initSegmentData:x}=l,S=Phe(o,n);if(S&&S.method==="AES-128"){const k=this.getDecrypter();if(k.isSync()){let A=k.softwareDecrypt(o,S.key.buffer,S.iv.buffer);if(r.part>-1&&(A=k.flush()),!A)return s.executeEnd=Hs(),bx(r);o=new Uint8Array(A)}else return this.decryptionPromise=k.webCryptoDecrypt(o,S.key.buffer,S.iv.buffer).then(A=>{const R=this.push(A,null,r);return this.decryptionPromise=null,R}),this.decryptionPromise}const T=this.needsProbing(u,d);if(T){const k=this.configureTransmuxer(o);if(k)return K.warn(`[transmuxer] ${k.message}`),this.observer.emit(_.ERROR,_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.FRAG_PARSING_ERROR,fatal:!1,error:k,reason:k.message}),s.executeEnd=Hs(),bx(r)}(u||d||p||T)&&this.resetInitSegment(x,m,y,b,n),(u||p||T)&&this.resetInitialTimestamp(v),c||this.resetContiguity();const C=this.transmux(o,S,h,f,r),E=this.currentTransmuxState;return E.contiguous=!0,E.discontinuity=!1,E.trackSwitch=!1,s.executeEnd=Hs(),C}flush(e){const n=e.transmuxing;n.executeStart=Hs();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const o=[],{timeOffset:a}=i;if(r){const d=r.flush();d&&o.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return n.executeEnd=Hs(),[bx(e)];const u=l.flush(a);return Pm(u)?u.then(d=>(this.flushRemux(o,d,e),o)):(this.flushRemux(o,u,e),o)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:s,id3Track:o,textTrack:a}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;K.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const u=this.remuxer.remux(i,s,o,a,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=Hs()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,s){const{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,n,r,i),a.resetInitSegment(e,n,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,s){let o;return n&&n.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,n,r,i,s):o=this.transmuxUnencrypted(e,r,i,s),o}transmuxUnencrypted(e,n,r,i){const{audioTrack:s,videoTrack:o,id3Track:a,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,a,l,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,s){return this.demuxer.demuxSampleAes(e,n,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i,vendor:s}=this;let o;for(let f=0,h=Im.length;f<h;f++){var a;if((a=Im[f].demux)!=null&&a.probe(e)){o=Im[f];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=o.remux,d=o.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(r,n,i,s)),(!l||!(l instanceof d))&&(this.demuxer=new d(r,n,i),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new qT(this.config)),e}}function Phe(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const bx=t=>({remuxResult:{},chunkMeta:t});function Pm(t){return"then"in t&&t.then instanceof Function}class Dhe{constructor(e,n,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class Mhe{constructor(e,n,r,i,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=o}}var EF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,p){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,p),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var S=y.length,T;for(x=0;x<S;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),v){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,d);break;case 4:y[x].fn.call(y[x].context,u,d,f);break;default:if(!b)for(T=1,b=new Array(v-1);T<v;T++)b[T-1]=arguments[T];y[x].fn.apply(y[x].context,b)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&o(this,h);else{for(var m=0,y=[],v=p.length;m<v;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(EF);var Ohe=EF.exports,tE=ide(Ohe);class CF{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const o=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===_.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new tE,this.observer.on(_.FRAG_DECRYPTED,o),this.observer.on(_.ERROR,o);const a=wl(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||ehe())){try{s.workerPath?(K.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=nhe(s.workerPath)):(K.log(`injecting Web Worker for "${n}"`),this.workerContext=the()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=d=>{const f=new Error(`${d.message}  (${d.filename}:${d.lineno})`);s.enableWorker=!1,K.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger(_.ERROR,{type:Pe.OTHER_ERROR,details:Z.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:n,config:JSON.stringify(s)})}catch(u){K.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new P_(this.observer,l,s,"",n)}return}this.transmuxer=new P_(this.observer,l,s,"",n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,r,i,s,o,a,l,c,u){var d,f;c.transmuxing.start=self.performance.now();const{transmuxer:h}=this,p=o?o.start:s.start,m=s.decryptdata,y=this.frag,v=!(y&&s.cc===y.cc),b=!(y&&c.level===y.level),x=y?c.sn-y.sn:-1,S=this.part?c.part-this.part.index:-1,T=x===0&&c.id>1&&c.id===(y==null?void 0:y.stats.chunkCount),C=!b&&(x===1||x===0&&(S===1||T&&S<=0)),E=self.performance.now();(b||x||s.stats.parsing.start===0)&&(s.stats.parsing.start=E),o&&(S||!C)&&(o.stats.parsing.start=E);const k=!(y&&((d=s.initSegment)==null?void 0:d.url)===((f=y.initSegment)==null?void 0:f.url)),A=new Mhe(v,C,l,b,p,k);if(!C||v||k){K.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${v}
        trackSwitch: ${b}
        contiguous: ${C}
        accurateTimeOffset: ${l}
        timeOffset: ${p}
        initSegmentChange: ${k}`);const R=new Dhe(r,i,n,a,u);this.configureTransmuxer(R)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:c,state:A},e instanceof ArrayBuffer?[e]:[]);else if(h){const R=h.push(e,m,c,A);Pm(R)?(h.async=!0,R.then(L=>{this.handleTransmuxComplete(L)}).catch(L=>{this.transmuxerError(L,c,"transmuxer-interface push error")})):(h.async=!1,this.handleTransmuxComplete(R))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let r=n.flush(e);Pm(r)||n.async?(Pm(r)||(r=Promise.resolve(r)),r.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data;if(!(n!=null&&n.event)){K.warn(`worker message received with no ${n?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(n.event){case"init":{var i;const s=(i=this.workerContext)==null?void 0:i.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":K[n.data.logType]&&K[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,r.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function kF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!yu(t[n].attrs,e[n].attrs))return!1;return!0}function yu(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function Z1(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}const D_=100;class Fhe extends XT{constructor(e,n,r){super(e,n,r,"[audio-stream-controller]",Le.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(_.ERROR,this.onError,this),e.on(_.BUFFER_RESET,this.onBufferReset,this),e.on(_.BUFFER_CREATED,this.onBufferCreated,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(_.ERROR,this.onError,this),e.off(_.BUFFER_RESET,this.onBufferReset,this),e.off(_.BUFFER_CREATED,this.onBufferCreated,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){if(r==="main"){const o=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${i}`),this.videoTrackCC=o,this.state===re.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=re.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(D_),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=re.IDLE):(this.loadedmetadata=!1,this.state=re.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case re.IDLE:this.doTickIdle();break;case re.WAITING_TRACK:{var e;const{levels:r,trackId:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=re.WAITING_INIT_PTS}break}case re.FRAG_LOADING_WAITING_RETRY:{var n;const r=performance.now(),i=this.retryDate;if(!i||r>=i||(n=this.media)!=null&&n.seeking){const{levels:s,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[o])||null),this.state=re.IDLE}break}case re.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:i,part:s,cache:o,complete:a}=r;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=re.FRAG_LOADING;const l=o.flush(),c={frag:i,part:s,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),a&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=kt.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);X1(c.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=re.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=re.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:r,trackId:i}=this,s=e.config;if(!r&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[i]))return;const o=n[i],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a)){this.state=re.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,gt.AUDIO,Le.AUDIO));const c=this.getFwdBufferInfo(l,Le.AUDIO);if(c===null)return;const{bufferedTrack:u,switchingTrack:d}=this;if(!d&&this._streamEnded(c,a)){e.trigger(_.BUFFER_EOS,{type:"audio"}),this.state=re.ENDED;return}const f=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Le.MAIN),h=c.len,p=this.getMaxBufferLength(f==null?void 0:f.len),m=a.fragments,y=m[0].start;let v=this.flushing?this.getLoadPosition():c.end;if(d&&r){const T=this.getLoadPosition();u&&!yu(d.attrs,u.attrs)&&(v=T),a.PTSKnown&&T<y&&(c.end>y||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=y+.05)}if(h>=p&&!d&&v<m[m.length-1].start)return;let b=this.getNextFragment(v,a),x=!1;if(b&&this.isLoopLoading(b,v)&&(x=!!b.gap,b=this.getNextFragmentLoopLoading(b,a,c,Le.MAIN,p)),!b){this.bufferFlushed=!0;return}const S=f&&b.start>f.end+a.targetduration;if(S||!(f!=null&&f.len)&&c.len){const T=this.getAppendedFrag(b.start,Le.MAIN);if(T===null||(x||(x=!!T.gap||!!S&&f.len===0),S&&!x||x&&c.nextStart&&c.nextStart<T.end))return}this.loadFragment(b,o,v)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new gu(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(D_):this.resetTransmuxer(),r?(this.switchingTrack=n,this.state=re.IDLE,this.flushAudioIfNeeded(n)):(this.switchingTrack=null,this.bufferedTrack=n,this.state=re.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(_.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:i}=this,{details:s,id:o}=n;if(!i){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Audio track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const a=i[o];let l=0;if(s.live||(r=a.details)!=null&&r.live){this.checkLiveUpdate(s);const u=this.mainDetails;if(s.deltaUpdateFailed||!u)return;if(!a.details&&s.hasProgramDateTime&&u.hasProgramDateTime)Kg(s,u),l=s.fragments[0].start;else{var c;l=this.alignPlaylists(s,a.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}a.details=s,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,l),this.state===re.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=re.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{config:o,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[a];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new CF(this.hls,Le.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[r.cc],p=(n=r.initSegment)==null?void 0:n.data;if(h!==void 0){const y=i?i.index:-1,v=y!==-1,b=new YT(r.level,r.sn,r.stats.chunkCount,s.byteLength,y,v);f.push(s,p,d,"",r,i,u.totalduration,!1,b,h)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${a}`);const{cache:m}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new cF,complete:!1};m.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=re.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==Le.AUDIO){if(!this.loadedmetadata&&r.type===Le.MAIN){const s=this.videoBuffer||this.media;s&&kt.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(_.AUDIO_TRACK_SWITCHED,On({},s)))}this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=re.ERROR;return}switch(n.details){case Z.FRAG_GAP:case Z.FRAG_PARSING_ERROR:case Z.FRAG_DECRYPT_ERROR:case Z.FRAG_LOAD_ERROR:case Z.FRAG_LOAD_TIMEOUT:case Z.KEY_LOAD_ERROR:case Z.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Le.AUDIO,n);break;case Z.AUDIO_TRACK_LOAD_ERROR:case Z.AUDIO_TRACK_LOAD_TIMEOUT:case Z.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===re.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===et.AUDIO_TRACK&&(this.state=re.IDLE);break;case Z.BUFFER_APPEND_ERROR:case Z.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;if(n.details===Z.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Z.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==gt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==gt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===re.ENDED&&(this.state=re.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,Le.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{details:d}=u,{audio:f,text:h,id3:p,initSegment:m}=s;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=re.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){const y=l.initSegment||l;this._bufferInitSegment(u,m.tracks,y,o),i.trigger(_.FRAG_PARSING_INIT_SEGMENT,{frag:y,id:r,tracks:m.tracks})}if(f){const{startPTS:y,endPTS:v,startDTS:b,endDTS:x}=f;c&&(c.elementaryStreams[gt.AUDIO]={startPTS:y,endPTS:v,startDTS:b,endDTS:x}),l.setElementaryStreamInfo(gt.AUDIO,y,v,b,x),this.bufferFragmentData(f,l,c,o)}if(p!=null&&(n=p.samples)!=null&&n.length){const y=gn({id:r,frag:l,details:d},p);i.trigger(_.FRAG_PARSING_METADATA,y)}if(h){const y=gn({id:r,frag:l,details:d},h);i.trigger(_.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,n,r,i){if(this.state!==re.PARSING)return;n.video&&delete n.video;const s=n.audio;if(!s)return;s.id="audio";const o=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${o}/${s.codec}]`),o&&o.split(",").length===1&&(s.levelCodec=o),this.hls.trigger(_.BUFFER_CODECS,n);const a=s.initSegment;if(a!=null&&a.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:a};this.hls.trigger(_.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===Ln.NOT_LOADED||i===Ln.PARTIAL){var s;if(e.sn==="initSegment")this._loadInitSegment(e,n);else if((s=n.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=re.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragments[0].start!==n.details.fragments[0].start&&Kg(n.details,o)}else this.startFragRequested=!0,super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:n,bufferedTrack:r}=this,i=r==null?void 0:r.attrs,s=e.attrs;n&&i&&(i.CHANNELS!==s.CHANNELS||r.name!==e.name||r.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(_.AUDIO_TRACK_SWITCHED,On({},e))}}class jhe extends KT{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVEL_LOADING,this.onLevelLoading,this),e.off(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(_.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,h)=>{f.id=h});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.audioPreference;if(!s&&l){const f=gs(l,a,Xl);if(f>-1)s=a[f];else{const h=gs(l,this.tracks);s=this.tracks[h]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const u={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(_.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(a.length&&d===-1){var o;const f=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${a.length}`);this.warn(f.message),this.hls.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===et.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(n))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Uc(e,i,Xl))return i;const s=gs(e,this.tracksInGroup,Xl);if(s>-1){const o=this.tracksInGroup[s];return this.setAudioTrack(s),o}else if(i){let o=n.loadLevel;o===-1&&(o=n.firstAutoLevel);const a=jfe(e,n.levels,r,o,Xl);if(a===-1)return null;n.nextLoadLevel=a}if(e.channels||e.audioCodec){const o=gs(e,r);if(o>-1)return r[o]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(_.AUDIO_TRACK_SWITCHING,On({},i)),s))return;const o=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(o)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Uc(e,i,Xl)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:l}=e;for(let c=0;c<n.length;c++){const u=n[c];if(Uc({name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:l},u,Xl))return c}for(let c=0;c<n.length;c++){const u=n[c];if(yu(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const u=n[c];if(yu(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){super.loadPlaylist();const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${i}`),this.clearTimer(),this.hls.trigger(_.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}}const M_=500;class Nhe extends XT{constructor(e,n,r){super(e,n,r,"[subtitle-stream-controller]",Le.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.ERROR,this.onError,this),e.on(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(_.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(_.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.ERROR,this.onError,this),e.off(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(_.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(_.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=re.IDLE,this.setInterval(M_),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragPrevious=r,this.state=re.IDLE,!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const a=r.start;for(let c=0;c<s.length;c++)if(a>=s[c].start&&a<=s[c].end){o=s[c];break}const l=r.start+r.duration;o?o.end=l:(o={start:a,end:l},s.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=s){o.shift();continue}else if(o[a].start<s)o[a].start=s;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,s,Le.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===Le.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===Le.SUBTITLE&&(n.details===Z.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==re.STOPPED&&(this.state=re.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&kF(this.levels,n)){this.levels=n.map(r=>new gu(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new gu(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Le.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(M_)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:s}=this,{details:o,id:a}=n;if(!s){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const l=s[a];if(a>=s.length||!l)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(o.live||(r=l.details)!=null&&r.live){const d=this.mainDetails;if(o.deltaUpdateFailed||!d)return;const f=d.fragments[0];if(!l.details)o.hasProgramDateTime&&d.hasProgramDateTime?(Kg(o,d),c=o.fragments[0].start):f&&(c=f.start,q1(o,c));else{var u;c=this.alignPlaylists(o,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&f&&(c=f.start,q1(o,c))}}l.details=o,this.levelLastLoaded=l,a===i&&(!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(this.mainDetails||o,c),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===re.IDLE&&(Gg(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&i.method==="AES-128"){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(a=>{throw s.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const l=performance.now();s.trigger(_.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:o,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=re.IDLE})}}doTick(){if(!this.media){this.state=re.IDLE;return}if(this.state===re.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details)return;const{config:i}=this,s=this.getLoadPosition(),o=kt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:a,len:l}=o,c=this.getFwdBufferInfo(this.media,Le.MAIN),u=r.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>d)return;const f=u.fragments,h=f.length,p=u.edge;let m=null;const y=this.fragPrevious;if(a<p){const v=i.maxFragLookUpTolerance,b=a>p-v?0:v;m=Gg(y,f,Math.max(f[0].start,a),b),!m&&y&&y.start<f[0].start&&(m=f[0])}else m=f[h-1];if(!m)return;if(m=this.mapToInitFragWhenRequired(m),m.sn!=="initSegment"){const v=m.sn-u.startSN,b=f[v-1];b&&b.cc===m.cc&&this.fragmentTracker.getState(b)===Ln.NOT_LOADED&&(m=b)}this.fragmentTracker.getState(m)===Ln.NOT_LOADED&&this.loadFragment(m,r,a)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,r))}get mediaBufferTimeRanges(){return new Bhe(this.tracksBuffered[this.currentTrackId]||[])}}class Bhe{constructor(e){this.buffered=void 0;const n=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}class $he extends KT{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=Am(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")n=r[s];else if(r[s].mode==="showing"){n=r[s];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVEL_LOADING,this.onLevelLoading,this),e.off(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(_.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Am(this.media.textTracks).forEach(n=>{Ec(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(u=>!r||r.indexOf(u.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(u=>u.default)&&(this.selectDefaultTrack=!1),o.forEach((u,d)=>{u.id=d});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const a=this.hls.config.subtitlePreference;if(!s&&a){this.selectDefaultTrack=!1;const u=gs(a,o);if(u>-1)s=o[u];else{const d=gs(a,this.tracks);s=this.tracks[d]}}let l=this.findTrackId(s);l===-1&&s&&(l=this.findTrackId(null));const c={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(_.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const s=n[i];if(!(r&&!s.default||!r&&!e)&&(!e||Uc(s,e)))return i}if(e){for(let i=0;i<n.length;i++){const s=n[i];if(yu(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const s=n[i];if(yu(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(Z1(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===et.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Uc(e,r))return r;const i=gs(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=gs(e,n);if(s>-1)return n[s]}}}}return null}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(_.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=Am(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(s=>Z1(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!ve(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(_.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:o,groupId:a="",name:l,type:c,url:u}=i;this.hls.trigger(_.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:l,type:c,url:u});const d=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(d)}}class zhe{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n,r){const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const r=new Promise(s=>{n=s}),i={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),r}executeNext(e){const n=this.queues[e];if(n.length){const r=n[0];try{r.execute()}catch(i){K.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),r.onError(i);const s=this.buffers[e];s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const O_=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class Uhe{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:i}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(_.MEDIA_ATTACHED,{media:r,mediaSource:i})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&K.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e;const n="[buffer-controller]";this.appendSource=Qde(wl(e.config.preferManagedMediaSource)),this.log=K.log.bind(K,n),this.warn=K.warn.bind(K,n),this.error=K.error.bind(K,n),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.BUFFER_RESET,this.onBufferReset,this),e.on(_.BUFFER_APPENDING,this.onBufferAppending,this),e.on(_.BUFFER_CODECS,this.onBufferCodecs,this),e.on(_.BUFFER_EOS,this.onBufferEos,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(_.FRAG_PARSED,this.onFragParsed,this),e.on(_.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.BUFFER_RESET,this.onBufferReset,this),e.off(_.BUFFER_APPENDING,this.onBufferAppending,this),e.off(_.BUFFER_CODECS,this.onBufferCodecs,this),e.off(_.BUFFER_EOS,this.onBufferEos,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(_.FRAG_PARSED,this.onFragParsed,this),e.off(_.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new zhe(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let r=2;(n.audio&&!n.video||!n.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const r=this.media=n.media,i=wl(this.appendSource);if(r&&i){var s;const o=this.mediaSource=new i;this.log(`created media source: ${(s=o.constructor)==null?void 0:s.name}`),o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.addEventListener("startstreaming",this._onStartStreaming),o.addEventListener("endstreaming",this._onEndStreaming));const a=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&o instanceof l,F_(r),Vhe(r,a),r.load()}catch{r.src=a}else r.src=a;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:r}=this;if(n){if(this.log("media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(i){this.warn(`onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&F_(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(_.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer()}resetBuffer(e){const n=this.sourceBuffer[e];try{if(n){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}}catch(i){this.warn(`onBufferReset ${e}`,i)}}onBufferCodecs(e,n){const r=this.getSourceBufferTypes().length,i=Object.keys(n);if(i.forEach(o=>{if(r){const l=this.tracks[o];if(l&&typeof l.buffer.changeType=="function"){var a;const{id:c,codec:u,levelCodec:d,container:f,metadata:h}=n[o],p=r_(l.codec,l.levelCodec),m=p==null?void 0:p.replace(O_,"$1");let y=r_(u,d);const v=(a=y)==null?void 0:a.replace(O_,"$1");if(y&&m!==v){o.slice(0,5)==="audio"&&(y=Ug(y,this.appendSource));const b=`${f};codecs=${y}`;this.appendChangeType(o,b),this.log(`switching codec ${p} to ${y}`),this.tracks[o]={buffer:l.buffer,codec:u,container:f,levelCodec:d,metadata:h,id:c}}}}else this.pendingTracks[o]=n[o]}),r)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${i.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,n){const{operationQueue:r}=this,i={execute:()=>{const s=this.sourceBuffer[e];s&&(this.log(`changing ${e} sourceBuffer type to ${n}`),s.changeType(n)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};r.append(i,e,!!this.pendingTracks[e])}onBufferAppending(e,n){const{hls:r,operationQueue:i,tracks:s}=this,{data:o,type:a,frag:l,part:c,chunkMeta:u}=n,d=u.buffering[a],f=self.performance.now();d.start=f;const h=l.stats.buffering,p=c?c.stats.buffering:null;h.start===0&&(h.start=f),p&&p.start===0&&(p.start=f);const m=s.audio;let y=!1;a==="audio"&&(m==null?void 0:m.container)==="audio/mpeg"&&(y=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const v=l.start,b={execute:()=>{if(d.executeStart=self.performance.now(),y){const x=this.sourceBuffer[a];if(x){const S=v-x.timestampOffset;Math.abs(S)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${v} (delta: ${S}) sn: ${l.sn})`),x.timestampOffset=v)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const x=self.performance.now();d.executeEnd=d.end=x,h.first===0&&(h.first=x),p&&p.first===0&&(p.first=x);const{sourceBuffer:S}=this,T={};for(const C in S)T[C]=kt.getBuffered(S[C]);this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(_.BUFFER_APPENDED,{type:a,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:T})},onError:x=>{const S={type:Pe.MEDIA_ERROR,parent:l.type,details:Z.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:l,part:c,chunkMeta:u,error:x,err:x,fatal:!1};if(x.code===DOMException.QUOTA_EXCEEDED_ERR)S.details=Z.BUFFER_FULL_ERROR;else{const T=++this.appendErrors[a];S.details=Z.BUFFER_APPEND_ERROR,this.warn(`Failed ${T}/${r.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),T>=r.config.appendErrorMaxRetry&&(S.fatal=!0)}r.trigger(_.ERROR,S)}};i.append(b,a,!!this.pendingTracks[a])}onBufferFlushing(e,n){const{operationQueue:r}=this,i=s=>({execute:this.removeExecutor.bind(this,s,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(_.BUFFER_FLUSHED,{type:s})},onError:o=>{this.warn(`Failed to remove from ${s} SourceBuffer`,o)}});n.type?r.append(i(n.type),n.type):this.getSourceBufferTypes().forEach(s=>{r.append(i(s),s)})}onFragParsed(e,n){const{frag:r,part:i}=n,s=[],o=i?i.elementaryStreams:r.elementaryStreams;o[gt.AUDIOVIDEO]?s.push("audiovideo"):(o[gt.AUDIO]&&s.push("audio"),o[gt.VIDEO]&&s.push("video"));const a=()=>{const l=self.performance.now();r.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const c=i?i.stats:r.stats;this.hls.trigger(_.FRAG_BUFFERED,{frag:r,part:i,stats:c,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,s)}onFragChanged(e,n){this.trimBuffers()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((i,s)=>{const o=this.sourceBuffer[s];return o&&(!n.type||n.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${s} sourceBuffer now EOS`))),i&&!!(!o||o.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const o=this.sourceBuffer[s];o&&(o.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.getSourceBufferTypes().length)return;const s=e.config,o=r.currentTime,a=n.levelTargetDuration,l=n.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(ve(l)&&l>0){const c=Math.max(l,a),u=Math.floor(o/a)*a-c;this.flushBackBuffer(o,a,u)}if(ve(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const c=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),u=Math.max(c,a),d=Math.floor(o/a)*a+u;this.flushFrontBuffer(o,a,d)}}flushBackBuffer(e,n,r){const{details:i,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(a=>{const l=s[a];if(l){const c=kt.getBuffered(l);if(c.length>0&&r>c.start(0)){if(this.hls.trigger(_.BACK_BUFFER_REACHED,{bufferEnd:r}),i!=null&&i.live)this.hls.trigger(_.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l.ended&&c.end(c.length-1)-e<n*2){this.log(`Cannot flush ${a} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(_.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:a})}}})}flushFrontBuffer(e,n,r){const{sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(o=>{const a=i[o];if(a){const l=kt.getBuffered(a),c=l.length;if(c<2)return;const u=l.start(c-1),d=l.end(c-1);if(r>u||e>=u&&e<=d)return;if(a.ended&&e-d<2*n){this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(_.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:o})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:r,mediaSource:i}=this,s=e.fragments[0].start+e.totalduration,o=r.duration,a=ve(i.duration)?i.duration:0;e.live&&n.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(e)):(s>a&&s>o||!ve(o))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),i.duration=s)}updateSeekableRange(e){const n=this.mediaSource,r=e.fragments;if(r.length&&e.live&&n!=null&&n.setLiveSeekableRange){const s=Math.max(0,r[0].start),o=Math.max(s,s+e.totalduration);this.log(`Media Source duration is set to ${n.duration}. Setting seekable range to ${s}-${o}.`),n.setLiveSeekableRange(s,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:r}=this,i=Object.keys(r).length;if(i&&(!e||i===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(_.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(o=>{n.executeNext(o)});else{const o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!n[s]){var i;const o=e[s];if(!o)throw Error(`source buffer exists for track ${s}, however track does not`);let a=((i=o.levelCodec)==null?void 0:i.indexOf(","))===-1?o.levelCodec:o.codec;a&&s.slice(0,5)==="audio"&&(a=Ug(a,this.appendSource));const l=`${o.container};codecs=${a}`;this.log(`creating sourceBuffer(${l})`);try{const c=n[s]=r.addSourceBuffer(l),u=s;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(d,f)=>{const h=f.removedRanges;h!=null&&h.length&&this.hls.trigger(_.BUFFER_FLUSHED,{type:s})}),this.tracks[s]={buffer:c,codec:a,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:s,mimeType:l})}}}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(i)}removeExecutor(e,n,r){const{media:i,mediaSource:s,operationQueue:o,sourceBuffer:a}=this,l=a[e];if(!i||!s||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}const c=ve(i.duration)?i.duration:1/0,u=ve(s.duration)?s.duration:1/0,d=Math.max(0,n),f=Math.min(r,c,u);f>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),l.remove(d,f)):o.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.sourceBuffer[n];if(!r){if(!this.pendingTracks[n])throw new Error(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,i=n.map(s=>r.appendBlocker(s));Promise.all(i).then(()=>{e(),n.forEach(s=>{const o=this.sourceBuffer[s];o!=null&&o.updating||r.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,r){const i=this.sourceBuffer[e];if(!i)return;const s=r.bind(this,e);this.listeners[e].push({event:n,listener:s}),i.addEventListener(n,s)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(r=>{n.removeEventListener(r.event,r.listener)})}}function F_(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function Vhe(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}const Hhe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},AF=t=>String.fromCharCode(Hhe[t]||t),ji=15,Bs=100,Whe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ghe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Khe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Yhe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},qhe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Xhe{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;K.log(`${this.time} [${e}] ${r}`)}}}const Aa=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class RF{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Qhe{constructor(){this.uchar=" ",this.penState=new RF}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Zhe{constructor(e){this.chars=[],this.pos=0,this.currPenState=new RF,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<Bs;n++)this.chars.push(new Qhe);this.logger=e}equals(e){for(let n=0;n<Bs;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<Bs;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<Bs;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Bs&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Bs)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=AF(e);if(this.pos>=Bs){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<Bs;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<Bs;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Sx{constructor(e){this.rows=[],this.currRow=ji-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<ji;n++)this.rows.push(new Zhe(e));this.logger=e}reset(){for(let e=0;e<ji;e++)this.rows[e].clear();this.currRow=ji-1}equals(e){let n=!0;for(let r=0;r<ji;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<ji;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<ji;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<ji;a++)this.rows[a].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const a=o.rows[s].cueStartTime,l=this.logger.time;if(a!==null&&l!==null&&a<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(o.rows[s+c])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let s=0;s<ji;s++){const o=this.rows[s].getTextString();o&&(i=s+1,e?n.push("Row "+i+": '"+o+"'"):n.push(o.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class j_{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Sx(r),this.nonDisplayedMemory=new Sx(r),this.lastOutputScreen=new Sx(r),this.currRollUpRow=this.displayedMemory.rows[ji-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[ji-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class N_{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=epe(),this.logger=void 0;const i=this.logger=new Xhe;this.channels=[null,new j_(e,n,i),new j_(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,s=n[r+1]&127;let o=!1,a=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Aa([n[r],n[r+1]])+"] -> ("+Aa([i,s])+")");const l=this.cmdHistory;if(i>=16&&i<=31){if(Jhe(i,s,l)){Op(null,null,l),this.logger.log(3,()=>"Repeated command ("+Aa([i,s])+") is dropped");continue}Op(i,s,this.cmdHistory),o=this.parseCmd(i,s),o||(o=this.parseMidrow(i,s)),o||(o=this.parsePAC(i,s)),o||(o=this.parseBackgroundAttributes(i,s))}else Op(null,null,l);if(!o&&(a=this.parseChars(i,s),a)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Aa([i,s])+" orig: "+Aa([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?n===32?o.ccRCL():n===33?o.ccBS():n===34?o.ccAOF():n===35?o.ccAON():n===36?o.ccDER():n===37?o.ccRU(2):n===38?o.ccRU(3):n===39?o.ccRU(4):n===40?o.ccFON():n===41?o.ccRDC():n===42?o.ccTR():n===43?o.ccRTD():n===44?o.ccEDM():n===45?o.ccCR():n===46?o.ccENM():n===47&&o.ccEOC():o.ccTO(n-32),this.currentChannel=s,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+Aa([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,s=(e===16||e===24)&&n>=64&&n<=95;if(!(i||s))return!1;const o=e<=23?1:2;n>=64&&n<=95?r=o===1?Whe[e]:Khe[e]:r=o===1?Ghe[e]:Yhe[e];const a=this.channels[o];return a?(a.setPAC(this.interpretPAC(r,n)),this.currentChannel=o,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let o;s===17?o=n+80:s===18?o=n+112:o=n+144,this.logger.log(2,()=>"Special char '"+AF(o)+"' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+Aa(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let s;const o={};e===16||e===24?(s=Math.floor((n-32)/2),o.background=qhe[s],n%2===1&&(o.background=o.background+"_semi")):n===45?o.background="transparent":(o.foreground="black",n===47&&(o.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}Op(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function Op(t,e,n){n.a=t,n.b=e}function Jhe(t,e,n){return n.a===t&&n.b===e}function epe(){return{a:null,b:null}}class Fp{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var nE=function(){if(mu!=null&&mu.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;const c=l.toLowerCase();return~a.indexOf(c)?c:!1}function r(a){return n(t,a)}function i(a){return n(e,a)}function s(a,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)a[d]=u[d]}return a}function o(a,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let f="",h=!1,p=a,m=l,y=c,v=null,b="",x=!0,S="auto",T="start",C=50,E="middle",k=50,A="middle";Object.defineProperty(u,"id",s({},d,{get:function(){return f},set:function(R){f=""+R}})),Object.defineProperty(u,"pauseOnExit",s({},d,{get:function(){return h},set:function(R){h=!!R}})),Object.defineProperty(u,"startTime",s({},d,{get:function(){return p},set:function(R){if(typeof R!="number")throw new TypeError("Start time must be set to a number.");p=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",s({},d,{get:function(){return m},set:function(R){if(typeof R!="number")throw new TypeError("End time must be set to a number.");m=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",s({},d,{get:function(){return y},set:function(R){y=""+R,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",s({},d,{get:function(){return v},set:function(R){v=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",s({},d,{get:function(){return b},set:function(R){const L=r(R);if(L===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",s({},d,{get:function(){return x},set:function(R){x=!!R,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",s({},d,{get:function(){return S},set:function(R){if(typeof R!="number"&&R!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");S=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",s({},d,{get:function(){return T},set:function(R){const L=i(R);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");T=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",s({},d,{get:function(){return C},set:function(R){if(R<0||R>100)throw new Error("Position must be between 0 and 100.");C=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",s({},d,{get:function(){return E},set:function(R){const L=i(R);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");E=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",s({},d,{get:function(){return k},set:function(R){if(R<0||R>100)throw new Error("Size must be between 0 and 100.");k=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",s({},d,{get:function(){return A},set:function(R){const L=i(R);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");A=L,this.hasBeenReset=!0}})),u.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class tpe{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function _F(t){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(o||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class npe{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function LF(t,e,n,r){const i=r?t.split(r):[t];for(const s in i){if(typeof i[s]!="string")continue;const o=i[s].split(n);if(o.length!==2)continue;const a=o[0],l=o[1];e(a,l)}}const J1=new nE(0,0,""),jp=J1.align==="middle"?"middle":"center";function rpe(t,e,n){const r=t;function i(){const a=_F(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){const c=new npe;LF(a,function(f,h){let p;switch(f){case"region":for(let m=n.length-1;m>=0;m--)if(n[m].id===h){c.set(f,n[m].region);break}break;case"vertical":c.alt(f,h,["rl","lr"]);break;case"line":p=h.split(","),c.integer(f,p[0]),c.percent(f,p[0])&&c.set("snapToLines",!1),c.alt(f,p[0],["auto"]),p.length===2&&c.alt("lineAlign",p[1],["start",jp,"end"]);break;case"position":p=h.split(","),c.percent(f,p[0]),p.length===2&&c.alt("positionAlign",p[1],["start",jp,"end","line-left","line-right","auto"]);break;case"size":c.percent(f,h);break;case"align":c.alt(f,h,["start",jp,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&J1.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",jp);let d=c.get("position","auto");d==="auto"&&J1.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),s(t,e)}function IF(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class ipe{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new tpe,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let s=n.buffer,o=0;for(s=IF(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const a=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,n.buffer=s.slice(o),a}function i(s){LF(s,function(o,a){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=r();const a=s.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let o=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:s=r(),n.state){case"HEADER":/:/.test(s)?i(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new nE(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{rpe(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=s.indexOf("-->")!==-1;if(!s||a&&(o=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const spe=/\r\n|\n\r|\n|\r/g,wx=function(e,n,r=0){return e.slice(r,r+n.length)===n},ope=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!ve(n)||!ve(r)||!ve(i)||!ve(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=60*60*1e3*s,n},Tx=function(e){let n=5381,r=e.length;for(;r;)n=n*33^e.charCodeAt(--r);return(n>>>0).toString()};function rE(t,e,n){return Tx(t.toString())+Tx(e.toString())+Tx(n)}const ape=function(e,n,r){let i=e[n],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function lpe(t,e,n,r,i,s,o){const a=new ipe,l=Es(new Uint8Array(t)).trim().replace(spe,`
`).split(`
`),c=[],u=e?Che(e.baseTime,e.timescale):0;let d="00:00.000",f=0,h=0,p,m=!0;a.oncue=function(y){const v=n[r];let b=n.ccOffset;const x=(f-u)/9e4;if(v!=null&&v.new&&(h!==void 0?b=n.ccOffset=v.start:ape(n,r,x)),x){if(!e){p=new Error("Missing initPTS for VTT MPEGTS");return}b=x-n.presentationOffset}const S=y.endTime-y.startTime,T=di((y.startTime+b-h)*9e4,i*9e4)/9e4;y.startTime=Math.max(T,0),y.endTime=Math.max(T+S,0);const C=y.text.trim();y.text=decodeURIComponent(encodeURIComponent(C)),y.id||(y.id=rE(y.startTime,y.endTime,C)),y.endTime>0&&c.push(y)},a.onparsingerror=function(y){p=y},a.onflush=function(){if(p){o(p);return}s(c)},l.forEach(y=>{if(m)if(wx(y,"X-TIMESTAMP-MAP=")){m=!1,y.slice(16).split(",").forEach(v=>{wx(v,"LOCAL:")?d=v.slice(6):wx(v,"MPEGTS:")&&(f=parseInt(v.slice(7)))});try{h=ope(d)/1e3}catch(v){p=v}return}else y===""&&(m=!1);a.parse(y+`
`)}),a.flush()}const Ex="stpp.ttml.im1t",PF=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,DF=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,cpe={left:"start",center:"center",right:"end",start:"start",end:"end"};function B_(t,e,n,r){const i=Ne(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(a=>Es(a)),o=Ehe(e.baseTime,1,e.timescale);try{s.forEach(a=>n(upe(a,o)))}catch(a){r(a)}}function upe(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((d,f)=>(d[f]=i.getAttribute(`ttp:${f}`)||s[f],d),{}),a=i.getAttribute("xml:space")!=="preserve",l=$_(Cx(i,"styling","style")),c=$_(Cx(i,"layout","region")),u=Cx(i,"body","[begin]");return[].map.call(u,d=>{const f=MF(d,a);if(!f||!d.hasAttribute("begin"))return null;const h=Ax(d.getAttribute("begin"),o),p=Ax(d.getAttribute("dur"),o);let m=Ax(d.getAttribute("end"),o);if(h===null)throw z_(d);if(m===null){if(p===null)throw z_(d);m=h+p}const y=new nE(h-e,m-e,f);y.id=rE(y.startTime,y.endTime,y.text);const v=c[d.getAttribute("region")],b=l[d.getAttribute("style")],x=dpe(v,b,l),{textAlign:S}=x;if(S){const T=cpe[S];T&&(y.lineAlign=T),y.align=S}return gn(y,x),y}).filter(d=>d!==null)}function Cx(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function $_(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function MF(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var s;return r.nodeName==="br"&&i?n+`
`:(s=r.childNodes)!=null&&s.length?MF(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function dpe(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&n.hasOwnProperty(o)&&(i=n[o]),s.reduce((a,l)=>{const c=kx(e,r,l)||kx(t,r,l)||kx(i,r,l);return c&&(a[l]=c),a},{})}function kx(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function z_(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Ax(t,e){if(!t)return null;let n=_F(t);return n===null&&(PF.test(t)?n=fpe(t,e):DF.test(t)&&(n=hpe(t,e))),n}function fpe(t,e){const n=PF.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function hpe(t,e){const n=DF.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class ppe{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=V_(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(_.FRAG_LOADING,this.onFragLoading,this),e.on(_.FRAG_LOADED,this.onFragLoaded,this),e.on(_.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(_.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(_.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(_.FRAG_LOADING,this.onFragLoading,this),e.off(_.FRAG_LOADED,this.onFragLoaded,this),e.off(_.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(_.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(_.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new Fp(this,"textTrack1"),n=new Fp(this,"textTrack2"),r=new Fp(this,"textTrack3"),i=new Fp(this,"textTrack4");this.cea608Parser1=new N_(1,e,n),this.cea608Parser2=new N_(3,r,i)}}addCues(e,n,r,i,s){let o=!1;for(let a=s.length;a--;){const l=s[a],c=mpe(l[0],l[1],n,r);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),o=!0,c/(r-n)>.5))return}if(o||s.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,i)}else{const a=this.Cues.newCue(null,n,r,i);this.hls.trigger(_.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:o}=this;r==="main"&&(this.initPTS[n.cc]={baseTime:i,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(_.FRAG_LOADED,a)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(U_(s,{name:e,lang:n,attrs:{}}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:s,languageCode:o}=n[e],a=this.getExistingTrack(s,o);if(a)r[e]=a,Ec(r[e]),eF(r[e],i);else{const l=this.createTextTrack("captions",s,o);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(_.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{Ec(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=V_(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)Ec(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(s=>s.textCodec===Ex);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(kF(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media,a=o?Am(o.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(a){let d=null;for(let f=0;f<a.length;f++)if(a[f]&&U_(a[f],l)){d=a[f],a[f]=null;break}d&&(u=d)}if(u)Ec(u);else{const d=OF(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),a!=null&&a.length){const l=a.filter(c=>c!==null).map(c=>c.label);l.length&&K.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(_.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,o=this.captionsProperties[s];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===Le.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:o,lastSn:a}=this,{cc:l,sn:c}=n.frag,u=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;s&&o&&(c!==a+1||c===a&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(s.reset(),o.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===Le.SUBTITLE)if(i.byteLength){const s=r.decryptdata,o="stats"in n;if(s==null||!s.encrypted||o){const a=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===Ex?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;B_(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{K.log(`Failed to parse IMSC1: ${i}`),r.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:o}=this,a=s.length-1;if(!s[r.cc]&&a===-1){o.push(e);return}const l=this.hls,c=(n=r.initSegment)!=null&&n.data?Li(r.initSegment.data,new Uint8Array(i)):i;lpe(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,u=>{this._appendCues(u,r.level),l.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?o.push(e):this._fallbackToIMSC1(r,i),K.log(`Failed to parse VTT cue: ${u}`),!(d&&a>r.cc)&&l.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:u})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||B_(n,this.initPTS[e.cc],()=>{r.textCodec=Ex,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(s=>tF(i,s))}else{const i=this.tracks[n];if(!i)return;const s=i.default?"default":"subtitles"+n;r.trigger(_.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===Le.SUBTITLE&&this.onFragLoaded(_.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:i}=this;if(!this.enabled||!r||!i)return;const{frag:s,samples:o}=n;if(!(s.type===Le.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let a=0;a<o.length;a++){const l=o[a].bytes;if(l){const c=this.extractCea608Data(l);r.addData(o[a].pts,c[0]),i.addData(o[a].pts,c[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!s||s==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(l=>G1(a[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(l=>G1(a[l],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const o=e[i++],a=127&e[i++],l=127&e[i++];if(a===0&&l===0)continue;if((4&o)!==0){const u=3&o;(u===0||u===1)&&(n[u].push(a),n[u].push(l))}}return n}}function OF(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function U_(t,e){return!!t&&t.kind===OF(e)&&Z1(e,t)}function mpe(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function V_(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class iE{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(_.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.BUFFER_CODECS,this.onBufferCodecs,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(_.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.BUFFER_CODECS,this.onBufferCodecs,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&ve(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&K.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,iE.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0;let s=e.length-1;const o=Math.max(n,r);for(let a=0;a<e.length;a+=1){const l=e[a];if((l.width>=o||l.height>=o)&&i(l,e[a+1])){s=a;break}}return s}}class gpe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const s=i-this.lastTime,o=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,l=1e3*o/s,c=this.hls;if(c.trigger(_.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),l>0&&o>c.config.fpsDroppedMonitoringThreshold*a){let u=c.currentLevel;K.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(_.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Np="[eme]";class Vc{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Vc.CDMCleanupPromise?[Vc.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=K.debug.bind(K,Np),this.log=K.log.bind(K,Np),this.warn=K.warn.bind(K,Np),this.error=K.error.bind(K,Np),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(_.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(_.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(_.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(_.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n[e];if(i)return i.licenseUrl;if(e===At.WIDEVINE&&r)return r;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(o,a,l)=>!!o&&l.indexOf(o)===a,i=n.map(o=>o.audioCodec).filter(r),s=n.map(o=>o.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,a)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,i,s).then(d=>o({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof li?a(d):a(new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return zO===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){const i=wde(e,n,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s==null?void 0:s.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),o=this.requestMediaKeySystemAccess(e,i);const a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),o.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(u,e,d):u))),a.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),a.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${ls.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(n),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return ls.hexDump(e.keyId)}updateKeySession(e,n){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${ls.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),i.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const i=cx(this.config),s=e.map(qR).filter(o=>!!o&&i.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:o})=>{const a=QR(o);a?n(a):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then(({keySystem:o,mediaKeys:a})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,a).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:n});return this.generateRequestWithPreferredKeySession(l,"cenc",n.pssh,"playlist-key")}))),s.catch(o=>this.handleError(o))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof li?this.hls.trigger(_.ERROR,e.data):this.hls.trigger(_.ERROR,{type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=qR(e.keyFormat),s=i?[i]:cx(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=cx(this.config)),e.length===0)throw new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:n,initData:r}=e,i=`"${e.type}" event: init data type: "${n}"`;if(this.debug(i),r===null)return;let s,o;if(n==="sinf"&&this.config.drmSystems[At.FAIRPLAY]){const d=wn(new Uint8Array(r));try{const f=VT(JSON.parse(d).sinf),h=qO(new Uint8Array(f));if(!h)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");s=h.subarray(8,24),o=At.FAIRPLAY}catch(f){this.warn(`${i} Failed to parse sinf: ${f}`);return}}else{const d=Kde(r),f=d.filter(h=>h.systemId===Ld.WIDEVINE)[0];if(!f){d.length===0||d.some(h=>!h.systemId)?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${d.map(h=>XR(h.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(o=XR(f.systemId),f.version===0&&f.data){const h=f.data.length-22;s=f.data.subarray(h,h+16)}}if(!o||!s)return;const a=ls.hexDump(s),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let u=l[a];for(let d=0;d<c.length;d++){const f=c[d],h=f.decryptdata;if(!h.keyId)continue;const p=ls.hexDump(h.keyId);if(a===p||h.uri.replace(/-/g,"").indexOf(a)!==-1){if(u=l[p],h.pssh)break;delete l[p],h.pssh=new Uint8Array(r),h.keyId=s,u=l[a]=u.then(()=>this.generateRequestWithPreferredKeySession(f,n,r,"encrypted-event-key-match"));break}}u||(u=l[a]=this.getKeySystemSelectionPromise([o]).then(({keySystem:d,mediaKeys:f})=>{var h;this.throwIfDestroyed();const p=new eh("ISO-23001-7",a,(h=QR(d))!=null?h:"");return p.pssh=new Uint8Array(r),p.keyId=s,this.attemptSetMediaKeys(d,f).then(()=>{this.throwIfDestroyed();const m=this.createMediaKeySessionContext({decryptdata:p,keySystem:d,mediaKeys:f});return this.generateRequestWithPreferredKeySession(m,n,r,"encrypted-event-no-match")})})),u.catch(d=>this.handleError(d))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var s,o;const a=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const p=a.call(this.hls,n,r,e);if(!p)throw new Error("Invalid response from configured generateRequest filter");n=p.initDataType,r=e.decryptdata.pssh=p.initData?new Uint8Array(p.initData):null}catch(p){var l;if(this.warn(p.message),(l=this.hls)!=null&&l.config.debug)throw p}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${c} (init data type: ${n} length: ${r?r.byteLength:null})`);const u=new tE,d=e._onmessage=p=>{const m=e.mediaKeysSession;if(!m){u.emit("error",new Error("invalid state"));return}const{messageType:y,message:v}=p;this.log(`"${y}" message event for session "${m.sessionId}" message size: ${v.byteLength}`),y==="license-request"||y==="license-renewal"?this.renewLicense(e,v).catch(b=>{this.handleError(b),u.emit("error",b)}):y==="license-release"?e.keySystem===At.FAIRPLAY&&(this.updateKeySession(e,H1("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${y}"`)},f=e._onkeystatuseschange=p=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const y=e.keyStatus;u.emit("keyStatus",y),y==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",f);const h=new Promise((p,m)=>{u.on("error",m),u.on("keyStatus",y=>{y.startsWith("usable")?p():y==="output-restricted"?m(new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):y==="internal-error"?m(new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${y}"`)):y==="expired"?m(new Error("key expired while generating request")):this.warn(`unhandled key status change "${y}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var p;this.log(`Request generated for key-session "${(p=e.mediaKeysSession)==null?void 0:p.sessionId}" keyId: ${c}`)}).catch(p=>{throw new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_NO_SESSION,error:p,fatal:!1},`Error generating key-session request: ${p}`)}).then(()=>h).catch(p=>{throw u.removeAllListeners(),this.removeSession(e),p}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${ls.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${ls.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,a)=>{const l={responseType:"arraybuffer",url:s},c=n.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,p,m)=>{o(f.data)},onError:(f,h,p,m)=>{a(new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:On({url:l.url,data:void 0},f)},`"${e}" certificate request failed (${s}). Status: ${f.code} (${f.text})`))},onTimeout:(f,h,p)=>{a(new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(f,h,p)=>{a(new Error("aborted"))}};i.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),i(e)}).catch(o=>{s(new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let u;for(let d=0,f=s.length;d<f;d++){var o,a;u=s[d];const h=(o=u.querySelector("name"))==null?void 0:o.textContent,p=(a=u.querySelector("value"))==null?void 0:a.textContent;h&&p&&e.setRequestHeader(h,p)}}const l=i.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return H1(atob(c))}setupLicenseXHR(e,n,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,r,i)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",n,!0),s.call(this.hls,e,n,r,i)}).then(o=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const o=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,a,o,e)}catch(u){this.error(u)}i(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)s(new li({type:Pe.KEY_SYSTEM_ERROR,details:Z.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,n).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==At.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},eh.clearKeyUriToKeyIdMap();const r=n.length;Vc.CDMCleanupPromise=Promise.all(n.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>n.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}Vc.CDMCleanupPromise=void 0;class li extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}var qn;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(qn||(qn={}));var eS;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(eS||(eS={}));var Xa;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(Xa||(Xa={}));const ype={[Xa.OBJECT]:["br","d","ot","tb"],[Xa.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Xa.SESSION]:["cid","pr","sf","sid","st","v"],[Xa.STATUS]:["bs","rtp"]};class vu{constructor(e,n){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof vu?r:new vu(r))),this.value=e,this.params=n}}class FF{constructor(e){this.description=void 0,this.description=e}}const vpe="Dict";function xpe(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function bpe(t,e,n,r){return new Error(`failed to ${t} "${xpe(e)}" as ${n}`,{cause:r})}const H_="Bare Item",Spe="Boolean",wpe="Byte Sequence",Tpe="Decimal",Epe="Integer";function Cpe(t){return t<-999999999999999||999999999999999<t}const kpe=/[\x00-\x1f\x7f]+/,Ape="Token",Rpe="Key";function ks(t,e,n){return bpe("serialize",t,e,n)}function _pe(t){if(typeof t!="boolean")throw ks(t,Spe);return t?"?1":"?0"}function Lpe(t){return btoa(String.fromCharCode(...t))}function Ipe(t){if(ArrayBuffer.isView(t)===!1)throw ks(t,wpe);return`:${Lpe(t)}:`}function jF(t){if(Cpe(t))throw ks(t,Epe);return t.toString()}function Ppe(t){return`@${jF(t.getTime()/1e3)}`}function NF(t,e){if(t<0)return-NF(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}function Dpe(t){const e=NF(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw ks(t,Tpe);const n=e.toString();return n.includes(".")?n:`${n}.0`}const Mpe="String";function Ope(t){if(kpe.test(t))throw ks(t,Mpe);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function Fpe(t){return t.description||t.toString().slice(7,-1)}function W_(t){const e=Fpe(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw ks(e,Ape);return e}function tS(t){switch(typeof t){case"number":if(!ve(t))throw ks(t,H_);return Number.isInteger(t)?jF(t):Dpe(t);case"string":return Ope(t);case"symbol":return W_(t);case"boolean":return _pe(t);case"object":if(t instanceof Date)return Ppe(t);if(t instanceof Uint8Array)return Ipe(t);if(t instanceof FF)return W_(t);default:throw ks(t,H_)}}function nS(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw ks(t,Rpe);return t}function sE(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${nS(e)}`:`;${nS(e)}=${tS(n)}`).join("")}function BF(t){return t instanceof vu?`${tS(t.value)}${sE(t.params)}`:tS(t)}function jpe(t){return`(${t.value.map(BF).join(" ")})${sE(t.params)}`}function Npe(t,e={whitespace:!0}){if(typeof t!="object")throw ks(t,vpe);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([i,s])=>{s instanceof vu||(s=new vu(s));let o=nS(i);return s.value===!0?o+=sE(s.params):(o+="=",Array.isArray(s.value)?o+=jpe(s):o+=BF(s)),o}).join(`,${r}`)}function Bpe(t,e){return Npe(t,e)}const $pe=t=>t==="ot"||t==="sf"||t==="st",zpe=t=>typeof t=="number"?ve(t):t!=null&&t!==""&&t!==!1;function Upe(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}function Vpe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?s:s&3|8).toString(16)})}}}const Dm=t=>Math.round(t),Hpe=(t,e)=>(e!=null&&e.baseUrl&&(t=Upe(t,e.baseUrl)),encodeURIComponent(t)),Bp=t=>Dm(t/100)*100,Wpe={br:Dm,d:Dm,bl:Bp,dl:Bp,mtp:Bp,nor:Hpe,rtp:Bp,tb:Dm};function Gpe(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),i=gn({},Wpe,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return r.forEach(o=>{if(s!=null&&s(o))return;let a=t[o];const l=i[o];l&&(a=l(a,e)),!(o==="v"&&a===1)&&(o=="pr"&&a===1||zpe(a)&&($pe(o)&&typeof a=="string"&&(a=new FF(a)),n[o]=a))}),n}function $F(t,e={}){return t?Bpe(Gpe(t,e),gn({whitespace:!1},e)):""}function Kpe(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(ype).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=n.reduce((s,o)=>{var a,l;const[c,u]=o,d=((a=r.find(f=>f[1].includes(c)))==null?void 0:a[0])||Xa.REQUEST;return(l=s[d])!=null||(s[d]={}),s[d][c]=u,s},{});return Object.entries(i).reduce((s,[o,a])=>(s[o]=$F(a,e),s),{})}function Ype(t,e,n){return gn(t,Kpe(e,n))}const qpe="CMCD";function Xpe(t,e={}){if(!t)return"";const n=$F(t,e);return`${qpe}=${encodeURIComponent(n)}`}const G_=/CMCD=[^&#]+/;function Qpe(t,e,n){const r=Xpe(e,n);if(!r)return t;if(G_.test(t))return t.replace(G_,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class Zpe{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:qn.MANIFEST,su:!this.initialized})}catch(s){K.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const s=i.frag,o=this.hls.levels[s.level],a=this.getObjectType(s),l={d:s.duration*1e3,ot:a};(a===qn.VIDEO||a===qn.AUDIO||a==qn.MUXED)&&(l.br=o.bitrate/1e3,l.tb=this.getTopBandwidth(a)/1e3,l.bl=this.getBufferLength(a)),this.apply(i,l)}catch(s){K.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||Vpe(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHED,this.onMediaDetached,this),e.on(_.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHED,this.onMediaDetached,this),e.off(_.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:eS.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){gn(n,this.createData());const r=n.ot===qn.INIT||n.ot===qn.VIDEO||n.ot===qn.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((s,o)=>(i.includes(o)&&(s[o]=n[o]),s),{})),this.useHeaders?(e.headers||(e.headers={}),Ype(e.headers,n)):e.url=Qpe(e.url,n)}getObjectType(e){const{type:n}=e;if(n==="subtitle")return qn.TIMED_TEXT;if(e.sn==="initSegment")return qn.INIT;if(n==="audio")return qn.AUDIO;if(n==="main")return this.hls.audioTracks.length?qn.VIDEO:qn.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===qn.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,o=s>-1?s+1:i.levels.length;r=i.levels.slice(0,o)}for(const s of r)s.bitrate>n&&(n=s.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,r=e===qn.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:kt.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}}const Jpe=3e5;class eme{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=K.log.bind(K,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===$n.SendAlternateToPenaltyBox&&r.flags===Fi.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this.pathwayPriority,o=this.pathwayId;if(n.context){const{groupId:a,pathwayId:l,type:c}=n.context;a&&i?o=this.getPathwayForGroupId(a,c,o):l&&(o=l)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!s&&i&&(s=i.reduce((a,l)=>(a.indexOf(l.pathwayId)===-1&&a.push(l.pathwayId),a),[])),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==o),r.resolved||K.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${o} levels: ${i&&i.length} priorities: ${JSON.stringify(s)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>Jpe&&delete r[s]});for(let s=0;s<e.length;s++){const o=e[s];if(o in r)continue;if(o===this.pathwayId)return;const a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(n=this.getLevelsForPathway(o),n.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,sF(n),this.hls.trigger(_.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[a];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(n===et.AUDIO_TRACK&&i[s].hasAudioGroup(e)||n===et.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(s=>{const{ID:o,"BASE-ID":a,"URI-REPLACEMENT":l}=s;if(n.some(u=>u.pathwayId===o))return;const c=this.getLevelsForPathway(a).map(u=>{const d=new Gt(u.attrs);d["PATHWAY-ID"]=o;const f=d.AUDIO&&`${d.AUDIO}_clone_${o}`,h=d.SUBTITLES&&`${d.SUBTITLES}_clone_${o}`;f&&(r[d.AUDIO]=f,d.AUDIO=f),h&&(i[d.SUBTITLES]=h,d.SUBTITLES=h);const p=zF(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),m=new gu({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:p,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let y=1;y<u.audioGroups.length;y++)m.addGroupId("audio",`${u.audioGroups[y]}_clone_${o}`);if(u.subtitleGroups)for(let y=1;y<u.subtitleGroups.length;y++)m.addGroupId("text",`${u.subtitleGroups[y]}_clone_${o}`);return m});n.push(...c),K_(this.audioTracks,r,l,o),K_(this.subtitleTracks,i,l,o)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+u)}const s={responseType:"json",url:i.href},o=n.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(u,d,f,h)=>{this.log(`Loaded steering manifest: "${i}"`);const p=u.data;if(p.VERSION!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":y,"PATHWAY-PRIORITY":v}=p;if(m)try{this.uri=new self.URL(m,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||f.url),y&&this.clonePathways(y);const b={steeringManifest:p,url:i.toString()};this.hls.trigger(_.STEERING_MANIFEST_LOADED,b),v&&this.updatePathwayPriority(v)},onError:(u,d,f,h)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let p=this.timeToLoad*1e3;if(u.code===429){const m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){const y=m.getResponseHeader("Retry-After");y&&(p=parseFloat(y)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,p)},onTimeout:(u,d,f)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function K_(t,e,n,r){t&&Object.keys(e).forEach(i=>{const s=t.filter(o=>o.groupId===i).map(o=>{const a=gn({},o);return a.details=void 0,a.attrs=new Gt(a.attrs),a.url=a.attrs.URI=zF(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[i],a.attrs["PATHWAY-ID"]=r,a});t.push(...s)})}function zF(t,e,n,r){const{HOST:i,PARAMS:s,[n]:o}=r;let a;e&&(a=o==null?void 0:o[e],a&&(t=a));const l=new self.URL(t);return i&&!a&&(l.host=i),s&&Object.keys(s).sort().forEach(c=>{c&&l.searchParams.set(c,s[c])}),l.href}const tme=/^age:\s*[\d.]+\s*$/im;class UF{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new dy,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,n.url)}).catch(o=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),s(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(o=>{this.callbacks.onError({code:r.status,text:o.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=r.loadPolicy;if(i)for(const a in i)e.setRequestHeader(a,i[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&ve(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,a=n.responseType!=="text";if(o>=200&&o<300&&(a&&n.response||n.responseText!==null)){r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=a?n.response:n.responseText,c=n.responseType==="arraybuffer"?l.byteLength:l.length;if(r.loaded=r.total=c,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const u=this.callbacks.onProgress;if(u&&u(r,e,l,n),!this.callbacks)return;const d={url:n.responseURL,data:l,code:o};this.callbacks.onSuccess(d,r,e,n)}else{const l=s.loadPolicy.errorRetry,c=r.retry,u={url:e.url,data:void 0,code:o};Wg(l,c,!1,u)?this.retry(l):(K.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:n.statusText},e,n,r))}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Wg(e,n,!0))this.retry(e);else{var r;K.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=GT(e,r.retry),r.retry++,K.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&tme.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function nme(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const rme=/(\d+)-(\d+)\/(\d+)/;class Y_{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||ame,this.controller=new self.AbortController,this.stats=new dy}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=ime(e,this.controller.signal),o=r.onProgress,a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=c&&ve(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},n.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const f=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},u-(f-i.loading.start)),!d.ok){const{status:h,statusText:p}=d;throw new lme(p||"fetch, bad network response",h,d)}return i.loading.first=f,i.total=ome(d.headers)||i.total,o&&ve(n.highWaterMark)?this.loadProgressively(d,i,e,n.highWaterMark,o):a?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const f=this.response;if(!f)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const h=d[l];h&&(i.loaded=i.total=h);const p={url:f.url,data:d,code:f.status};o&&!ve(n.highWaterMark)&&o(i,e,d,f),r.onSuccess(p,i,e,f)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const f=d&&d.code||0,h=d?d.message:null;r.onError({code:f,text:h},e,d?d.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,s){const o=new cF,a=e.body.getReader(),l=()=>a.read().then(c=>{if(c.done)return o.dataLength&&s(n,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return n.loaded+=d,d<i||o.dataLength?(o.push(u),o.dataLength>=i&&s(n,r,o.flush(),e)):s(n,r,u,e),l()}).catch(()=>Promise.reject());return l()}}function ime(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(gn({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function sme(t){const e=rme.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function ome(t){const e=t.get("Content-Range");if(e){const r=sme(e);if(ve(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function ame(t,e){return new self.Request(t.url,e)}class lme extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const cme=/\s/,ume={newCue(t,e,n,r){const i=[];let s,o,a,l,c;const u=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(s=r.rows[f],a=!0,l=0,c="",!s.isEmpty()){var d;for(let m=0;m<s.chars.length;m++)cme.test(s.chars[m].uchar)&&a?l++:(c+=s.chars[m].uchar,a=!1);s.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const h=IF(c.trim()),p=rE(e,n,h);t!=null&&(d=t.cues)!=null&&d.getCueById(p)||(o=new u(e,n,h),o.id=p,o.line=f+1,o.align="left",o.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(o))}return t&&i.length&&(i.sort((f,h)=>f.line==="auto"||h.line==="auto"?0:f.line>8&&h.line>8?h.line-f.line:f.line-h.line),i.forEach(f=>tF(t,f))),i}},dme={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},VF=On(On({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:UF,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Nfe,bufferController:Uhe,capLevelController:iE,errorController:kfe,fpsController:gpe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:zO,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:dme},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},fme()),{},{subtitleStreamController:Nhe,subtitleTrackController:$he,timelineController:ppe,audioStreamController:Fhe,audioTrackController:jhe,emeController:Vc,cmcdController:Zpe,contentSteeringController:eme});function fme(){return{cueHandler:ume,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function hme(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=rS(t),r=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,a=e[o]===void 0,l=[];i.forEach(c=>{const u=`${s}Loading${c}`,d=e[u];if(d!==void 0&&a){l.push(u);const f=n[o].default;switch(e[o]={default:f},c){case"TimeOut":f.maxLoadTimeMs=d,f.maxTimeToFirstByteMs=d;break;case"MaxRetry":f.errorRetry.maxNumRetry=d,f.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":f.errorRetry.retryDelayMs=d,f.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=d,f.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&K.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),On(On({},n),e)}function rS(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(rS):Object.keys(t).reduce((e,n)=>(e[n]=rS(t[n]),e),{}):t}function pme(t){const e=t.loader;e!==Y_&&e!==UF?(K.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):nme()&&(t.loader=Y_,t.progressive=!0,t.enableSoftwareAES=!0,K.log("[config]: Progressive streaming enabled, using FetchLoader"))}let Rx;class mme extends KT{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],s={},o={};let a=!1,l=!1,c=!1;n.levels.forEach(u=>{var d,f;const h=u.attrs;let{audioCodec:p,videoCodec:m}=u;((d=p)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(Rx||(Rx=/chrome|firefox/i.test(navigator.userAgent)),Rx&&(u.audioCodec=p=void 0)),p&&(u.audioCodec=p=Ug(p,r)),((f=m)==null?void 0:f.indexOf("avc1"))===0&&(m=u.videoCodec=tfe(m));const{width:y,height:v,unknownCodecs:b}=u;if(a||(a=!!(y&&v)),l||(l=!!m),c||(c=!!p),b!=null&&b.length||p&&!hx(p,"audio",r)||m&&!hx(m,"video",r))return;const{CODECS:x,"FRAME-RATE":S,"HDCP-LEVEL":T,"PATHWAY-ID":C,RESOLUTION:E,"VIDEO-RANGE":k}=h,R=`${`${C||"."}-`}${u.bitrate}-${E}-${S}-${x}-${k}-${T}`;if(s[R])if(s[R].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const L=o[R]+=1;u.attrs["PATHWAY-ID"]=new Array(L+1).join(".");const D=new gu(u);s[R]=D,i.push(D)}else s[R].addGroupId("audio",h.AUDIO),s[R].addGroupId("text",h.SUBTITLES);else{const L=new gu(u);s[R]=L,o[R]=1,i.push(L)}}),this.filterAndSortMediaOptions(i,n,a,l,c)}filterAndSortMediaOptions(e,n,r,i,s){let o=[],a=[],l=e;if((r||i)&&s&&(l=l.filter(({videoCodec:p,videoRange:m,width:y,height:v})=>(!!p||!!(y&&v))&&pfe(m))),l.length===0){Promise.resolve().then(()=>{if(this.hls){n.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(n.levels[0].attrs)}`);const p=new Error("no level with compatible codecs found in manifest");this.hls.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:p,reason:p.message})}});return}if(n.audioTracks){const{preferManagedMediaSource:p}=this.hls.config;o=n.audioTracks.filter(m=>!m.audioCodec||hx(m.audioCodec,"audio",p)),q_(o)}n.subtitles&&(a=n.subtitles,q_(a));const c=l.slice(0);l.sort((p,m)=>{if(p.attrs["HDCP-LEVEL"]!==m.attrs["HDCP-LEVEL"])return(p.attrs["HDCP-LEVEL"]||"")>(m.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&p.height!==m.height)return p.height-m.height;if(p.frameRate!==m.frameRate)return p.frameRate-m.frameRate;if(p.videoRange!==m.videoRange)return Vg.indexOf(p.videoRange)-Vg.indexOf(m.videoRange);if(p.videoCodec!==m.videoCodec){const y=n_(p.videoCodec),v=n_(m.videoCodec);if(y!==v)return v-y}if(p.uri===m.uri&&p.codecSet!==m.codecSet){const y=zg(p.codecSet),v=zg(m.codecSet);if(y!==v)return v-y}return p.averageBitrate!==m.averageBitrate?p.averageBitrate-m.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let p=0;p<c.length;p++)if(c[p].pathwayId===l[0].pathwayId){u=c[p];break}}this._levels=l;for(let p=0;p<l.length;p++)if(l[p]===u){var d;this._firstLevel=p;const m=u.bitrate,y=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${m}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const v=Math.min(m,this.hls.config.abrEwmaDefaultEstimateMax);v>y&&y===VF.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=v)}break}const f=s&&!i,h={levels:l,audioTracks:o,subtitleTracks:a,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:s,video:i,altAudio:!f&&o.some(p=>!!p.url)};this.hls.trigger(_.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(_.ERROR,{type:Pe.OTHER_ERROR,details:Z.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,o=n[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&o.details&&i&&s===a)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${r}${s?" with Pathway "+s:""}`);const l={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(_.LEVEL_SWITCHING,l);const c=o.details;if(!c||c.live){const u=this.switchParams(o.uri,i==null?void 0:i.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===et.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===Le.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:s}=n,o=this._levels[i];if(!o){var a;this.warn(`Invalid level index ${i}`),(a=n.deliveryDirectives)!=null&&a.skip&&(s.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(i,n,o.details)):(r=n.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let i=r.uri;if(e)try{i=e.addDirectives(i)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const s=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} ${i}`),this.clearTimer(),this.hls.trigger(_.LEVEL_LOADING,{url:i,level:n,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;const r=this._levels.filter((i,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(o=>o.level=-1)),!1));sF(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(_.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(_.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function q_(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}class gme{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=Z.KEY_LOAD_ERROR,r,i,s){return new Vs({type:Pe.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:i}=e;for(let s=0;s<n.length;s++){const o=n[s];if(i<=o.cc&&(r==="initSegment"||o.sn==="initSegment"||r<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Z.KEY_LOAD_ERROR,c))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,Z.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((r=a)!=null&&r.decryptdata.key)return s.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((i=a)!=null&&i.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(c=>(s.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,Z.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,s=new i(r);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,a)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,p,m)=>{const{frag:y,keyInfo:v,url:b}=p;if(!y.decryptdata||v!==this.keyUriToKeyInfo[b])return a(this.createKeyLoadError(y,Z.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));v.decryptdata.key=y.decryptdata.key=new Uint8Array(f.data),y.keyLoader=null,v.loader=null,o({frag:y,keyInfo:v})},onError:(f,h,p,m)=>{this.resetLoader(h),a(this.createKeyLoadError(n,Z.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),p,On({url:l.url,data:void 0},f)))},onTimeout:(f,h,p)=>{this.resetLoader(h),a(this.createKeyLoadError(n,Z.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(f,h,p)=>{this.resetLoader(h),a(this.createKeyLoadError(n,Z.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};s.load(l,u,d)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,s=r.loader;n.keyLoader===s&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function HF(){return self.SourceBuffer||self.WebKitSourceBuffer}function WF(){if(!wl())return!1;const e=HF();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function yme(){if(!WF())return!1;const t=wl();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(th(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(th(e,"audio"))))}function vme(){var t;const e=HF();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const xme=250,Mm=2,bme=.1,Sme=.05;class wme{constructor(e,n,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:r,media:i,stalled:s}=this;if(i===null)return;const{currentTime:o,seeking:a}=i,l=this.seeking&&!a,c=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,a||(this.nudgeRetry=0),s!==null){if(this.stallReported){const y=self.performance.now()-s;K.warn(`playback not stuck anymore @${o}, after ${Math.round(y)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(i.paused&&!a||i.ended||i.playbackRate===0||!kt.getBuffered(i).length){this.nudgeRetry=0;return}const u=kt.bufferInfo(i,o,0),d=u.nextStart||0;if(a){const y=u.len>Mm,v=!d||n&&n.start<=o||d-o>Mm&&!this.fragmentTracker.getPartialFragment(o);if(y||v)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var f;if(!(u.len>0)&&!d)return;const v=Math.max(d,u.start||0)-o,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,S=(b==null||(f=b.details)==null?void 0:f.live)?b.details.targetduration*2:Mm,T=this.fragmentTracker.getPartialFragment(o);if(v>0&&(v<=S||T)){i.paused||this._trySkipBufferHole(T);return}}const h=self.performance.now();if(s===null){this.stalled=h;return}const p=h-s;if(!a&&p>=xme&&(this._reportStall(u),!this.media))return;const m=kt.bufferInfo(i,o,r.maxBufferHole);this._tryFixBufferStall(m,p)}_tryFixBufferStall(e,n){const{config:r,fragmentTracker:i,media:s}=this;if(s===null)return;const o=s.currentTime,a=i.getPartialFragment(o);a&&(this._trySkipBufferHole(a)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-o<r.maxBufferHole)&&n>r.highBufferWatchdogPeriod*1e3&&(K.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:r,stallReported:i}=this;if(!i&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);K.warn(s.message),n.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:r,media:i}=this;if(i===null)return 0;const s=i.currentTime,o=kt.bufferInfo(i,s,0),a=s<o.start?o.start:o.nextStart;if(a){const l=o.len<=n.maxBufferHole,c=o.len>0&&o.len<1&&i.readyState<3,u=a-s;if(u>0&&(l||c)){if(u>n.maxBufferHole){const{fragmentTracker:f}=this;let h=!1;if(s===0){const p=f.getAppendedFrag(0,Le.MAIN);p&&a<p.end&&(h=!0)}if(!h){const p=e||f.getAppendedFrag(s,Le.MAIN);if(p){let m=!1,y=p.end;for(;y<a;){const v=f.getPartialFragment(y);if(v)y+=v.duration;else{m=!0;break}}if(m)return 0}}}const d=Math.max(a+Sme,s+bme);if(K.warn(`skipping hole, adjusting currentTime from ${s} to ${d}`),this.moved=!0,this.stalled=null,i.currentTime=d,e&&!e.gap){const f=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${d}`);r.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:r,nudgeRetry:i}=this;if(r===null)return;const s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const o=s+(i+1)*e.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${s} to ${o}`);K.warn(a.message),r.currentTime=o,n.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);K.error(o.message),n.trigger(_.ERROR,{type:Pe.MEDIA_ERROR,details:Z.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}}const Tme=100;class Eme extends XT{constructor(e,n,r){super(e,n,r,"[stream-controller]",Le.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(_.ERROR,this.onError,this),e.on(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(_.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(_.BUFFER_CREATED,this.onBufferCreated,this),e.on(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(_.ERROR,this.onError,this),e.off(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(_.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(_.BUFFER_CREATED,this.onBufferCreated,this),e.off(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(Tme),this.level=-1,!this.startFragRequested){let i=r.startLevel;i===-1&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.firstAutoLevel),r.nextLoadLevel=i,this.level=r.loadLevel,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=re.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=re.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case re.WAITING_LEVEL:{const{levels:n,level:r}=this,i=n==null?void 0:n[r],s=i==null?void 0:i.details;if(s&&(!s.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(s))break;this.state=re.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=re.IDLE;break}break}case re.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,o=i==null?void 0:i[s];this.resetStartWhenNotLoaded(o||null),this.state=re.IDLE}}break}this.state===re.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=e.nextLoadLevel;if(!(r!=null&&r[s]))return;const o=r[s],a=this.getMainFwdBufferInfo();if(a===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(a,l)){const m={};this.altAudio&&(m.type="video"),this.hls.trigger(_.BUFFER_EOS,m),this.state=re.ENDED;return}e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const c=o.details;if(!c||this.state===re.WAITING_LEVEL||c.live&&this.levelLastLoaded!==o){this.level=s,this.state=re.WAITING_LEVEL;return}const u=a.len,d=this.getMaxBufferLength(o.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:a.end;let h=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&h&&h.sn!=="initSegment"&&this.fragmentTracker.getState(h)!==Ln.OK){var p;const y=((p=this.backtrackFragment)!=null?p:h).sn-c.startSN,v=c.fragments[y-1];v&&h.cc===v.cc&&(h=v,this.fragmentTracker.removeFragment(v))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,f)){if(!h.gap){const y=this.audioOnly&&!this.altAudio?gt.AUDIO:gt.VIDEO,v=(y===gt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;v&&this.afterBufferFlushed(v,y,Le.MAIN)}h=this.getNextFragmentLoopLoading(h,c,a,Le.MAIN,d)}h&&(h.initSegment&&!h.initSegment.data&&!this.bitrateTest&&(h=h.initSegment),this.loadFragment(h,o,f))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===Ln.NOT_LOADED||i===Ln.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Le.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<s.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,l=e[a],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const o=this.getBufferedFrag(n.currentTime+r);if(o){const a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();const l=a.maxStartPTS?a.maxStartPTS:a.start,c=a.duration,u=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case re.KEY_LOADING:case re.FRAG_LOADING:case re.FRAG_LOADING_WAITING_RETRY:case re.PARSING:case re.PARSED:this.state=re.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new wme(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;ve(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(_.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,n){let r=!1,i=!1;n.levels.forEach(s=>{const o=s.audioCodec;o&&(r=r||o.indexOf("mp4a.40.2")!==-1,i=i||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&i&&!vme(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==re.IDLE)return;const i=r[n.level];(!i.details||i.details.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(i.details))&&(this.state=re.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i}=this,s=n.level,o=n.details,a=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const l=i[s],c=this.fragCurrent;c&&(this.state===re.FRAG_LOADING||this.state===re.FRAG_LOADING_WAITING_RETRY)&&c.level!==n.level&&c.loader&&this.abortCurrentFrag();let u=0;if(o.live||(r=l.details)!=null&&r.live){var d;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;u=this.alignPlaylists(o,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=o,this.levelLastLoaded=l,this.hls.trigger(_.LEVEL_UPDATED,{details:o,level:s}),this.state===re.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=re.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,u),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=o[r.level],l=a.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=a.videoCodec,u=l.PTSKnown||!l.live,d=(n=r.initSegment)==null?void 0:n.data,f=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new CF(this.hls,Le.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,m=p!==-1,y=new YT(r.level,r.sn,r.stats.chunkCount,s.byteLength,p,m),v=this.initPTS[r.cc];h.push(s,d,f,c,r,i,l.totalduration,u,y,v)}onAudioTrackSwitching(e,n){const r=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;r&&(s.trigger(_.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(_.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=n.id,i=!!this.hls.audioTracks[r].url;if(i){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=i,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,s,o=!1;for(const a in r){const l=r[a];if(l.id==="main"){if(s=a,i=l,a==="video"){const c=r[a];c&&(this.videoBuffer=c.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r&&r.type!==Le.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===re.PARSED&&(this.state=re.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=re.ERROR;return}switch(n.details){case Z.FRAG_GAP:case Z.FRAG_PARSING_ERROR:case Z.FRAG_DECRYPT_ERROR:case Z.FRAG_LOAD_ERROR:case Z.FRAG_LOAD_TIMEOUT:case Z.KEY_LOAD_ERROR:case Z.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Le.MAIN,n);break;case Z.LEVEL_LOAD_ERROR:case Z.LEVEL_LOAD_TIMEOUT:case Z.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===re.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===et.LEVEL&&(this.state=re.IDLE);break;case Z.BUFFER_APPEND_ERROR:case Z.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;if(n.details===Z.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Z.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!kt.getBuffered(e).length){const r=this.state!==re.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=re.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==gt.AUDIO||this.audioOnly&&!this.altAudio){const r=(n===gt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,Le.MAIN),this.tick()}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=kt.getBuffered(e),o=(i.length?i.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),r+=o,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${n}`),e.currentTime=r}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this;if(!r||this.fragContextChanged(e))return;n.fragmentError=0,this.state=re.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger(_.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r="main",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{video:d,text:f,id3:h,initSegment:p}=s,{details:m}=u,y=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=re.PARSING,p){if(p!=null&&p.tracks){const x=l.initSegment||l;this._bufferInitSegment(u,p.tracks,x,o),i.trigger(_.FRAG_PARSING_INIT_SEGMENT,{frag:x,id:r,tracks:p.tracks})}const v=p.initPTS,b=p.timescale;ve(v)&&(this.initPTS[l.cc]={baseTime:v,timescale:b},i.trigger(_.INIT_PTS_FOUND,{frag:l,id:r,initPTS:v,timescale:b}))}if(d&&m&&l.sn!=="initSegment"){const v=m.fragments[l.sn-1-m.startSN],b=l.sn===m.startSN,x=!v||l.cc>v.cc;if(s.independent!==!1){const{startPTS:S,endPTS:T,startDTS:C,endDTS:E}=d;if(c)c.elementaryStreams[d.type]={startPTS:S,endPTS:T,startDTS:C,endDTS:E};else if(d.firstKeyFrame&&d.independent&&o.id===1&&!x&&(this.couldBacktrack=!0),d.dropped&&d.independent){const k=this.getMainFwdBufferInfo(),A=(k?k.end:this.getLoadPosition())+this.config.maxBufferHole,R=d.firstKeyFramePTS?d.firstKeyFramePTS:S;if(!b&&A<R-this.config.maxBufferHole&&!x){this.backtrack(l);return}else x&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,T,l.start,E,!0)}else b&&S>Mm&&(l.gap=!0);l.setElementaryStreamInfo(d.type,S,T,C,E),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,o,b||x)}else if(b||x)l.gap=!0;else{this.backtrack(l);return}}if(y){const{startPTS:v,endPTS:b,startDTS:x,endDTS:S}=y;c&&(c.elementaryStreams[gt.AUDIO]={startPTS:v,endPTS:b,startDTS:x,endDTS:S}),l.setElementaryStreamInfo(gt.AUDIO,v,b,x,S),this.bufferFragmentData(y,l,c,o)}if(m&&h!=null&&(n=h.samples)!=null&&n.length){const v={id:r,frag:l,details:m,samples:h.samples};i.trigger(_.FRAG_PARSING_METADATA,v)}if(m&&f){const v={id:r,frag:l,details:m,samples:f.samples};i.trigger(_.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,n,r,i){if(this.state!==re.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:s,video:o,audiovideo:a}=n;if(s){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const u=s.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),s.levelCodec=l,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${s.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),this.hls.trigger(_.BUFFER_CODECS,n),Object.keys(n).forEach(l=>{const u=n[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger(_.BUFFER_APPENDING,{type:l,data:u,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Le.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=re.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(kt.isBuffered(e,r)?n=this.getAppendedFrag(r):kt.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,s=n.level;(!i||n.sn!==i.sn||i.level!==s)&&(this.fragPlaying=n,this.hls.trigger(_.FRAG_CHANGED,{frag:n}),(!i||i.level!==s)&&this.hls.trigger(_.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,r=this.currentFrag;if(r&&ve(n)&&ve(r.programDateTime)){const i=r.programDateTime+(n-r.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Ur{static get version(){return"1.5.17"}static isMSESupported(){return WF()}static isSupported(){return yme()}static getMediaSource(){return wl()}static get Events(){return _}static get ErrorTypes(){return Pe}static get ErrorDetails(){return Z}static get DefaultConfig(){return Ur.defaultConfig?Ur.defaultConfig:VF}static set DefaultConfig(e){Ur.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new tE,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,fde(e.debug||!1,"Hls instance");const n=this.config=hme(Ur.DefaultConfig,e);this.userConfig=e,n.progressive&&pme(n);const{abrController:r,bufferController:i,capLevelController:s,errorController:o,fpsController:a}=n,l=new o(this),c=this.abrController=new r(this),u=this.bufferController=new i(this),d=this.capLevelController=new s(this),f=new a(this),h=new ofe(this),p=new dfe(this),m=n.contentSteeringController,y=m?new m(this):null,v=this.levelController=new mme(this,y),b=new $fe(this),x=new gme(this.config),S=this.streamController=new Eme(this,b,x);d.setStreamController(S),f.setStreamController(S);const T=[h,v,S];y&&T.splice(1,0,y),this.networkControllers=T;const C=[c,u,d,f,p,b];this.audioTrackController=this.createController(n.audioTrackController,T);const E=n.audioStreamController;E&&T.push(new E(this,b,x)),this.subtitleTrackController=this.createController(n.subtitleTrackController,T);const k=n.subtitleStreamController;k&&T.push(new k(this,b,x)),this.createController(n.timelineController,C),x.emeController=this.emeController=this.createController(n.emeController,C),this.cmcdController=this.createController(n.cmcdController,C),this.latencyController=this.createController(ffe,C),this.coreComponents=C,T.push(l);const A=l.onErrorOut;typeof A=="function"&&this.on(_.ERROR,A,l)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(K.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===_.ERROR;this.trigger(_.ERROR,{type:Pe.OTHER_ERROR,details:Z.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){K.log("destroy"),this.trigger(_.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){K.log("attachMedia"),this._media=e,this.trigger(_.MEDIA_ATTACHING,{media:e})}detachMedia(){K.log("detachMedia"),this.trigger(_.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,r=this.url,i=this.url=UT.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,K.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(_.MANIFEST_LOADING,{url:e})}startLoad(e=-1){K.log(`startLoad(${e})`),this.started=!0,this.networkControllers.forEach(n=>{n.startLoad(e)})}stopLoad(){K.log("stopLoad"),this.started=!1,this.networkControllers.forEach(e=>{e.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.stopLoad()})}swapAudioCodec(){K.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){K.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){K.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){K.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){K.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){K.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){K.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(K.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){hfe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let s=i;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var n;return(n=this.audioTrackController)==null?void 0:n.setAudioOption(e)}setSubtitleOption(e){var n;return(n=this.subtitleTrackController)==null||n.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Ur.defaultConfig=void 0;const Cme=({src:t,width:e="100%",height:n="auto",controls:r=!0})=>{const i=w.useRef(null);return w.useEffect(()=>{let s;if(Ur.isSupported()&&i.current)return s=new Ur({autoStartLoad:!0,capLevelToPlayerSize:!0,startLevel:-1,maxLoadingDelay:4,minAutoBitrate:0}),s.loadSource(t),s.attachMedia(i.current),s.on(Ur.Events.MANIFEST_PARSED,()=>{i.current.play()}),s.on(Ur.Events.LEVEL_SWITCHED,(o,a)=>{s.levels[a.level]}),s.on(Ur.Events.ERROR,(o,a)=>{if(a.fatal)switch(a.type){case Ur.ErrorTypes.NETWORK_ERROR:console.error("Network error encountered. Trying to recover..."),s.startLoad();break;case Ur.ErrorTypes.MEDIA_ERROR:console.error("Media error encountered. Attempting to recover..."),s.recoverMediaError();break;default:s.destroy();break}}),()=>{s.destroy()};i.current&&i.current.canPlayType("application/vnd.apple.mpegurl")&&(i.current.src=t,i.current.addEventListener("loadedmetadata",()=>{i.current.play()}))},[t]),g.jsx("video",{ref:i,width:e,height:n,controls:r,style:{width:e,height:n}})},kme=({portId:t,logo:e})=>{const{api:n,epg:r,streamingserverurl:i,user:s}=It(),{colorMode:o}=Rs(),[a,l]=w.useState(!0),[c,u]=w.useState([]),[d,f]=w.useState(""),[h,p]=w.useState(!1),[m,y]=w.useState(void 0),v=x=>{try{const S=atob(x);return decodeURIComponent(escape(S))}catch{return console.error("Erreur lors du décodage de la chaîne"),x}};w.useLayoutEffect(()=>{var S,T,C,E;const x={username:(T=(S=s==null?void 0:s.StreamingAccess)==null?void 0:S.username)!=null&&T.trim()?s.StreamingAccess.username:null,password:(E=(C=s==null?void 0:s.StreamingAccess)==null?void 0:C.username)!=null&&E.trim()?s.StreamingAccess.password:null};y(x)},[s]);const b=rn({base:"sm",md:"md"});return w.useEffect(()=>{(async()=>{try{l(!0);const S=localStorage.getItem("accessToken"),C=(await n.get(`/api/port/${t}`,{headers:{Authorization:`Bearer ${S}`}})).data;if(s.StreamingAccess&&C){const E=`${i}/live/${s.StreamingAccess.username}/${s.StreamingAccess.password}/${C.indexer}.m3u8`;f(E);const k=await r.get("",{params:{username:s.StreamingAccess.username,password:s.StreamingAccess.password,action:"get_short_epg",stream_id:C.indexer}});u(k.data.epg_listings||[])}}catch{console.error("Échec du chargement du port ou du flux")}finally{l(!1)}})()},[t,n,s,r]),m&&(m!=null&&m.username)&&(m!=null&&m.password)?g.jsxs(Ue,{spacing:6,align:"stretch",p:0,borderRadius:"lg",bg:o==="dark"?"black":"white",color:o==="dark"?"white":"black",boxShadow:"md",width:"100%",m:0,children:[a?g.jsx(Zr,{height:"200px",borderRadius:"8px"}):t&&i&&g.jsx(Cme,{src:d,onContextMenu:x=>x.preventDefault(),width:"100%",height:"500px",style:{borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",margin:"0",width:"100%"}}),e&&e,c.length>0?g.jsxs(se,{p:3,bg:o==="dark"?"black":"gray.50",borderRadius:"md",boxShadow:"sm",mb:2,children:[g.jsx(H,{fontSize:b,fontWeight:"bold",color:"blue.600",children:v(c[0].title)}),g.jsxs(H,{fontSize:"sm",color:o==="dark"?"gray.300":"gray.500",children:[new Date(c[0].start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(c[0].end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}):null,g.jsxs(se,{width:"100%",children:[g.jsx(he,{onClick:()=>p(!h),size:"sm",rightIcon:h?g.jsx(Gse,{}):g.jsx(Wse,{}),mb:2,width:"100%",variant:"outline",colorScheme:"blue",children:h?"Masquer le programme":"Afficher le programme"}),g.jsx(iu,{in:h,animateOpacity:!0,children:c.length>0?c.map(x=>g.jsxs(se,{p:3,bg:o==="dark"?"black":"gray.50",borderRadius:"md",boxShadow:"sm",mb:2,children:[g.jsx(H,{fontSize:b,fontWeight:"bold",color:"blue.600",children:v(x.title)}),g.jsxs(H,{fontSize:"sm",color:o==="dark"?"gray.300":"black",children:[new Date(x.start).toLocaleString()," - ",new Date(x.end).toLocaleString()]}),g.jsx(D4,{my:2}),g.jsx(H,{fontSize:"sm",color:o==="dark"?"gray.100":"gray.700",children:v(x.description)})]},x.id)):g.jsx(H,{fontSize:"sm",color:"gray.500",children:"Aucune donnée EPG disponible."})})]})]}):g.jsx(H,{color:"red.500",fontWeight:"bold",children:"Pas autorisé à diffuser"})},Ame=()=>{const{id:t}=nw(),{api:e}=It(),[n,r]=w.useState(null),[i,s]=w.useState(!0),[o,a]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,h]=w.useState(localStorage.getItem("selectedPortId")||null),{colorMode:p}=Rs(),m=Mr(),y=rn({base:"sm",md:"md"}),v=rn({base:2,md:4});w.useEffect(()=>{(async()=>{s(!0);try{const k=localStorage.getItem("accessToken"),A=await e.get(`/api/channels/${t}`,{headers:{Authorization:`Bearer ${k}`}});r(A.data)}catch(k){console.error("Échec de la récupération des détails du canal",k)}finally{s(!1)}})()},[t,e]),w.useEffect(()=>(f&&localStorage.setItem("selectedPortId",f),()=>{localStorage.removeItem("selectedPortId")}),[f,location.pathname]);const b=()=>{localStorage.removeItem("selectedPortId"),m(-1)},x=n==null?void 0:n.ports.filter(E=>{const k=o?E.region===o:!0,A=l?E.resolution===l:!0,R=u?E.language===u:!0;return k&&A&&R}),S=[...new Set(n==null?void 0:n.ports.map(E=>E.region).filter(Boolean))],T=[...new Set(n==null?void 0:n.ports.map(E=>E.resolution).filter(Boolean))],C=[...new Set(n==null?void 0:n.ports.map(E=>E.language).filter(Boolean))];return i?g.jsx(Zr,{height:"400px"}):n?g.jsxs(se,{p:v,children:[g.jsx(he,{leftIcon:g.jsx(d3,{style:{fontSize:"10px"}}),onClick:b,colorScheme:"red",variant:"solid",size:"xs",paddingRight:3,mb:1}),g.jsx(se,{mb:2,children:f?g.jsx(kme,{portId:f,logo:g.jsx(se,{ml:2,children:g.jsxs(ht,{children:[g.jsx(Ci,{src:n.logos[0]||"default-logo.png",alt:"Logo du Canal",borderRadius:"md",objectFit:"contain",fallbackSrc:"default-logo.png",boxSize:{base:"40px",md:"50px"},loading:"lazy",sx:{opacity:0,transition:"opacity 1s ease-in-out","&[src]":{opacity:1}}}),g.jsxs(Ue,{align:"start",spacing:0,children:[g.jsx(H,{mt:1,fontSize:y,fontWeight:"bold",children:n.name}),n.category!=="undefined"&&g.jsx(H,{color:"gray.500",fontSize:y,children:n.category})]})]})})},f):g.jsx(se,{ml:2,children:g.jsxs(ht,{children:[g.jsx(Ci,{src:n.logos[0]||"default-logo.png",alt:"Logo du Canal",boxSize:{base:"40px",md:"50px"},borderRadius:"md"}),g.jsxs(Ue,{align:"start",spacing:0,children:[g.jsx(H,{mt:1,fontSize:y,fontWeight:"bold",children:n.name}),n.category!=="undefined"&&g.jsx(H,{color:"gray.500",fontSize:y,children:n.category})]}),g.jsx(H,{fontSize:"lg",textAlign:"center",color:"gray.500",children:"Sélectionnez un flux à lire"})]})})}),g.jsxs(se,{display:"flex",flexWrap:"wrap",gap:4,mb:6,children:[g.jsx(Rr,{placeholder:"Filtrer par région",value:o,onChange:E=>a(E.target.value),borderColor:"blue.300",focusBorderColor:"teal.600",w:{base:"100%",md:"auto"},children:S.map(E=>g.jsx("option",{value:E,children:E},E))}),g.jsx(Rr,{placeholder:"Filtrer par résolution",value:l,onChange:E=>c(E.target.value),borderColor:"blue.300",focusBorderColor:"teal.600",w:{base:"100%",md:"auto"},children:T.map(E=>g.jsx("option",{value:E,children:E},E))}),g.jsx(Rr,{placeholder:"Filtrer par langue",value:u,onChange:E=>d(E.target.value),borderColor:"blue.300",focusBorderColor:"teal.600",w:{base:"100%",md:"auto"},children:C.map(E=>g.jsx("option",{value:E,children:E},E))})]}),g.jsx($f,{columns:{base:1,sm:2,md:2},spacing:4,children:x.map(E=>g.jsx(se,{p:v,border:"1px solid #ddd",borderRadius:"md",cursor:"pointer",bg:E.id===f?"blue.100":p==="dark"?"black":"gray.50",onClick:()=>h(E.id),transition:"background 0.2s",_hover:{bg:"teal.50"},children:g.jsxs(ht,{children:[g.jsx(H,{fontSize:y,fontWeight:"bold",children:E.name}),E.region&&g.jsx(H,{fontSize:"sm",color:"gray.500",children:E.region}),E.resolution&&g.jsx(H,{fontSize:"sm",color:"gray.500",children:E.resolution}),E.ok&&g.jsx(L4,{size:"10px",bg:"green.500"})]})},E.id))})]}):g.jsx(H,{children:"Canal non trouvé"})},GF=t=>{const e=Math.floor(t/60),n=t%60;return`${e}h ${n}m`},Xg=t=>(t*10).toFixed(0),KF=t=>t>=7?"green.400":t>=5?"orange.400":"red.400",YF=({sid:t,id:e,createDownloadTransactionSingle:n})=>{const r=Eh(),[i,s]=w.useState(!1),[o,a]=w.useState(!1),{isOpen:l,onOpen:c,onClose:u}=lh(),[d,f]=w.useState(null),h=async(m,y,v)=>{a(!0);try{const b=await n({SerieId:y,movieId:v,allow:m});b===!0?(r({title:"Download successful!",status:"success",duration:3e3,isClosable:!0}),s(!0)):b===!1?(f({sid:y,mid:v}),c()):r({title:"Échec du téléchargement.",status:"error",duration:3e3,isClosable:!0})}catch{r({title:"Une erreur s'est produite.",description:"Veuillez réessayer plus tard.",status:"error",duration:3e3,isClosable:!0})}finally{a(!1)}},p=async()=>{if(d){const{sid:m,mid:y}=d;await h(!0,m,y),s(!0),u()}};return g.jsxs(g.Fragment,{children:[i?g.jsx(he,{ml:2,leftIcon:g.jsx(du,{}),colorScheme:"green",variant:"outline",onClick:()=>s(!1),children:"Télécharger"}):g.jsx(he,{ml:2,onClick:()=>h(!1,t,e),isLoading:o,colorScheme:"teal",children:g.jsx(Vse,{})}),g.jsxs(Ru,{isOpen:l,onClose:u,isCentered:!0,children:[g.jsx(Iu,{}),g.jsxs(wh,{children:[g.jsx(K0,{children:"Confirmation de Paiement"}),g.jsx(Lu,{}),g.jsx(_u,{children:"Nombre limite de telechargements voulez-vous payer avec votre solde pour télécharger ?"}),g.jsxs(gT,{children:[g.jsx(he,{colorScheme:"red",mr:3,onClick:u,children:"Annuler"}),g.jsx(he,{colorScheme:"green",onClick:p,children:"Confirmer"})]})]})]})]})};function X_(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qg={exports:{}};Qg.exports;(function(t,e){/*!
 * artplayer.js v5.2.1
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2024 Harvey Zack
 * Released under the MIT License.
 */(function(n,r,i,s,o){var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof tc<"u"?tc:{},l=typeof a[s]=="function"&&a[s],c=l.cache||{},u=typeof X_=="function"&&X_.bind(t);function d(p,m){if(!c[p]){if(!n[p]){var y=typeof a[s]=="function"&&a[s];if(!m&&y)return y(p,!0);if(l)return l(p,!0);if(u&&typeof p=="string")return u(p);var v=Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}x.resolve=function(S){var T=n[p][1][S];return T??S},x.cache={};var b=c[p]=new d.Module(p);n[p][0].call(b.exports,x,b,b.exports,this)}return c[p].exports;function x(S){var T=x.resolve(S);return T===!1?{}:d(T)}}d.isParcelRequire=!0,d.Module=function(p){this.id=p,this.bundle=d,this.exports={}},d.modules=n,d.cache=c,d.parent=l,d.register=function(p,m){n[p]=[function(y,v){v.exports=m},{}]},Object.defineProperty(d,"root",{get:function(){return a[s]}}),a[s]=d;for(var f=0;f<r.length;f++)d(r[f]);{var h=d(i);t.exports=h}})({"5lTcX":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("bundle-text:./style/index.less"),a=s.interopDefault(o),l=n("option-validator"),c=s.interopDefault(l),u=n("./utils/emitter"),d=s.interopDefault(u),f=n("./utils"),h=n("./scheme"),p=s.interopDefault(h),m=n("./config"),y=s.interopDefault(m),v=n("./template"),b=s.interopDefault(v),x=n("./i18n"),S=s.interopDefault(x),T=n("./player"),C=s.interopDefault(T),E=n("./control"),k=s.interopDefault(E),A=n("./contextmenu"),R=s.interopDefault(A),L=n("./info"),D=s.interopDefault(L),P=n("./subtitle"),M=s.interopDefault(P),j=n("./events"),F=s.interopDefault(j),O=n("./hotkey"),B=s.interopDefault(O),I=n("./layer"),$=s.interopDefault(I),G=n("./loading"),Y=s.interopDefault(G),q=n("./notice"),te=s.interopDefault(q),ae=n("./mask"),le=s.interopDefault(ae),Te=n("./icons"),Fe=s.interopDefault(Te),Qe=n("./setting"),it=s.interopDefault(Qe),Me=n("./storage"),De=s.interopDefault(Me),bt=n("./plugins"),yn=s.interopDefault(bt);let Ee=0,Ve=[];class fe extends d.default{constructor(jt,Nt){super(),this.id=++Ee;let Nn=f.mergeDeep(fe.option,jt);if(Nn.container=jt.container,this.option=(0,c.default)(Nn,p.default),this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isRotate=!1,this.isDestroy=!1,this.template=new b.default(this),this.events=new F.default(this),this.storage=new De.default(this),this.icons=new Fe.default(this),this.i18n=new S.default(this),this.notice=new te.default(this),this.player=new C.default(this),this.layers=new $.default(this),this.controls=new k.default(this),this.contextmenu=new R.default(this),this.subtitle=new M.default(this),this.info=new D.default(this),this.loading=new Y.default(this),this.hotkey=new B.default(this),this.mask=new le.default(this),this.setting=new it.default(this),this.plugins=new yn.default(this),typeof Nt=="function"&&this.on("ready",()=>Nt.call(this,this)),fe.DEBUG){let kn=pt=>console.log(`[ART.${this.id}] -> ${pt}`);kn("Version@"+fe.version),kn("Env@"+fe.env),kn("Build@"+fe.build);for(let pt=0;pt<y.default.events.length;pt++)this.on("video:"+y.default.events[pt],An=>kn("Event@"+An.type))}Ve.push(this)}static get instances(){return Ve}static get version(){return"5.2.1"}static get env(){return"production"}static get build(){return"2024-10-26 15:26:30"}static get config(){return y.default}static get utils(){return f}static get scheme(){return p.default}static get Emitter(){return d.default}static get validator(){return c.default}static get kindOf(){return c.default.kindOf}static get html(){return b.default.html}static get option(){return{id:"",container:"#artplayer",url:"",poster:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,fastForward:!1,autoPlayback:!1,autoOrientation:!1,airplay:!1,proxy:void 0,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],thumbnails:{url:"",number:60,column:10,width:0,height:0,scale:1},subtitle:{url:"",type:"",style:{},name:"",escape:!0,encoding:"utf-8",onVttLoad:jt=>jt},moreVideoAttr:{controls:!1,preload:f.isSafari?"auto":"metadata"},i18n:{},icons:{},cssVar:{},customType:{},lang:navigator.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}get video(){return this.template.$video}destroy(jt=!0){this.events.destroy(),this.template.destroy(jt),Ve.splice(Ve.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}i.default=fe,fe.STYLE=a.default,fe.DEBUG=!1,fe.CONTEXTMENU=!0,fe.NOTICE_TIME=2e3,fe.SETTING_WIDTH=250,fe.SETTING_ITEM_WIDTH=200,fe.SETTING_ITEM_HEIGHT=35,fe.RESIZE_TIME=200,fe.SCROLL_TIME=200,fe.SCROLL_GAP=50,fe.AUTO_PLAYBACK_MAX=10,fe.AUTO_PLAYBACK_MIN=5,fe.AUTO_PLAYBACK_TIMEOUT=3e3,fe.RECONNECT_TIME_MAX=5,fe.RECONNECT_SLEEP_TIME=1e3,fe.CONTROL_HIDE_TIME=3e3,fe.DBCLICK_TIME=300,fe.DBCLICK_FULLSCREEN=!0,fe.MOBILE_DBCLICK_PLAY=!0,fe.MOBILE_CLICK_PLAY=!1,fe.AUTO_ORIENTATION_TIME=200,fe.INFO_LOOP_TIME=1e3,fe.FAST_FORWARD_VALUE=3,fe.FAST_FORWARD_TIME=1e3,fe.TOUCH_MOVE_RATIO=.5,fe.VOLUME_STEP=.1,fe.SEEK_STEP=5,fe.PLAYBACK_RATE=[.5,.75,1,1.25,1.5,2],fe.ASPECT_RATIO=["default","4:3","16:9"],fe.FLIP=["normal","horizontal","vertical"],fe.FULLSCREEN_WEB_IN_BODY=!1,fe.LOG_VERSION=!0,fe.USE_RAF=!1,f.isBrowser&&(window.Artplayer=fe,f.setStyleText("artplayer-style",a.default),setTimeout(()=>{fe.LOG_VERSION&&console.log(`%c ArtPlayer %c ${fe.version} %c https://artplayer.org`,"color: #fff; background: #5f5f5f","color: #fff; background: #4bc729","")},100))},{"bundle-text:./style/index.less":"0016T","option-validator":"bAWi2","./utils/emitter":"66mFZ","./utils":"71aH7","./scheme":"AKEiO","./config":"lyjeQ","./template":"X13Zf","./i18n":"3jKkj","./player":"a90nx","./control":"8Z0Uf","./contextmenu":"2KYsr","./info":"02ajl","./subtitle":"eSWto","./events":"jo4S1","./hotkey":"6NoFy","./layer":"6G6hZ","./loading":"3dsEe","./notice":"dWGTw","./mask":"5POkG","./icons":"6OeNg","./setting":"3eYNH","./storage":"2aaJe","./plugins":"8MTUM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"0016T":[function(n,r,i){r.exports='.art-video-player{--art-theme:red;--art-font-color:#fff;--art-background-color:#000;--art-text-shadow-color:#00000080;--art-transition-duration:.2s;--art-padding:10px;--art-border-radius:3px;--art-progress-height:6px;--art-progress-color:#ffffff40;--art-hover-color:#ffffff40;--art-loaded-color:#ffffff40;--art-state-size:80px;--art-state-opacity:.8;--art-bottom-height:100px;--art-bottom-offset:20px;--art-bottom-gap:5px;--art-highlight-width:8px;--art-highlight-color:#ffffff80;--art-control-height:46px;--art-control-opacity:.75;--art-control-icon-size:36px;--art-control-icon-scale:1.1;--art-volume-height:120px;--art-volume-handle-size:14px;--art-lock-size:36px;--art-indicator-scale:0;--art-indicator-size:16px;--art-fullscreen-web-index:9999;--art-settings-icon-size:24px;--art-settings-max-height:300px;--art-selector-max-height:300px;--art-contextmenus-min-width:250px;--art-subtitle-font-size:20px;--art-subtitle-gap:5px;--art-subtitle-bottom:15px;--art-subtitle-border:#000;--art-widget-background:#000000d9;--art-tip-background:#000000b3;--art-scrollbar-size:4px;--art-scrollbar-background:#ffffff40;--art-scrollbar-background-hover:#ffffff80;--art-mini-progress-height:2px}.art-bg-cover{background-position:50%;background-repeat:no-repeat;background-size:cover}.art-bottom-gradient{background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x}.art-backdrop-filter{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.art-video-player{zoom:1;text-align:left;user-select:none;box-sizing:border-box;color:var(--art-font-color);background-color:var(--art-background-color);text-shadow:0 0 2px var(--art-text-shadow-color);-webkit-tap-highlight-color:#0000;-ms-touch-action:manipulation;touch-action:manipulation;-ms-high-contrast-adjust:none;direction:ltr;outline:0;width:100%;height:100%;margin:0 auto;padding:0;font-family:PingFang SC,Helvetica Neue,Microsoft YaHei,Roboto,Arial,sans-serif;font-size:14px;line-height:1.3;position:relative}.art-video-player *,.art-video-player :before,.art-video-player :after{box-sizing:border-box}.art-video-player ::-webkit-scrollbar{width:var(--art-scrollbar-size);height:var(--art-scrollbar-size)}.art-video-player ::-webkit-scrollbar-thumb{background-color:var(--art-scrollbar-background)}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:var(--art-scrollbar-background-hover)}.art-video-player img{vertical-align:top;max-width:100%}.art-video-player svg{fill:var(--art-font-color)}.art-video-player a{color:var(--art-font-color);text-decoration:none}.art-icon{justify-content:center;align-items:center;line-height:1;display:flex}.art-video-player.art-backdrop .art-contextmenus,.art-video-player.art-backdrop .art-info,.art-video-player.art-backdrop .art-settings,.art-video-player.art-backdrop .art-layer-auto-playback,.art-video-player.art-backdrop .art-selector-list,.art-video-player.art-backdrop .art-volume-inner{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-video{z-index:10;cursor:pointer;width:100%;height:100%;position:absolute;inset:0}.art-poster{z-index:11;pointer-events:none;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%;position:absolute;inset:0}.art-video-player .art-subtitle{z-index:20;text-align:center;pointer-events:none;justify-content:center;align-items:center;gap:var(--art-subtitle-gap);bottom:var(--art-subtitle-bottom);font-size:var(--art-subtitle-font-size);transition:bottom var(--art-transition-duration)ease;text-shadow:var(--art-subtitle-border)1px 0 1px,var(--art-subtitle-border)0 1px 1px,var(--art-subtitle-border)-1px 0 1px,var(--art-subtitle-border)0 -1px 1px,var(--art-subtitle-border)1px 1px 1px,var(--art-subtitle-border)-1px -1px 1px,var(--art-subtitle-border)1px -1px 1px,var(--art-subtitle-border)-1px 1px 1px;flex-direction:column;width:100%;padding:0 5%;display:none;position:absolute}.art-video-player.art-subtitle-show .art-subtitle{display:flex}.art-video-player.art-control-show .art-subtitle{bottom:calc(var(--art-control-height) + var(--art-subtitle-bottom))}.art-danmuku{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers{z-index:40;pointer-events:none;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:flex}.art-video-player .art-mask{z-index:50;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;inset:0}.art-video-player .art-mask .art-state{opacity:0;width:var(--art-state-size);height:var(--art-state-size);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;display:flex;transform:scale(2)}.art-video-player.art-mask-show .art-state{cursor:pointer;pointer-events:auto;opacity:var(--art-state-opacity);transform:scale(1)}.art-video-player.art-loading-show .art-state{display:none}.art-video-player .art-loading{z-index:70;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{z-index:60;opacity:0;pointer-events:none;padding:0 var(--art-padding);transition:all var(--art-transition-duration)ease;background-size:100% var(--art-bottom-height);background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x;flex-direction:column;justify-content:flex-end;width:100%;height:100%;display:flex;position:absolute;inset:0;overflow:hidden}.art-video-player .art-bottom .art-controls,.art-video-player .art-bottom .art-progress{transform:translateY(var(--art-bottom-offset));transition:transform var(--art-transition-duration)ease}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1}.art-video-player.art-control-show .art-bottom .art-controls,.art-video-player.art-hover .art-bottom .art-controls,.art-video-player.art-control-show .art-bottom .art-progress,.art-video-player.art-hover .art-bottom .art-progress{transform:translateY(0)}.art-bottom .art-progress{z-index:0;pointer-events:auto;padding-bottom:var(--art-bottom-gap);position:relative}.art-bottom .art-progress .art-control-progress{cursor:pointer;height:var(--art-progress-height);justify-content:center;align-items:center;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner{transition:height var(--art-transition-duration)ease;background-color:var(--art-progress-color);align-items:center;width:100%;height:50%;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-hover{z-index:0;background-color:var(--art-hover-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{z-index:10;background-color:var(--art-loaded-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{z-index:20;background-color:var(--art-theme);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{z-index:0;pointer-events:auto;transform:translateX(calc(var(--art-highlight-width)/-2));background-color:var(--art-highlight-color);width:100%;height:100%;position:absolute;inset:0 auto 0 0;width:var(--art-highlight-width)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{z-index:40;width:var(--art-indicator-size);height:var(--art-indicator-size);transform:scale(var(--art-indicator-scale));margin-left:calc(var(--art-indicator-size)/-2);transition:transform var(--art-transition-duration)ease;border-radius:50%;justify-content:center;align-items:center;display:flex;position:absolute;left:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{pointer-events:none;width:100%;height:100%}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:hover{transform:scale(1.2)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:active{transform:scale(1)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{z-index:50;border-radius:var(--art-border-radius);white-space:nowrap;background-color:var(--art-tip-background);padding:3px 5px;font-size:12px;line-height:1;display:none;position:absolute;top:-25px;left:0}.art-bottom .art-progress .art-control-progress:hover .art-control-progress-inner{height:100%}.art-bottom .art-progress .art-control-thumbnails{bottom:calc(var(--art-bottom-gap) + 10px);border-radius:var(--art-border-radius);pointer-events:none;background-color:var(--art-widget-background);display:none;position:absolute;left:0;box-shadow:0 1px 3px #0003,0 1px 2px -1px #0003}.art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{transform:scale(1)}.art-controls{z-index:10;pointer-events:auto;height:var(--art-control-height);justify-content:space-between;align-items:center;display:flex;position:relative}.art-controls .art-controls-left,.art-controls .art-controls-right{height:100%;display:flex}.art-controls .art-controls-center{flex:1;justify-content:center;align-items:center;height:100%;padding:0 10px;display:none}.art-controls .art-controls-right{justify-content:flex-end}.art-controls .art-control{cursor:pointer;white-space:nowrap;opacity:var(--art-control-opacity);min-height:var(--art-control-height);min-width:var(--art-control-height);transition:opacity var(--art-transition-duration)ease;flex-shrink:0;justify-content:center;align-items:center;display:flex}.art-controls .art-control .art-icon{height:var(--art-control-icon-size);width:var(--art-control-icon-size);transform:scale(var(--art-control-icon-scale));transition:transform var(--art-transition-duration)ease}.art-controls .art-control .art-icon:active{transform:scale(calc(var(--art-control-icon-scale)*.8))}.art-controls .art-control:hover{opacity:1}.art-control-volume{position:relative}.art-control-volume .art-volume-panel{text-align:center;cursor:default;opacity:0;pointer-events:none;left:0;right:0;bottom:var(--art-control-height);width:var(--art-control-height);height:var(--art-volume-height);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;padding:0 5px;font-size:12px;display:flex;position:absolute;transform:translateY(10px)}.art-control-volume .art-volume-panel .art-volume-inner{border-radius:var(--art-border-radius);background-color:var(--art-widget-background);flex-direction:column;align-items:center;gap:10px;width:100%;height:100%;padding:10px 0 12px;display:flex}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider{cursor:pointer;flex:1;justify-content:center;width:100%;display:flex;position:relative}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle{border-radius:var(--art-border-radius);background-color:#ffffff40;justify-content:center;width:2px;display:flex;position:relative;overflow:hidden}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle .art-volume-loaded{z-index:0;background-color:var(--art-theme);width:100%;height:100%;position:absolute;inset:0}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-indicator{width:var(--art-volume-handle-size);height:var(--art-volume-handle-size);margin-top:calc(var(--art-volume-handle-size)/-2);background-color:var(--art-theme);transition:transform var(--art-transition-duration)ease;border-radius:100%;flex-shrink:0;position:absolute;transform:scale(1)}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider:active .art-volume-indicator{transform:scale(.9)}.art-control-volume:hover .art-volume-panel{opacity:1;pointer-events:auto;transform:translateY(0)}.art-video-player .art-notice{z-index:80;padding:var(--art-padding);pointer-events:none;width:100%;height:auto;display:none;position:absolute;inset:0 0 auto}.art-video-player .art-notice .art-notice-inner{border-radius:var(--art-border-radius);background-color:var(--art-tip-background);padding:5px;line-height:1;display:inline-flex}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{z-index:120;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);min-width:var(--art-contextmenus-min-width);flex-direction:column;padding:5px 0;font-size:12px;display:none;position:absolute}.art-video-player .art-contextmenus .art-contextmenu{cursor:pointer;border-bottom:1px solid #ffffff1a;padding:10px 15px;display:flex}.art-video-player .art-contextmenus .art-contextmenu span{padding:0 8px}.art-video-player .art-contextmenus .art-contextmenu span:hover,.art-video-player .art-contextmenus .art-contextmenu span.art-current{color:var(--art-theme)}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:#ffffff1a}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{z-index:90;border-radius:var(--art-border-radius);max-height:var(--art-settings-max-height);left:auto;right:var(--art-padding);bottom:var(--art-control-height);transition:all var(--art-transition-duration)ease;background-color:var(--art-widget-background);flex-direction:column;display:none;position:absolute;overflow:hidden auto}.art-video-player .art-settings .art-setting-panel{flex-direction:column;display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item{cursor:pointer;transition:background-color var(--art-transition-duration)ease;justify-content:space-between;align-items:center;padding:0 5px;display:flex;overflow:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item:hover{background-color:#ffffff1a}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current{color:var(--art-theme)}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{visibility:hidden;height:15px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{flex-shrink:0;justify-content:center;align-items:center;gap:5px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{height:var(--art-settings-icon-size);width:var(--art-settings-icon-size);justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{justify-content:center;align-items:center;gap:5px;font-size:12px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{white-space:nowrap;color:#ffffff80}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{justify-content:center;align-items:center;min-width:32px;height:24px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-range{appearance:none;background-color:#fff3;outline:none;width:80px;height:3px}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid #ffffff1a}.art-video-player.art-setting-show .art-settings{display:flex}.art-video-player .art-info{left:var(--art-padding);top:var(--art-padding);z-index:100;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);padding:10px;font-size:12px;display:none;position:absolute}.art-video-player .art-info .art-info-panel{flex-direction:column;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item{align-items:center;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item .art-info-title{text-align:right;width:100px}.art-video-player .art-info .art-info-panel .art-info-item .art-info-content{text-overflow:ellipsis;white-space:nowrap;user-select:all;width:250px;overflow:hidden}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;top:5px;right:5px}.art-video-player.art-info-show .art-info{display:flex}.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio]{overflow:hidden}.art-video-player[data-aspect-ratio] .art-video{object-fit:fill;box-sizing:content-box}.art-fullscreen{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3}.art-fullscreen-web{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3;z-index:var(--art-fullscreen-web-index);width:100%;height:100%;position:fixed;inset:0}.art-mini-popup{z-index:9999;border-radius:var(--art-border-radius);cursor:move;user-select:none;background:#000;width:320px;height:180px;transition:opacity .2s;position:fixed;overflow:hidden;box-shadow:0 0 5px #00000080}.art-mini-popup svg{fill:#fff}.art-mini-popup .art-video{pointer-events:none}.art-mini-popup .art-mini-close{z-index:20;cursor:pointer;opacity:0;transition:opacity .2s;position:absolute;top:10px;right:10px}.art-mini-popup .art-mini-state{z-index:30;pointer-events:none;opacity:0;background-color:#00000040;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .2s;display:flex;position:absolute;inset:0}.art-mini-popup .art-mini-state .art-icon{opacity:.75;cursor:pointer;pointer-events:auto;transition:transform .2s;transform:scale(3)}.art-mini-popup .art-mini-state .art-icon:active{transform:scale(2.5)}.art-mini-popup.art-mini-droging{opacity:.9}.art-mini-popup:hover .art-mini-close,.art-mini-popup:hover .art-mini-state{opacity:1}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-lock{height:var(--art-lock-size);width:var(--art-lock-size);top:50%;left:var(--art-padding);background-color:var(--art-tip-background);border-radius:50%;justify-content:center;align-items:center;display:none;position:absolute;transform:translateY(-50%)}.art-video-player .art-layer-auto-playback{border-radius:var(--art-border-radius);left:var(--art-padding);bottom:calc(var(--art-control-height) + var(--art-bottom-gap) + 10px);background-color:var(--art-widget-background);align-items:center;gap:10px;padding:10px;line-height:1;display:none;position:absolute}.art-video-player .art-layer-auto-playback .art-auto-playback-close{cursor:pointer;justify-content:center;align-items:center;display:flex}.art-video-player .art-layer-auto-playback .art-auto-playback-close svg{fill:var(--art-theme);width:15px;height:15px}.art-video-player .art-layer-auto-playback .art-auto-playback-jump{color:var(--art-theme);cursor:pointer}.art-video-player.art-lock .art-subtitle{bottom:var(--art-subtitle-bottom)!important}.art-video-player.art-mini-progress-bar .art-bottom,.art-video-player.art-lock .art-bottom{opacity:1;background-image:none;padding:0}.art-video-player.art-mini-progress-bar .art-bottom .art-controls,.art-video-player.art-lock .art-bottom .art-controls,.art-video-player.art-mini-progress-bar .art-bottom .art-progress,.art-video-player.art-lock .art-bottom .art-progress{transform:translateY(calc(var(--art-control-height) + var(--art-bottom-gap) + var(--art-progress-height)/4))}.art-video-player.art-mini-progress-bar .art-bottom .art-progress-indicator,.art-video-player.art-lock .art-bottom .art-progress-indicator{display:none!important}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-control-selector{justify-content:center;display:flex;position:relative}.art-control-selector .art-selector-list{text-align:center;border-radius:var(--art-border-radius);opacity:0;pointer-events:none;bottom:var(--art-control-height);max-height:var(--art-selector-max-height);background-color:var(--art-widget-background);transition:all var(--art-transition-duration)ease;flex-direction:column;align-items:center;display:flex;position:absolute;overflow:hidden auto;transform:translateY(10px)}.art-control-selector .art-selector-list .art-selector-item{flex-shrink:0;justify-content:center;align-items:center;width:100%;padding:10px 15px;line-height:1;display:flex}.art-control-selector .art-selector-list .art-selector-item:hover{background-color:#ffffff1a}.art-control-selector .art-selector-list .art-selector-item:hover,.art-control-selector .art-selector-list .art-selector-item.art-current{color:var(--art-theme)}.art-control-selector:hover .art-selector-list{opacity:1;pointer-events:auto;transform:translateY(0)}[class*=hint--]{font-style:normal;display:inline-block;position:relative}[class*=hint--]:before,[class*=hint--]:after{visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;transition:all .3s;position:absolute;transform:translate(0,0)}[class*=hint--]:hover:before,[class*=hint--]:hover:after{visibility:visible;opacity:1;transition-delay:.1s}[class*=hint--]:before{content:"";z-index:1000001;background:0 0;border:6px solid #0000;position:absolute}[class*=hint--]:after{color:#fff;white-space:nowrap;background:#000;padding:8px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:12px}[class*=hint--][aria-label]:after{content:attr(aria-label)}[class*=hint--][data-hint]:after{content:attr(data-hint)}[aria-label=""]:before,[aria-label=""]:after,[data-hint=""]:before,[data-hint=""]:after{display:none!important}.hint--top-left:before,.hint--top-right:before,.hint--top:before{border-top-color:#000}.hint--bottom-left:before,.hint--bottom-right:before,.hint--bottom:before{border-bottom-color:#000}.hint--left:before{border-left-color:#000}.hint--right:before{border-right-color:#000}.hint--top:before{margin-bottom:-11px}.hint--top:before,.hint--top:after{bottom:100%;left:50%}.hint--top:before{left:calc(50% - 6px)}.hint--top:after{transform:translate(-50%)}.hint--top:hover:before{transform:translateY(-8px)}.hint--top:hover:after{transform:translate(-50%)translateY(-8px)}.hint--bottom:before{margin-top:-11px}.hint--bottom:before,.hint--bottom:after{top:100%;left:50%}.hint--bottom:before{left:calc(50% - 6px)}.hint--bottom:after{transform:translate(-50%)}.hint--bottom:hover:before{transform:translateY(8px)}.hint--bottom:hover:after{transform:translate(-50%)translateY(8px)}.hint--right:before{margin-bottom:-6px;margin-left:-11px}.hint--right:after{margin-bottom:-14px}.hint--right:before,.hint--right:after{bottom:50%;left:100%}.hint--right:hover:before,.hint--right:hover:after{transform:translate(8px)}.hint--left:before{margin-bottom:-6px;margin-right:-11px}.hint--left:after{margin-bottom:-14px}.hint--left:before,.hint--left:after{bottom:50%;right:100%}.hint--left:hover:before,.hint--left:hover:after{transform:translate(-8px)}.hint--top-left:before{margin-bottom:-11px}.hint--top-left:before,.hint--top-left:after{bottom:100%;left:50%}.hint--top-left:before{left:calc(50% - 6px)}.hint--top-left:after{margin-left:12px;transform:translate(-100%)}.hint--top-left:hover:before{transform:translateY(-8px)}.hint--top-left:hover:after{transform:translate(-100%)translateY(-8px)}.hint--top-right:before{margin-bottom:-11px}.hint--top-right:before,.hint--top-right:after{bottom:100%;left:50%}.hint--top-right:before{left:calc(50% - 6px)}.hint--top-right:after{margin-left:-12px;transform:translate(0)}.hint--top-right:hover:before,.hint--top-right:hover:after{transform:translateY(-8px)}.hint--bottom-left:before{margin-top:-11px}.hint--bottom-left:before,.hint--bottom-left:after{top:100%;left:50%}.hint--bottom-left:before{left:calc(50% - 6px)}.hint--bottom-left:after{margin-left:12px;transform:translate(-100%)}.hint--bottom-left:hover:before{transform:translateY(8px)}.hint--bottom-left:hover:after{transform:translate(-100%)translateY(8px)}.hint--bottom-right:before{margin-top:-11px}.hint--bottom-right:before,.hint--bottom-right:after{top:100%;left:50%}.hint--bottom-right:before{left:calc(50% - 6px)}.hint--bottom-right:after{margin-left:-12px;transform:translate(0)}.hint--bottom-right:hover:before,.hint--bottom-right:hover:after{transform:translateY(8px)}.hint--small:after,.hint--medium:after,.hint--large:after{white-space:normal;word-wrap:break-word;line-height:1.4em}.hint--small:after{width:80px}.hint--medium:after{width:150px}.hint--large:after{width:300px}[class*=hint--]:after{text-shadow:0 -1px #000;box-shadow:4px 4px 8px #0000004d}.hint--error:after{text-shadow:0 -1px #592726;background-color:#b34e4d}.hint--error.hint--top-left:before,.hint--error.hint--top-right:before,.hint--error.hint--top:before{border-top-color:#b34e4d}.hint--error.hint--bottom-left:before,.hint--error.hint--bottom-right:before,.hint--error.hint--bottom:before{border-bottom-color:#b34e4d}.hint--error.hint--left:before{border-left-color:#b34e4d}.hint--error.hint--right:before{border-right-color:#b34e4d}.hint--warning:after{text-shadow:0 -1px #6c5328;background-color:#c09854}.hint--warning.hint--top-left:before,.hint--warning.hint--top-right:before,.hint--warning.hint--top:before{border-top-color:#c09854}.hint--warning.hint--bottom-left:before,.hint--warning.hint--bottom-right:before,.hint--warning.hint--bottom:before{border-bottom-color:#c09854}.hint--warning.hint--left:before{border-left-color:#c09854}.hint--warning.hint--right:before{border-right-color:#c09854}.hint--info:after{text-shadow:0 -1px #1a3c4d;background-color:#3986ac}.hint--info.hint--top-left:before,.hint--info.hint--top-right:before,.hint--info.hint--top:before{border-top-color:#3986ac}.hint--info.hint--bottom-left:before,.hint--info.hint--bottom-right:before,.hint--info.hint--bottom:before{border-bottom-color:#3986ac}.hint--info.hint--left:before{border-left-color:#3986ac}.hint--info.hint--right:before{border-right-color:#3986ac}.hint--success:after{text-shadow:0 -1px #1a321a;background-color:#458746}.hint--success.hint--top-left:before,.hint--success.hint--top-right:before,.hint--success.hint--top:before{border-top-color:#458746}.hint--success.hint--bottom-left:before,.hint--success.hint--bottom-right:before,.hint--success.hint--bottom:before{border-bottom-color:#458746}.hint--success.hint--left:before{border-left-color:#458746}.hint--success.hint--right:before{border-right-color:#458746}.hint--always:after,.hint--always:before{opacity:1;visibility:visible}.hint--always.hint--top:before{transform:translateY(-8px)}.hint--always.hint--top:after{transform:translate(-50%)translateY(-8px)}.hint--always.hint--top-left:before{transform:translateY(-8px)}.hint--always.hint--top-left:after{transform:translate(-100%)translateY(-8px)}.hint--always.hint--top-right:before,.hint--always.hint--top-right:after{transform:translateY(-8px)}.hint--always.hint--bottom:before{transform:translateY(8px)}.hint--always.hint--bottom:after{transform:translate(-50%)translateY(8px)}.hint--always.hint--bottom-left:before{transform:translateY(8px)}.hint--always.hint--bottom-left:after{transform:translate(-100%)translateY(8px)}.hint--always.hint--bottom-right:before,.hint--always.hint--bottom-right:after{transform:translateY(8px)}.hint--always.hint--left:before,.hint--always.hint--left:after{transform:translate(-8px)}.hint--always.hint--right:before,.hint--always.hint--right:after{transform:translate(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:before,.hint--no-animate:after{transition-duration:0s}.hint--bounce:before,.hint--bounce:after{-webkit-transition:opacity .3s,visibility .3s,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s,visibility .3s,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s,visibility .3s,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--no-shadow:before,.hint--no-shadow:after{text-shadow:initial;box-shadow:initial}.hint--no-arrow:before{display:none}.art-video-player.art-mobile{--art-bottom-gap:10px;--art-control-height:38px;--art-control-icon-scale:1;--art-state-size:60px;--art-settings-max-height:180px;--art-selector-max-height:180px;--art-indicator-scale:1;--art-control-opacity:1}.art-video-player.art-mobile .art-controls-left{margin-left:calc(var(--art-padding)/-1)}.art-video-player.art-mobile .art-controls-right{margin-right:calc(var(--art-padding)/-1)}'},{}],bAWi2:[function(n,r,i){var s;s=function(){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}var a=Object.prototype.toString,l=function(h){if(h===void 0)return"undefined";if(h===null)return"null";var p=o(h);if(p==="boolean")return"boolean";if(p==="string")return"string";if(p==="number")return"number";if(p==="symbol")return"symbol";if(p==="function")return c(h)==="GeneratorFunction"?"generatorfunction":"function";if(Array.isArray?Array.isArray(h):h instanceof Array)return"array";if(h.constructor&&typeof h.constructor.isBuffer=="function"&&h.constructor.isBuffer(h))return"buffer";if(function(m){try{if(typeof m.length=="number"&&typeof m.callee=="function")return!0}catch(y){if(y.message.indexOf("callee")!==-1)return!0}return!1}(h))return"arguments";if(h instanceof Date||typeof h.toDateString=="function"&&typeof h.getDate=="function"&&typeof h.setDate=="function")return"date";if(h instanceof Error||typeof h.message=="string"&&h.constructor&&typeof h.constructor.stackTraceLimit=="number")return"error";if(h instanceof RegExp||typeof h.flags=="string"&&typeof h.ignoreCase=="boolean"&&typeof h.multiline=="boolean"&&typeof h.global=="boolean")return"regexp";switch(c(h)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(typeof h.throw=="function"&&typeof h.return=="function"&&typeof h.next=="function")return"generator";switch(p=a.call(h)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return p.slice(8,-1).toLowerCase().replace(/\s/g,"")};function c(h){return h.constructor?h.constructor.name:null}function u(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:["option"];return d(h,p,m),f(h,p,m),function(y,v,b){var x=l(v),S=l(y);if(x==="object"){if(S!=="object")throw Error("[Type Error]: '".concat(b.join("."),"' require 'object' type, but got '").concat(S,"'"));Object.keys(v).forEach(function(T){var C=y[T],E=v[T],k=b.slice();k.push(T),d(C,E,k),f(C,E,k),u(C,E,k)})}if(x==="array"){if(S!=="array")throw Error("[Type Error]: '".concat(b.join("."),"' require 'array' type, but got '").concat(S,"'"));y.forEach(function(T,C){var E=y[C],k=v[C]||v[0],A=b.slice();A.push(C),d(E,k,A),f(E,k,A),u(E,k,A)})}}(h,p,m),h}function d(h,p,m){if(l(p)==="string"){var y=l(h);if(p[0]==="?"&&(p=p.slice(1)+"|undefined"),!(-1<p.indexOf("|")?p.split("|").map(function(v){return v.toLowerCase().trim()}).filter(Boolean).some(function(v){return y===v}):p.toLowerCase().trim()===y))throw Error("[Type Error]: '".concat(m.join("."),"' require '").concat(p,"' type, but got '").concat(y,"'"))}}function f(h,p,m){if(l(p)==="function"){var y=p(h,l(h),m);if(y!==!0){var v=l(y);throw v==="string"?Error(y):v==="error"?y:Error("[Validator Error]: The scheme for '".concat(m.join("."),"' validator require return true, but got '").concat(y,"'"))}}}return u.kindOf=l,u},r.exports=s()},{}],"66mFZ":[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i),i.default=class{on(s,o,a){let l=this.e||(this.e={});return(l[s]||(l[s]=[])).push({fn:o,ctx:a}),this}once(s,o,a){let l=this;function c(...u){l.off(s,c),o.apply(a,u)}return c._=o,this.on(s,c,a)}emit(s,...o){let a=((this.e||(this.e={}))[s]||[]).slice();for(let l=0;l<a.length;l+=1)a[l].fn.apply(a[l].ctx,o);return this}off(s,o){let a=this.e||(this.e={}),l=a[s],c=[];if(l&&o)for(let u=0,d=l.length;u<d;u+=1)l[u].fn!==o&&l[u].fn._!==o&&c.push(l[u]);return c.length?a[s]=c:delete a[s],this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(n,r,i){i.interopDefault=function(s){return s&&s.__esModule?s:{default:s}},i.defineInteropFlag=function(s){Object.defineProperty(s,"__esModule",{value:!0})},i.exportAll=function(s,o){return Object.keys(s).forEach(function(a){a==="default"||a==="__esModule"||Object.prototype.hasOwnProperty.call(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:function(){return s[a]}})}),o},i.export=function(s,o,a){Object.defineProperty(s,o,{enumerable:!0,get:a})}},{}],"71aH7":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./dom");s.exportAll(o,i);var a=n("./error");s.exportAll(a,i);var l=n("./subtitle");s.exportAll(l,i);var c=n("./file");s.exportAll(c,i);var u=n("./property");s.exportAll(u,i);var d=n("./time");s.exportAll(d,i);var f=n("./format");s.exportAll(f,i);var h=n("./compatibility");s.exportAll(h,i)},{"./dom":"bSNiV","./error":"hwmZz","./subtitle":"inzwq","./file":"6b7Ip","./property":"5NSdr","./time":"epmNy","./format":"gapRl","./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bSNiV:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"query",()=>a),s.export(i,"queryAll",()=>l),s.export(i,"addClass",()=>c),s.export(i,"removeClass",()=>u),s.export(i,"hasClass",()=>d),s.export(i,"append",()=>f),s.export(i,"remove",()=>h),s.export(i,"setStyle",()=>p),s.export(i,"setStyles",()=>m),s.export(i,"getStyle",()=>y),s.export(i,"sublings",()=>v),s.export(i,"inverseClass",()=>b),s.export(i,"tooltip",()=>x),s.export(i,"isInViewport",()=>S),s.export(i,"includeFromEvent",()=>T),s.export(i,"replaceElement",()=>C),s.export(i,"createElement",()=>E),s.export(i,"getIcon",()=>k),s.export(i,"setStyleText",()=>A),s.export(i,"supportsFlex",()=>R),s.export(i,"getRect",()=>L),s.export(i,"loadImg",()=>D);var o=n("./compatibility");function a(P,M=document){return M.querySelector(P)}function l(P,M=document){return Array.from(M.querySelectorAll(P))}function c(P,M){return P.classList.add(M)}function u(P,M){return P.classList.remove(M)}function d(P,M){return P.classList.contains(M)}function f(P,M){return M instanceof Element?P.appendChild(M):P.insertAdjacentHTML("beforeend",String(M)),P.lastElementChild||P.lastChild}function h(P){return P.parentNode.removeChild(P)}function p(P,M,j){return P.style[M]=j,P}function m(P,M){for(let j in M)p(P,j,M[j]);return P}function y(P,M,j=!0){let F=window.getComputedStyle(P,null).getPropertyValue(M);return j?parseFloat(F):F}function v(P){return Array.from(P.parentElement.children).filter(M=>M!==P)}function b(P,M){v(P).forEach(j=>u(j,M)),c(P,M)}function x(P,M,j="top"){o.isMobile||(P.setAttribute("aria-label",M),c(P,"hint--rounded"),c(P,`hint--${j}`))}function S(P,M=0){let j=P.getBoundingClientRect(),F=window.innerHeight||document.documentElement.clientHeight,O=window.innerWidth||document.documentElement.clientWidth,B=j.top-M<=F&&j.top+j.height+M>=0,I=j.left-M<=O+M&&j.left+j.width+M>=0;return B&&I}function T(P,M){return P.composedPath&&P.composedPath().indexOf(M)>-1}function C(P,M){return M.parentNode.replaceChild(P,M),P}function E(P){return document.createElement(P)}function k(P="",M=""){let j=E("i");return c(j,"art-icon"),c(j,`art-icon-${P}`),f(j,M),j}function A(P,M){let j=document.getElementById(P);if(j)j.textContent=M;else{let F=E("style");F.id=P,F.textContent=M,document.head.appendChild(F)}}function R(){let P=document.createElement("div");return P.style.display="flex",P.style.display==="flex"}function L(P){return P.getBoundingClientRect()}function D(P,M){return new Promise((j,F)=>{let O=new Image;O.crossOrigin="Anonymous",O.onload=function(){if(M&&M!==1){let B=document.createElement("canvas"),I=B.getContext("2d");B.width=O.width*M,B.height=O.height*M,I.drawImage(O,0,0,B.width,B.height),B.toBlob($=>{let G=URL.createObjectURL($),Y=new Image;Y.onload=function(){j(Y)},Y.onerror=function(){URL.revokeObjectURL(G),F(Error(`Image load failed: ${P}`))},Y.src=G})}else j(O)},O.onerror=function(){F(Error(`Image load failed: ${P}`))},O.src=P})}},{"./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6ZTr6":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"userAgent",()=>o),s.export(i,"isSafari",()=>a),s.export(i,"isWechat",()=>l),s.export(i,"isIE",()=>c),s.export(i,"isAndroid",()=>u),s.export(i,"isIOS",()=>d),s.export(i,"isIOS13",()=>f),s.export(i,"isMobile",()=>h),s.export(i,"isBrowser",()=>p);let o=typeof navigator<"u"?navigator.userAgent:"",a=/^((?!chrome|android).)*safari/i.test(o),l=/MicroMessenger/i.test(o),c=/MSIE|Trident/i.test(o),u=/android/i.test(o),d=/iPad|iPhone|iPod/i.test(o)&&!window.MSStream,f=d||o.includes("Macintosh")&&navigator.maxTouchPoints>=1,h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(o)||f,p=typeof window<"u"},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hwmZz:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"ArtPlayerError",()=>o),s.export(i,"errorHandle",()=>a);class o extends Error{constructor(c,u){super(c),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u||this.constructor),this.name="ArtPlayerError"}}function a(l,c){if(!l)throw new o(c);return l}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],inzwq:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(c){return`WEBVTT \r
\r
`.concat(c.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(u,d,f)=>{let h=f.slice(0,3);return f.length===1&&(h=f+"00"),f.length===2&&(h=f+"0"),`${d},${h}`}).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function a(c){return URL.createObjectURL(new Blob([c],{type:"text/vtt"}))}function l(c){let u=RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function d(f=""){return f.split(/[:.]/).map((h,p,m)=>{if(p===m.length-1){if(h.length===1)return`.${h}00`;if(h.length===2)return`.${h}0`}else if(h.length===1)return(p===0?"0":":0")+h;return p===0?h:p===m.length-1?`.${h}`:`:${h}`}).join("")}return`WEBVTT

`+c.split(/\r?\n/).map(f=>{let h=f.match(u);return h?{start:d(h[1].trim()),end:d(h[2].trim()),text:h[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(p=>p.trim()).join(`
`)}:null}).filter(f=>f).map((f,h)=>f?h+1+`
${f.start} --> ${f.end}
${f.text}`:"").filter(f=>f.trim()).join(`

`)}s.defineInteropFlag(i),s.export(i,"srtToVtt",()=>o),s.export(i,"vttToBlob",()=>a),s.export(i,"assToVtt",()=>l)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6b7Ip":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a,l){let c=document.createElement("a");c.style.display="none",c.href=a,c.download=l,document.body.appendChild(c),c.click(),document.body.removeChild(c)}s.defineInteropFlag(i),s.export(i,"getExt",()=>function a(l){return l.includes("?")?a(l.split("?")[0]):l.includes("#")?a(l.split("#")[0]):l.trim().toLowerCase().split(".").pop()}),s.export(i,"download",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5NSdr":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"def",()=>o),s.export(i,"has",()=>l),s.export(i,"get",()=>c),s.export(i,"mergeDeep",()=>function u(...d){let f=h=>h&&typeof h=="object"&&!Array.isArray(h);return d.reduce((h,p)=>(Object.keys(p).forEach(m=>{let y=h[m],v=p[m];Array.isArray(y)&&Array.isArray(v)?h[m]=y.concat(...v):f(y)&&f(v)?h[m]=u(y,v):h[m]=v}),h),{})});let o=Object.defineProperty,{hasOwnProperty:a}=Object.prototype;function l(u,d){return a.call(u,d)}function c(u,d){return Object.getOwnPropertyDescriptor(u,d)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],epmNy:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(c=0){return new Promise(u=>setTimeout(u,c))}function a(c,u){let d;return function(...f){clearTimeout(d),d=setTimeout(()=>(d=null,c.apply(this,f)),u)}}function l(c,u){let d=!1;return function(...f){d||(c.apply(this,f),d=!0,setTimeout(function(){d=!1},u))}}s.defineInteropFlag(i),s.export(i,"sleep",()=>o),s.export(i,"debounce",()=>a),s.export(i,"throttle",()=>l)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gapRl:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(d,f,h){return Math.max(Math.min(d,Math.max(f,h)),Math.min(f,h))}function a(d){return d.charAt(0).toUpperCase()+d.slice(1)}function l(d){if(!d)return"00:00";let f=Math.floor(d/3600),h=Math.floor((d-3600*f)/60),p=Math.floor(d-3600*f-60*h);return(f>0?[f,h,p]:[h,p]).map(m=>m<10?`0${m}`:String(m)).join(":")}function c(d){return d.replace(/[&<>'"]/g,f=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[f]||f)}function u(d){let f={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'},h=RegExp(`(${Object.keys(f).join("|")})`,"g");return d.replace(h,p=>f[p]||p)}s.defineInteropFlag(i),s.export(i,"clamp",()=>o),s.export(i,"capitalize",()=>a),s.export(i,"secondToTime",()=>l),s.export(i,"escape",()=>c),s.export(i,"unescape",()=>u)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],AKEiO:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"ComponentOption",()=>p);var o=n("../utils");let a="array",l="boolean",c="string",u="number",d="object",f="function";function h(m,y,v){return(0,o.errorHandle)(y===c||y===u||m instanceof Element,`${v.join(".")} require '${c}' or 'Element' type`)}let p={html:h,disable:`?${l}`,name:`?${c}`,index:`?${u}`,style:`?${d}`,click:`?${f}`,mounted:`?${f}`,tooltip:`?${c}|${u}`,width:`?${u}`,selector:`?${a}`,onSelect:`?${f}`,switch:`?${l}`,onSwitch:`?${f}`,range:`?${a}`,onRange:`?${f}`,onChange:`?${f}`};i.default={id:c,container:h,url:c,poster:c,type:c,theme:c,lang:c,volume:u,isLive:l,muted:l,autoplay:l,autoSize:l,autoMini:l,loop:l,flip:l,playbackRate:l,aspectRatio:l,screenshot:l,setting:l,hotkey:l,pip:l,mutex:l,backdrop:l,fullscreen:l,fullscreenWeb:l,subtitleOffset:l,miniProgressBar:l,useSSR:l,playsInline:l,lock:l,fastForward:l,autoPlayback:l,autoOrientation:l,airplay:l,proxy:`?${f}`,plugins:[f],layers:[p],contextmenu:[p],settings:[p],controls:[{...p,position:(m,y,v)=>{let b=["top","left","right"];return(0,o.errorHandle)(b.includes(m),`${v.join(".")} only accept ${b.toString()} as parameters`)}}],quality:[{default:`?${l}`,html:c,url:c}],highlight:[{time:u,text:c}],thumbnails:{url:c,number:u,column:u,width:u,height:u,scale:u},subtitle:{url:c,name:c,type:c,style:d,escape:l,encoding:c,onVttLoad:f},moreVideoAttr:d,i18n:d,icons:d,cssVar:d,customType:d}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lyjeQ:[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i),i.default={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],X13Zf:[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);var s=n("./utils");class o{constructor(l){this.art=l;let{option:c,constructor:u}=l;c.container instanceof Element?this.$container=c.container:(this.$container=(0,s.query)(c.container),(0,s.errorHandle)(this.$container,`No container element found by ${c.container}`)),(0,s.errorHandle)((0,s.supportsFlex)(),"The current browser does not support flex layout");let d=this.$container.tagName.toLowerCase();(0,s.errorHandle)(d==="div",`Unsupported container element type, only support 'div' but got '${d}'`),(0,s.errorHandle)(u.instances.every(f=>f.template.$container!==this.$container),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=l.id,this.init()}static get html(){return'<div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show"><video class="art-video"><track default kind="metadata" src=""></track></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-center"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">5.2.1</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span>x<span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-contextmenus"></div></div>'}query(l){return(0,s.query)(l,this.$container)}init(){let{option:l}=this.art;if(l.useSSR||(this.$container.innerHTML=o.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$track=this.query("track"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$contextmenu=this.query(".art-contextmenus"),l.proxy){let c=l.proxy.call(this.art,this.art);(0,s.errorHandle)(c instanceof HTMLVideoElement||c instanceof HTMLCanvasElement,"Function 'option.proxy' needs to return 'HTMLVideoElement' or 'HTMLCanvasElement'"),(0,s.replaceElement)(c,this.$video),c.className="art-video",this.$video=c}l.backdrop&&(0,s.addClass)(this.$player,"art-backdrop"),s.isMobile&&(0,s.addClass)(this.$player,"art-mobile")}destroy(l){l?this.$container.innerHTML="":(0,s.addClass)(this.$player,"art-destroy")}}i.default=o},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3jKkj":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("../utils"),a=n("./zh-cn"),l=s.interopDefault(a);i.default=class{constructor(c){this.art=c,this.languages={"zh-cn":l.default},this.language={},this.update(c.option.i18n)}init(){let c=this.art.option.lang.toLowerCase();this.language=this.languages[c]||{}}get(c){return this.language[c]||c}update(c){this.languages=(0,o.mergeDeep)(this.languages,c),this.init()}}},{"../utils":"71aH7","./zh-cn":"5Y91w","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5Y91w":[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);let s={"Video Info":"统计信息",Close:"关闭","Video Load Failed":"加载失败",Volume:"音量",Play:"播放",Pause:"暂停",Rate:"速度",Mute:"静音","Video Flip":"画面翻转",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新连接","Show Setting":"显示设置","Hide Setting":"隐藏设置",Screenshot:"截图","Play Speed":"播放速度","Aspect Ratio":"画面比例",Default:"默认",Normal:"正常",Open:"打开","Switch Video":"切换","Switch Subtitle":"切换字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"网页全屏","Exit Web Fullscreen":"退出网页全屏","Mini Player":"迷你播放器","PIP Mode":"开启画中画","Exit PIP Mode":"退出画中画","PIP Not Supported":"不支持画中画","Fullscreen Not Supported":"不支持全屏","Subtitle Offset":"字幕偏移","Last Seen":"上次看到","Jump Play":"跳转播放",AirPlay:"隔空播放","AirPlay Not Available":"隔空播放不可用"};i.default=s,typeof window<"u"&&(window["artplayer-i18n-zh-cn"]=s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],a90nx:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./urlMix"),a=s.interopDefault(o),l=n("./attrMix"),c=s.interopDefault(l),u=n("./playMix"),d=s.interopDefault(u),f=n("./pauseMix"),h=s.interopDefault(f),p=n("./toggleMix"),m=s.interopDefault(p),y=n("./seekMix"),v=s.interopDefault(y),b=n("./volumeMix"),x=s.interopDefault(b),S=n("./currentTimeMix"),T=s.interopDefault(S),C=n("./durationMix"),E=s.interopDefault(C),k=n("./switchMix"),A=s.interopDefault(k),R=n("./playbackRateMix"),L=s.interopDefault(R),D=n("./aspectRatioMix"),P=s.interopDefault(D),M=n("./screenshotMix"),j=s.interopDefault(M),F=n("./fullscreenMix"),O=s.interopDefault(F),B=n("./fullscreenWebMix"),I=s.interopDefault(B),$=n("./pipMix"),G=s.interopDefault($),Y=n("./loadedMix"),q=s.interopDefault(Y),te=n("./playedMix"),ae=s.interopDefault(te),le=n("./playingMix"),Te=s.interopDefault(le),Fe=n("./autoSizeMix"),Qe=s.interopDefault(Fe),it=n("./rectMix"),Me=s.interopDefault(it),De=n("./flipMix"),bt=s.interopDefault(De),yn=n("./miniMix"),Ee=s.interopDefault(yn),Ve=n("./posterMix"),fe=s.interopDefault(Ve),Zt=n("./autoHeightMix"),jt=s.interopDefault(Zt),Nt=n("./cssVarMix"),Nn=s.interopDefault(Nt),kn=n("./themeMix"),pt=s.interopDefault(kn),An=n("./typeMix"),ni=s.interopDefault(An),Fr=n("./stateMix"),vn=s.interopDefault(Fr),xn=n("./subtitleOffsetMix"),ya=s.interopDefault(xn),Is=n("./airplayMix"),Pl=s.interopDefault(Is),jr=n("./qualityMix"),Dl=s.interopDefault(jr),Ml=n("./thumbnailsMix"),ri=s.interopDefault(Ml),yo=n("./optionInit"),Ol=s.interopDefault(yo),Ps=n("./eventInit"),Fl=s.interopDefault(Ps);i.default=class{constructor(Be){(0,a.default)(Be),(0,c.default)(Be),(0,d.default)(Be),(0,h.default)(Be),(0,m.default)(Be),(0,v.default)(Be),(0,x.default)(Be),(0,T.default)(Be),(0,E.default)(Be),(0,A.default)(Be),(0,L.default)(Be),(0,P.default)(Be),(0,j.default)(Be),(0,O.default)(Be),(0,I.default)(Be),(0,G.default)(Be),(0,q.default)(Be),(0,ae.default)(Be),(0,Te.default)(Be),(0,Qe.default)(Be),(0,Me.default)(Be),(0,bt.default)(Be),(0,Ee.default)(Be),(0,fe.default)(Be),(0,jt.default)(Be),(0,Nn.default)(Be),(0,pt.default)(Be),(0,ni.default)(Be),(0,vn.default)(Be),(0,ya.default)(Be),(0,Pl.default)(Be),(0,Dl.default)(Be),(0,ri.default)(Be),(0,Fl.default)(Be),(0,Ol.default)(Be)}}},{"./urlMix":"kQoac","./attrMix":"deCma","./playMix":"fOJuP","./pauseMix":"fzHAy","./toggleMix":"cBHxQ","./seekMix":"koAPr","./volumeMix":"6eyuR","./currentTimeMix":"faaWv","./durationMix":"5y91K","./switchMix":"iceD8","./playbackRateMix":"keKwh","./aspectRatioMix":"jihET","./screenshotMix":"36kPY","./fullscreenMix":"2GYOJ","./fullscreenWebMix":"5aYAP","./pipMix":"7EnIB","./loadedMix":"3N9mP","./playedMix":"et96R","./playingMix":"9DzzM","./autoSizeMix":"i1LDY","./rectMix":"IqARI","./flipMix":"7E7Vs","./miniMix":"gpugx","./posterMix":"1SuFS","./autoHeightMix":"8x4te","./cssVarMix":"1CaTA","./themeMix":"2FqhO","./typeMix":"1fQQs","./stateMix":"iBOQW","./subtitleOffsetMix":"6vlBV","./airplayMix":"eftqT","./qualityMix":"5SdyX","./thumbnailsMix":"4HcqV","./optionInit":"fCWZK","./eventInit":"f8Lv3","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kQoac:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{option:c,template:{$video:u}}=l;(0,o.def)(l,"url",{get:()=>u.src,async set(d){if(d){let f=l.url,h=c.type||(0,o.getExt)(d),p=c.customType[h];h&&p?(await(0,o.sleep)(),l.loading.show=!0,p.call(l,u,d,l)):(URL.revokeObjectURL(f),u.src=d),f!==l.url&&(l.option.url=d,l.isReady&&f&&l.once("video:canplay",()=>{l.emit("restart",d)}))}else await(0,o.sleep)(),l.loading.show=!0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],deCma:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{template:{$video:c}}=l;(0,o.def)(l,"attr",{value(u,d){if(d===void 0)return c[u];c[u]=d}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fOJuP:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{i18n:c,notice:u,option:d,constructor:{instances:f},template:{$video:h}}=l;(0,o.def)(l,"play",{value:async function(){let p=await h.play();if(u.show=c.get("Play"),l.emit("play"),d.mutex)for(let m=0;m<f.length;m++){let y=f[m];y!==l&&y.pause()}return p}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fzHAy:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{template:{$video:c},i18n:u,notice:d}=l;(0,o.def)(l,"pause",{value(){let f=c.pause();return d.show=u.get("Pause"),l.emit("pause"),f}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cBHxQ:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){(0,o.def)(l,"toggle",{value:()=>l.playing?l.pause():l.play()})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],koAPr:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{notice:c}=l;(0,o.def)(l,"seek",{set(u){l.currentTime=u,l.emit("seek",l.currentTime),l.duration&&(c.show=`${(0,o.secondToTime)(l.currentTime)} / ${(0,o.secondToTime)(l.duration)}`)}}),(0,o.def)(l,"forward",{set(u){l.seek=l.currentTime+u}}),(0,o.def)(l,"backward",{set(u){l.seek=l.currentTime-u}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6eyuR":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{template:{$video:c},i18n:u,notice:d,storage:f}=l;(0,o.def)(l,"volume",{get:()=>c.volume||0,set:h=>{c.volume=(0,o.clamp)(h,0,1),d.show=`${u.get("Volume")}: ${parseInt(100*c.volume,10)}`,c.volume!==0&&f.set("volume",c.volume)}}),(0,o.def)(l,"muted",{get:()=>c.muted,set:h=>{c.muted=h,l.emit("muted",h)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],faaWv:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{$video:c}=l.template;(0,o.def)(l,"currentTime",{get:()=>c.currentTime||0,set:u=>{Number.isNaN(u=parseFloat(u))||(c.currentTime=(0,o.clamp)(u,0,l.duration))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5y91K":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){(0,o.def)(l,"duration",{get:()=>{let{duration:c}=l.template.$video;return c===1/0?0:c||0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iceD8:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){function c(u,d){return new Promise((f,h)=>{if(u===l.url)return;let{playing:p,aspectRatio:m,playbackRate:y}=l;l.pause(),l.url=u,l.notice.show="",l.once("video:error",h),l.once("video:loadedmetadata",()=>{l.currentTime=d}),l.once("video:canplay",async()=>{l.playbackRate=y,l.aspectRatio=m,p&&await l.play(),l.notice.show="",f()})})}(0,o.def)(l,"switchQuality",{value:u=>c(u,l.currentTime)}),(0,o.def)(l,"switchUrl",{value:u=>c(u,0)}),(0,o.def)(l,"switch",{set:l.switchUrl})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],keKwh:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{template:{$video:c},i18n:u,notice:d}=l;(0,o.def)(l,"playbackRate",{get:()=>c.playbackRate,set(f){f?f!==c.playbackRate&&(c.playbackRate=f,d.show=`${u.get("Rate")}: ${f===1?u.get("Normal"):`${f}x`}`):l.playbackRate=1}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jihET:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{i18n:c,notice:u,template:{$video:d,$player:f}}=l;(0,o.def)(l,"aspectRatio",{get:()=>f.dataset.aspectRatio||"default",set(h){if(h||(h="default"),h==="default")(0,o.setStyle)(d,"width",null),(0,o.setStyle)(d,"height",null),(0,o.setStyle)(d,"margin",null),delete f.dataset.aspectRatio;else{let p=h.split(":").map(Number),{clientWidth:m,clientHeight:y}=f,v=p[0]/p[1];m/y>v?((0,o.setStyle)(d,"width",`${v*y}px`),(0,o.setStyle)(d,"height","100%"),(0,o.setStyle)(d,"margin","0 auto")):((0,o.setStyle)(d,"width","100%"),(0,o.setStyle)(d,"height",`${m/v}px`),(0,o.setStyle)(d,"margin","auto 0")),f.dataset.aspectRatio=h}u.show=`${c.get("Aspect Ratio")}: ${h==="default"?c.get("Default"):h}`,l.emit("aspectRatio",h)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"36kPY":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{notice:c,template:{$video:u}}=l,d=(0,o.createElement)("canvas");(0,o.def)(l,"getDataURL",{value:()=>new Promise((f,h)=>{try{d.width=u.videoWidth,d.height=u.videoHeight,d.getContext("2d").drawImage(u,0,0),f(d.toDataURL("image/png"))}catch(p){c.show=p,h(p)}})}),(0,o.def)(l,"getBlobUrl",{value:()=>new Promise((f,h)=>{try{d.width=u.videoWidth,d.height=u.videoHeight,d.getContext("2d").drawImage(u,0,0),d.toBlob(p=>{f(URL.createObjectURL(p))})}catch(p){c.show=p,h(p)}})}),(0,o.def)(l,"screenshot",{value:async f=>{let h=await l.getDataURL(),p=f||`artplayer_${(0,o.secondToTime)(u.currentTime)}`;return(0,o.download)(h,`${p}.png`),l.emit("screenshot",h),h}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2GYOJ":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>c);var o=n("../libs/screenfull"),a=s.interopDefault(o),l=n("../utils");function c(u){let{i18n:d,notice:f,template:{$video:h,$player:p}}=u,m=v=>{a.default.on("change",()=>{v.emit("fullscreen",a.default.isFullscreen)}),a.default.on("error",b=>{v.emit("fullscreenError",b)}),(0,l.def)(v,"fullscreen",{get:()=>a.default.isFullscreen,async set(b){b?(v.state="fullscreen",await a.default.request(p),(0,l.addClass)(p,"art-fullscreen")):(await a.default.exit(),(0,l.removeClass)(p,"art-fullscreen")),v.emit("resize")}})},y=v=>{v.proxy(document,"webkitfullscreenchange",()=>{v.emit("fullscreen",v.fullscreen),v.emit("resize")}),(0,l.def)(v,"fullscreen",{get:()=>document.fullscreenElement===h,set(b){b?(v.state="fullscreen",h.webkitEnterFullscreen()):h.webkitExitFullscreen()}})};u.once("video:loadedmetadata",()=>{a.default.isEnabled?m(u):h.webkitSupportsFullscreen?y(u):(0,l.def)(u,"fullscreen",{get:()=>!1,set(){f.show=d.get("Fullscreen Not Supported")}}),(0,l.def)(u,"fullscreen",(0,l.get)(u,"fullscreen"))})}},{"../libs/screenfull":"8v40z","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8v40z":[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);let s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=(()=>{if(typeof document>"u")return!1;let c=s[0],u={};for(let d of s)if(d[1]in document){for(let[f,h]of d.entries())u[c[f]]=h;return u}return!1})(),a={change:o.fullscreenchange,error:o.fullscreenerror},l={request:(c=document.documentElement,u)=>new Promise((d,f)=>{let h=()=>{l.off("change",h),d()};l.on("change",h);let p=c[o.requestFullscreen](u);p instanceof Promise&&p.then(h).catch(f)}),exit:()=>new Promise((c,u)=>{if(!l.isFullscreen){c();return}let d=()=>{l.off("change",d),c()};l.on("change",d);let f=document[o.exitFullscreen]();f instanceof Promise&&f.then(d).catch(u)}),toggle:(c,u)=>l.isFullscreen?l.exit():l.request(c,u),onchange(c){l.on("change",c)},onerror(c){l.on("error",c)},on(c,u){let d=a[c];d&&document.addEventListener(d,u,!1)},off(c,u){let d=a[c];d&&document.removeEventListener(d,u,!1)},raw:o};Object.defineProperties(l,{isFullscreen:{get:()=>!!document[o.fullscreenElement]},element:{enumerable:!0,get:()=>document[o.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>!!document[o.fullscreenEnabled]}}),o||(l={isEnabled:!1}),i.default=l},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5aYAP":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{constructor:c,template:{$container:u,$player:d}}=l,f="";(0,o.def)(l,"fullscreenWeb",{get:()=>(0,o.hasClass)(d,"art-fullscreen-web"),set(h){h?(f=d.style.cssText,c.FULLSCREEN_WEB_IN_BODY&&(0,o.append)(document.body,d),l.state="fullscreenWeb",(0,o.setStyle)(d,"width","100%"),(0,o.setStyle)(d,"height","100%"),(0,o.addClass)(d,"art-fullscreen-web"),l.emit("fullscreenWeb",!0)):(c.FULLSCREEN_WEB_IN_BODY&&(0,o.append)(u,d),f&&(d.style.cssText=f,f=""),(0,o.removeClass)(d,"art-fullscreen-web"),l.emit("fullscreenWeb",!1)),l.emit("resize")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7EnIB":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{i18n:c,notice:u,template:{$video:d}}=l;document.pictureInPictureEnabled?function(f){let{template:{$video:h},proxy:p,notice:m}=f;h.disablePictureInPicture=!1,(0,o.def)(f,"pip",{get:()=>document.pictureInPictureElement,set(y){y?(f.state="pip",h.requestPictureInPicture().catch(v=>{throw m.show=v,v})):document.exitPictureInPicture().catch(v=>{throw m.show=v,v})}}),p(h,"enterpictureinpicture",()=>{f.emit("pip",!0)}),p(h,"leavepictureinpicture",()=>{f.emit("pip",!1)})}(l):d.webkitSupportsPresentationMode?function(f){let{$video:h}=f.template;h.webkitSetPresentationMode("inline"),(0,o.def)(f,"pip",{get:()=>h.webkitPresentationMode==="picture-in-picture",set(p){p?(f.state="pip",h.webkitSetPresentationMode("picture-in-picture"),f.emit("pip",!0)):(h.webkitSetPresentationMode("inline"),f.emit("pip",!1))}})}(l):(0,o.def)(l,"pip",{get:()=>!1,set(){u.show=c.get("PIP Not Supported")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3N9mP":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{$video:c}=l.template;(0,o.def)(l,"loaded",{get:()=>l.loadedTime/c.duration}),(0,o.def)(l,"loadedTime",{get:()=>c.buffered.length?c.buffered.end(c.buffered.length-1):0})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],et96R:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){(0,o.def)(l,"played",{get:()=>l.currentTime/l.duration})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9DzzM":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{$video:c}=l.template;(0,o.def)(l,"playing",{get:()=>typeof c.playing=="boolean"?c.playing:c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],i1LDY:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{$container:c,$player:u,$video:d}=l.template;(0,o.def)(l,"autoSize",{value(){let{videoWidth:f,videoHeight:h}=d,{width:p,height:m}=(0,o.getRect)(c),y=f/h;p/m>y?((0,o.setStyle)(u,"width",`${m*y/p*100}%`),(0,o.setStyle)(u,"height","100%")):((0,o.setStyle)(u,"width","100%"),(0,o.setStyle)(u,"height",`${p/y/m*100}%`)),l.emit("autoSize",{width:l.width,height:l.height})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],IqARI:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){(0,o.def)(l,"rect",{get:()=>(0,o.getRect)(l.template.$player)});let c=["bottom","height","left","right","top","width"];for(let u=0;u<c.length;u++){let d=c[u];(0,o.def)(l,d,{get:()=>l.rect[d]})}(0,o.def)(l,"x",{get:()=>l.left+window.pageXOffset}),(0,o.def)(l,"y",{get:()=>l.top+window.pageYOffset})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7E7Vs":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{template:{$player:c},i18n:u,notice:d}=l;(0,o.def)(l,"flip",{get:()=>c.dataset.flip||"normal",set(f){f||(f="normal"),f==="normal"?delete c.dataset.flip:c.dataset.flip=f,d.show=`${u.get("Video Flip")}: ${u.get((0,o.capitalize)(f))}`,l.emit("flip",f)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gpugx:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{icons:c,proxy:u,storage:d,template:{$player:f,$video:h}}=l,p=!1,m=0,y=0;function v(){let{$mini:S}=l.template;S&&((0,o.removeClass)(f,"art-mini"),(0,o.setStyle)(S,"display","none"),f.prepend(h),l.emit("mini",!1))}function b(S,T){l.playing?((0,o.setStyle)(S,"display","none"),(0,o.setStyle)(T,"display","flex")):((0,o.setStyle)(S,"display","flex"),(0,o.setStyle)(T,"display","none"))}function x(){let{$mini:S}=l.template,T=(0,o.getRect)(S),C=window.innerHeight-T.height-50,E=window.innerWidth-T.width-50;d.set("top",C),d.set("left",E),(0,o.setStyle)(S,"top",`${C}px`),(0,o.setStyle)(S,"left",`${E}px`)}(0,o.def)(l,"mini",{get:()=>(0,o.hasClass)(f,"art-mini"),set(S){if(S){l.state="mini",(0,o.addClass)(f,"art-mini");let T=function(){let{$mini:k}=l.template;if(k)return(0,o.append)(k,h),(0,o.setStyle)(k,"display","flex");{let A=(0,o.createElement)("div");(0,o.addClass)(A,"art-mini-popup"),(0,o.append)(document.body,A),l.template.$mini=A,(0,o.append)(A,h);let R=(0,o.append)(A,'<div class="art-mini-close"></div>');(0,o.append)(R,c.close),u(R,"click",v);let L=(0,o.append)(A,'<div class="art-mini-state"></div>'),D=(0,o.append)(L,c.play),P=(0,o.append)(L,c.pause);return u(D,"click",()=>l.play()),u(P,"click",()=>l.pause()),b(D,P),l.on("video:playing",()=>b(D,P)),l.on("video:pause",()=>b(D,P)),l.on("video:timeupdate",()=>b(D,P)),u(A,"mousedown",M=>{p=M.button===0,m=M.pageX,y=M.pageY}),l.on("document:mousemove",M=>{if(p){(0,o.addClass)(A,"art-mini-droging");let j=M.pageX-m,F=M.pageY-y;(0,o.setStyle)(A,"transform",`translate(${j}px, ${F}px)`)}}),l.on("document:mouseup",()=>{if(p){p=!1,(0,o.removeClass)(A,"art-mini-droging");let M=(0,o.getRect)(A);d.set("left",M.left),d.set("top",M.top),(0,o.setStyle)(A,"left",`${M.left}px`),(0,o.setStyle)(A,"top",`${M.top}px`),(0,o.setStyle)(A,"transform",null)}}),A}}(),C=d.get("top"),E=d.get("left");C&&E?((0,o.setStyle)(T,"top",`${C}px`),(0,o.setStyle)(T,"left",`${E}px`),(0,o.isInViewport)(T)||x()):x(),l.emit("mini",!0)}else v()}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1SuFS":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{template:{$poster:c}}=l;(0,o.def)(l,"poster",{get:()=>{try{return c.style.backgroundImage.match(/"(.*)"/)[1]}catch{return""}},set(u){(0,o.setStyle)(c,"backgroundImage",`url(${u})`)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8x4te":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{template:{$container:c,$video:u}}=l;(0,o.def)(l,"autoHeight",{value(){let{clientWidth:d}=c,{videoHeight:f,videoWidth:h}=u,p=d/h*f;(0,o.setStyle)(c,"height",p+"px"),l.emit("autoHeight",p)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1CaTA":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{$player:c}=l.template;(0,o.def)(l,"cssVar",{value:(u,d)=>d?c.style.setProperty(u,d):getComputedStyle(c).getPropertyValue(u)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2FqhO":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){(0,o.def)(l,"theme",{get:()=>l.cssVar("--art-theme"),set(c){l.cssVar("--art-theme",c)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1fQQs":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){(0,o.def)(l,"type",{get:()=>l.option.type,set(c){l.option.type=c}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iBOQW:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let c=["mini","pip","fullscreen","fullscreenWeb"];(0,o.def)(l,"state",{get:()=>c.find(u=>l[u])||"standard",set(u){for(let d=0;d<c.length;d++){let f=c[d];f!==u&&l[f]&&(l[f]=!1)}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6vlBV":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{notice:c,i18n:u,template:d}=l;(0,o.def)(l,"subtitleOffset",{get:()=>{var f;return((f=d.$track)==null?void 0:f.offset)||0},set(f){let{cues:h}=l.subtitle;if(!d.$track||h.length===0)return;let p=(0,o.clamp)(f,-10,10);d.$track.offset=p;for(let m=0;m<h.length;m++){let y=h[m];y.originalStartTime=y.originalStartTime??y.startTime,y.originalEndTime=y.originalEndTime??y.endTime,y.startTime=(0,o.clamp)(y.originalStartTime+p,0,l.duration),y.endTime=(0,o.clamp)(y.originalEndTime+p,0,l.duration)}l.subtitle.update(),c.show=`${u.get("Subtitle Offset")}: ${f}s`,l.emit("subtitleOffset",f)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eftqT:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{i18n:c,notice:u,proxy:d,template:{$video:f}}=l,h=!0;window.WebKitPlaybackTargetAvailabilityEvent&&f.webkitShowPlaybackTargetPicker?d(f,"webkitplaybacktargetavailabilitychanged",p=>{switch(p.availability){case"available":h=!0;break;case"not-available":h=!1}}):h=!1,(0,o.def)(l,"airplay",{value(){h?(f.webkitShowPlaybackTargetPicker(),l.emit("airplay")):u.show=c.get("AirPlay Not Available")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5SdyX":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){(0,o.def)(l,"quality",{set(c){let{controls:u,notice:d,i18n:f}=l,h=c.find(p=>p.default)||c[0];u.update({name:"quality",position:"right",index:10,style:{marginRight:"10px"},html:(h==null?void 0:h.html)||"",selector:c,onSelect:async p=>(await l.switchQuality(p.url),d.show=`${f.get("Switch Video")}: ${p.html}`,p.html)})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4HcqV":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{events:c,option:u,template:{$progress:d,$video:f}}=l,h=null,p=null,m=!1,y=!1,v=!1;c.hover(d,()=>{v=!0},()=>{v=!1}),l.on("setBar",async(b,x,S)=>{var A;let T=(A=l.controls)==null?void 0:A.thumbnails,{url:C,scale:E}=u.thumbnails;if(!T||!C)return;let k=b==="played"&&S&&o.isMobile;if(b==="hover"||k){if(m||(m=!0,p=await(0,o.loadImg)(C,E),y=!0),!y||!v)return;let R=d.clientWidth*x;(0,o.setStyle)(T,"display","flex"),R>0&&R<d.clientWidth?function(L){var Y;let D=(Y=l.controls)==null?void 0:Y.thumbnails;if(!D)return;let{number:P,column:M,width:j,height:F,scale:O}=u.thumbnails,B=j*O||p.naturalWidth/M,I=F*O||B/(f.videoWidth/f.videoHeight),$=Math.floor(L/(d.clientWidth/P)),G=Math.ceil($/M)-1;(0,o.setStyle)(D,"backgroundImage",`url(${p.src})`),(0,o.setStyle)(D,"height",`${I}px`),(0,o.setStyle)(D,"width",`${B}px`),(0,o.setStyle)(D,"backgroundPosition",`-${($%M||M-1)*B}px -${G*I}px`),L<=B/2?(0,o.setStyle)(D,"left",0):L>d.clientWidth-B/2?(0,o.setStyle)(D,"left",`${d.clientWidth-B}px`):(0,o.setStyle)(D,"left",`${L-B/2}px`)}(R):o.isMobile||(0,o.setStyle)(T,"display","none"),k&&(clearTimeout(h),h=setTimeout(()=>{(0,o.setStyle)(T,"display","none")},500))}}),(0,o.def)(l,"thumbnails",{get:()=>l.option.thumbnails,set(b){b.url&&!l.option.isLive&&(l.option.thumbnails=b,clearTimeout(h),h=null,p=null,m=!1,y=!1)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fCWZK:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{option:c,storage:u,template:{$video:d,$poster:f}}=l;for(let p in c.moreVideoAttr)l.attr(p,c.moreVideoAttr[p]);c.muted&&(l.muted=c.muted),c.volume&&(d.volume=(0,o.clamp)(c.volume,0,1));let h=u.get("volume");for(let p in typeof h=="number"&&(d.volume=(0,o.clamp)(h,0,1)),c.poster&&(0,o.setStyle)(f,"backgroundImage",`url(${c.poster})`),c.autoplay&&(d.autoplay=c.autoplay),c.playsInline&&(d.playsInline=!0,d["webkit-playsinline"]=!0),c.theme&&(c.cssVar["--art-theme"]=c.theme),c.cssVar)l.cssVar(p,c.cssVar[p]);l.url=c.url}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f8Lv3:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>c);var o=n("../config"),a=s.interopDefault(o),l=n("../utils");function c(u){let{i18n:d,notice:f,option:h,constructor:p,proxy:m,template:{$player:y,$video:v,$poster:b}}=u,x=0;for(let S=0;S<a.default.events.length;S++)m(v,a.default.events[S],T=>{u.emit(`video:${T.type}`,T)});u.on("video:canplay",()=>{x=0,u.loading.show=!1}),u.once("video:canplay",()=>{u.loading.show=!1,u.controls.show=!0,u.mask.show=!0,u.isReady=!0,u.emit("ready")}),u.on("video:ended",()=>{h.loop?(u.seek=0,u.play(),u.controls.show=!1,u.mask.show=!1):(u.controls.show=!0,u.mask.show=!0)}),u.on("video:error",async S=>{x<p.RECONNECT_TIME_MAX?(await(0,l.sleep)(p.RECONNECT_SLEEP_TIME),x+=1,u.url=h.url,f.show=`${d.get("Reconnect")}: ${x}`,u.emit("error",S,x)):(u.mask.show=!0,u.loading.show=!1,u.controls.show=!0,(0,l.addClass)(y,"art-error"),await(0,l.sleep)(p.RECONNECT_SLEEP_TIME),f.show=d.get("Video Load Failed"))}),u.on("video:loadedmetadata",()=>{u.emit("resize"),l.isMobile&&(u.loading.show=!1,u.controls.show=!0,u.mask.show=!0)}),u.on("video:loadstart",()=>{u.loading.show=!0,u.mask.show=!1,u.controls.show=!0}),u.on("video:pause",()=>{u.controls.show=!0,u.mask.show=!0}),u.on("video:play",()=>{u.mask.show=!1,(0,l.setStyle)(b,"display","none")}),u.on("video:playing",()=>{u.mask.show=!1}),u.on("video:progress",()=>{u.playing&&(u.loading.show=!1)}),u.on("video:seeked",()=>{u.loading.show=!1,u.mask.show=!0}),u.on("video:seeking",()=>{u.loading.show=!0,u.mask.show=!1}),u.on("video:timeupdate",()=>{u.mask.show=!1}),u.on("video:waiting",()=>{u.loading.show=!0,u.mask.show=!1})}},{"../config":"lyjeQ","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8Z0Uf":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("../utils/component"),a=s.interopDefault(o),l=n("./fullscreen"),c=s.interopDefault(l),u=n("./fullscreenWeb"),d=s.interopDefault(u),f=n("./pip"),h=s.interopDefault(f),p=n("./playAndPause"),m=s.interopDefault(p),y=n("./progress"),v=s.interopDefault(y),b=n("./time"),x=s.interopDefault(b),S=n("./volume"),T=s.interopDefault(S),C=n("./setting"),E=s.interopDefault(C),k=n("./screenshot"),A=s.interopDefault(k),R=n("./airplay"),L=s.interopDefault(R),D=n("../utils");class P extends a.default{constructor(j){super(j),this.isHover=!1,this.name="control",this.timer=Date.now();let{constructor:F}=j,{$player:O,$bottom:B}=this.art.template;j.on("mousemove",()=>{D.isMobile||(this.show=!0)}),j.on("click",()=>{D.isMobile?this.toggle():this.show=!0}),j.on("document:mousemove",I=>{this.isHover=(0,D.includeFromEvent)(I,B)}),j.on("video:timeupdate",()=>{!j.setting.show&&!this.isHover&&!j.isInput&&j.playing&&this.show&&Date.now()-this.timer>=F.CONTROL_HIDE_TIME&&(this.show=!1)}),j.on("control",I=>{I?((0,D.removeClass)(O,"art-hide-cursor"),(0,D.addClass)(O,"art-hover"),this.timer=Date.now()):((0,D.addClass)(O,"art-hide-cursor"),(0,D.removeClass)(O,"art-hover"))}),this.init()}init(){let{option:j}=this.art;j.isLive||this.add((0,v.default)({name:"progress",position:"top",index:10})),this.add({name:"thumbnails",position:"top",index:20}),this.add((0,m.default)({name:"playAndPause",position:"left",index:10})),this.add((0,T.default)({name:"volume",position:"left",index:20})),j.isLive||this.add((0,x.default)({name:"time",position:"left",index:30})),j.quality.length&&(0,D.sleep)().then(()=>{this.art.quality=j.quality}),j.screenshot&&!D.isMobile&&this.add((0,A.default)({name:"screenshot",position:"right",index:20})),j.setting&&this.add((0,E.default)({name:"setting",position:"right",index:30})),j.pip&&this.add((0,h.default)({name:"pip",position:"right",index:40})),j.airplay&&window.WebKitPlaybackTargetAvailabilityEvent&&this.add((0,L.default)({name:"airplay",position:"right",index:50})),j.fullscreenWeb&&this.add((0,d.default)({name:"fullscreenWeb",position:"right",index:60})),j.fullscreen&&this.add((0,c.default)({name:"fullscreen",position:"right",index:70}));for(let F=0;F<j.controls.length;F++)this.add(j.controls[F])}add(j){let F=typeof j=="function"?j(this.art):j,{$progress:O,$controlsLeft:B,$controlsRight:I}=this.art.template;switch(F.position){case"top":this.$parent=O;break;case"left":this.$parent=B;break;case"right":this.$parent=I;break;default:(0,D.errorHandle)(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add(F)}check(j){j.$control_value.innerHTML=j.html;for(let F=0;F<j.$control_option.length;F++){let O=j.$control_option[F];O.default=O===j,O.default&&(0,D.inverseClass)(O.$control_item,"art-current")}}selector(j,F,O){let{proxy:B}=this.art.events;(0,D.addClass)(F,"art-control-selector");let I=(0,D.createElement)("div");(0,D.addClass)(I,"art-selector-value"),(0,D.append)(I,j.html),F.innerText="",(0,D.append)(F,I);let $=(0,D.createElement)("div");(0,D.addClass)($,"art-selector-list"),(0,D.append)(F,$);for(let Y=0;Y<j.selector.length;Y++){let q=j.selector[Y],te=(0,D.createElement)("div");(0,D.addClass)(te,"art-selector-item"),q.default&&(0,D.addClass)(te,"art-current"),te.dataset.index=Y,te.dataset.value=q.value,te.innerHTML=q.html,(0,D.append)($,te),(0,D.def)(q,"$control_option",{get:()=>j.selector}),(0,D.def)(q,"$control_item",{get:()=>te}),(0,D.def)(q,"$control_value",{get:()=>I})}let G=B($,"click",async Y=>{let q=Y.composedPath()||[],te=j.selector.find(ae=>ae.$control_item===q.find(le=>ae.$control_item===le));this.check(te),j.onSelect&&(I.innerHTML=await j.onSelect.call(this.art,te,te.$control_item,Y))});O.push(G)}}i.default=P},{"../utils/component":"18nVI","./fullscreen":"c61Lj","./fullscreenWeb":"03jeB","./pip":"u8l8e","./playAndPause":"ebXtb","./progress":"bgoVP","./time":"ikc2j","./volume":"b8NFx","./setting":"03o9l","./screenshot":"4KCF5","./airplay":"4IS2d","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"18nVI":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./dom"),a=n("./error"),l=n("option-validator"),c=s.interopDefault(l),u=n("../scheme");i.default=class{constructor(d){this.id=0,this.art=d,this.cache=new Map,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.update=this.update.bind(this)}get show(){return(0,o.hasClass)(this.art.template.$player,`art-${this.name}-show`)}set show(d){let{$player:f}=this.art.template,h=`art-${this.name}-show`;d?(0,o.addClass)(f,h):(0,o.removeClass)(f,h),this.art.emit(this.name,d)}toggle(){this.show=!this.show}add(d){let f=typeof d=="function"?d(this.art):d;if(f.html=f.html||"",(0,c.default)(f,u.ComponentOption),!this.$parent||!this.name||f.disable)return;let h=f.name||`${this.name}${this.id}`,p=this.cache.get(h);(0,a.errorHandle)(!p,`Can't add an existing [${h}] to the [${this.name}]`),this.id+=1;let m=(0,o.createElement)("div");(0,o.addClass)(m,`art-${this.name}`),(0,o.addClass)(m,`art-${this.name}-${h}`);let y=Array.from(this.$parent.children);m.dataset.index=f.index||this.id;let v=y.find(x=>Number(x.dataset.index)>=Number(m.dataset.index));v?v.insertAdjacentElement("beforebegin",m):(0,o.append)(this.$parent,m),f.html&&(0,o.append)(m,f.html),f.style&&(0,o.setStyles)(m,f.style),f.tooltip&&(0,o.tooltip)(m,f.tooltip);let b=[];if(f.click){let x=this.art.events.proxy(m,"click",S=>{S.preventDefault(),f.click.call(this.art,this,S)});b.push(x)}return f.selector&&["left","right"].includes(f.position)&&this.selector(f,m,b),this[h]=m,this.cache.set(h,{$ref:m,events:b,option:f}),f.mounted&&f.mounted.call(this.art,m),m}remove(d){let f=this.cache.get(d);(0,a.errorHandle)(f,`Can't find [${d}] from the [${this.name}]`),f.option.beforeUnmount&&f.option.beforeUnmount.call(this.art,f.$ref);for(let h=0;h<f.events.length;h++)this.art.events.remove(f.events[h]);this.cache.delete(d),delete this[d],(0,o.remove)(f.$ref)}update(d){let f=this.cache.get(d.name);return f&&(d=Object.assign(f.option,d),this.remove(d.name)),this.add(d)}}},{"./dom":"bSNiV","./error":"hwmZz","option-validator":"bAWi2","../scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],c61Lj:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,tooltip:c.i18n.get("Fullscreen"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c,p=(0,o.append)(u,f.fullscreenOn),m=(0,o.append)(u,f.fullscreenOff);(0,o.setStyle)(m,"display","none"),d(u,"click",()=>{c.fullscreen=!c.fullscreen}),c.on("fullscreen",y=>{y?((0,o.tooltip)(u,h.get("Exit Fullscreen")),(0,o.setStyle)(p,"display","none"),(0,o.setStyle)(m,"display","inline-flex")):((0,o.tooltip)(u,h.get("Fullscreen")),(0,o.setStyle)(p,"display","inline-flex"),(0,o.setStyle)(m,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03jeB":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,tooltip:c.i18n.get("Web Fullscreen"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c,p=(0,o.append)(u,f.fullscreenWebOn),m=(0,o.append)(u,f.fullscreenWebOff);(0,o.setStyle)(m,"display","none"),d(u,"click",()=>{c.fullscreenWeb=!c.fullscreenWeb}),c.on("fullscreenWeb",y=>{y?((0,o.tooltip)(u,h.get("Exit Web Fullscreen")),(0,o.setStyle)(p,"display","none"),(0,o.setStyle)(m,"display","inline-flex")):((0,o.tooltip)(u,h.get("Web Fullscreen")),(0,o.setStyle)(p,"display","inline-flex"),(0,o.setStyle)(m,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],u8l8e:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,tooltip:c.i18n.get("PIP Mode"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c;(0,o.append)(u,f.pip),d(u,"click",()=>{c.pip=!c.pip}),c.on("pip",p=>{(0,o.tooltip)(u,h.get(p?"Exit PIP Mode":"PIP Mode"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ebXtb:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,mounted:u=>{let{proxy:d,icons:f,i18n:h}=c,p=(0,o.append)(u,f.play),m=(0,o.append)(u,f.pause);function y(){(0,o.setStyle)(p,"display","flex"),(0,o.setStyle)(m,"display","none")}function v(){(0,o.setStyle)(p,"display","none"),(0,o.setStyle)(m,"display","flex")}(0,o.tooltip)(p,h.get("Play")),(0,o.tooltip)(m,h.get("Pause")),d(p,"click",()=>{c.play()}),d(m,"click",()=>{c.pause()}),c.playing?v():y(),c.on("video:playing",()=>{v()}),c.on("video:pause",()=>{y()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bgoVP:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"getPosFromEvent",()=>a),s.export(i,"setCurrentTime",()=>l),s.export(i,"default",()=>c);var o=n("../utils");function a(u,d){let{$progress:f}=u.template,{left:h}=(0,o.getRect)(f),p=o.isMobile?d.touches[0].clientX:d.clientX,m=(0,o.clamp)(p-h,0,f.clientWidth),y=m/f.clientWidth*u.duration,v=(0,o.secondToTime)(y),b=(0,o.clamp)(m/f.clientWidth,0,1);return{second:y,time:v,width:m,percentage:b}}function l(u,d){if(u.isRotate){let f=d.touches[0].clientY/u.height,h=f*u.duration;u.emit("setBar","played",f,d),u.seek=h}else{let{second:f,percentage:h}=a(u,d);u.emit("setBar","played",h,d),u.seek=f}}function c(u){return d=>{let{icons:f,option:h,proxy:p}=d;return{...u,html:'<div class="art-control-progress-inner"><div class="art-progress-hover"></div><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:m=>{let y=null,v=!1,b=(0,o.query)(".art-progress-hover",m),x=(0,o.query)(".art-progress-loaded",m),S=(0,o.query)(".art-progress-played",m),T=(0,o.query)(".art-progress-highlight",m),C=(0,o.query)(".art-progress-indicator",m),E=(0,o.query)(".art-progress-tip",m);function k(A,R){let{width:L,time:D}=R||a(d,A);E.innerText=D;let P=E.clientWidth;L<=P/2?(0,o.setStyle)(E,"left",0):L>m.clientWidth-P/2?(0,o.setStyle)(E,"left",`${m.clientWidth-P}px`):(0,o.setStyle)(E,"left",`${L-P/2}px`)}f.indicator?(0,o.append)(C,f.indicator):(0,o.setStyle)(C,"backgroundColor","var(--art-theme)"),d.on("setBar",function(A,R,L){let D=A==="played"&&L&&o.isMobile;A==="loaded"&&(0,o.setStyle)(x,"width",`${100*R}%`),A==="hover"&&(0,o.setStyle)(b,"width",`${100*R}%`),A==="played"&&((0,o.setStyle)(S,"width",`${100*R}%`),(0,o.setStyle)(C,"left",`${100*R}%`)),D&&((0,o.setStyle)(E,"display","flex"),k(L,{width:m.clientWidth*R,time:(0,o.secondToTime)(R*d.duration)}),clearTimeout(y),y=setTimeout(()=>{(0,o.setStyle)(E,"display","none")},500))}),d.on("video:loadedmetadata",function(){T.innerText="";for(let A=0;A<h.highlight.length;A++){let R=h.highlight[A],L=(0,o.clamp)(R.time,0,d.duration)/d.duration*100,D=`<span data-text="${R.text}" data-time="${R.time}" style="left: ${L}%"></span>`;(0,o.append)(T,D)}}),d.on("video:progress",()=>{d.emit("setBar","loaded",d.loaded)}),d.constructor.USE_RAF?d.on("raf",()=>{d.emit("setBar","played",d.played)}):d.on("video:timeupdate",()=>{d.emit("setBar","played",d.played)}),d.on("video:ended",()=>{d.emit("setBar","played",1)}),d.emit("setBar","loaded",d.loaded||0),o.isMobile||(p(m,"click",A=>{A.target!==C&&l(d,A)}),p(m,"mousemove",A=>{let{percentage:R}=a(d,A);d.emit("setBar","hover",R,A),(0,o.setStyle)(E,"display","flex"),(0,o.includeFromEvent)(A,T)?function(L){let{width:D}=a(d,L),{text:P}=L.target.dataset;E.innerText=P;let M=E.clientWidth;D<=M/2?(0,o.setStyle)(E,"left",0):D>m.clientWidth-M/2?(0,o.setStyle)(E,"left",`${m.clientWidth-M}px`):(0,o.setStyle)(E,"left",`${D-M/2}px`)}(A):k(A)}),p(m,"mouseleave",A=>{(0,o.setStyle)(E,"display","none"),d.emit("setBar","hover",0,A)}),p(m,"mousedown",A=>{v=A.button===0}),d.on("document:mousemove",A=>{if(v){let{second:R,percentage:L}=a(d,A);d.emit("setBar","played",L,A),d.seek=R}}),d.on("document:mouseup",()=>{v&&(v=!1)}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ikc2j:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,style:o.isMobile?{fontSize:"12px",padding:"0 5px"}:{cursor:"auto",padding:"0 10px"},mounted:u=>{function d(){let h=`${(0,o.secondToTime)(c.currentTime)} / ${(0,o.secondToTime)(c.duration)}`;h!==u.innerText&&(u.innerText=h)}d();let f=["video:loadedmetadata","video:timeupdate","video:progress"];for(let h=0;h<f.length;h++)c.on(f[h],d)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],b8NFx:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,mounted:u=>{let{proxy:d,icons:f}=c,h=(0,o.append)(u,f.volume),p=(0,o.append)(u,f.volumeClose),m=(0,o.append)(u,'<div class="art-volume-panel"></div>'),y=(0,o.append)(m,'<div class="art-volume-inner"></div>'),v=(0,o.append)(y,'<div class="art-volume-val"></div>'),b=(0,o.append)(y,'<div class="art-volume-slider"></div>'),x=(0,o.append)(b,'<div class="art-volume-handle"></div>'),S=(0,o.append)(x,'<div class="art-volume-loaded"></div>'),T=(0,o.append)(b,'<div class="art-volume-indicator"></div>');function C(k){let{top:A,height:R}=(0,o.getRect)(b);return 1-(k.clientY-A)/R}function E(){if(c.muted||c.volume===0)(0,o.setStyle)(h,"display","none"),(0,o.setStyle)(p,"display","flex"),(0,o.setStyle)(T,"top","100%"),(0,o.setStyle)(S,"top","100%"),v.innerText=0;else{let k=100*c.volume;(0,o.setStyle)(h,"display","flex"),(0,o.setStyle)(p,"display","none"),(0,o.setStyle)(T,"top",`${100-k}%`),(0,o.setStyle)(S,"top",`${100-k}%`),v.innerText=Math.floor(k)}}if(E(),c.on("video:volumechange",E),d(h,"click",()=>{c.muted=!0}),d(p,"click",()=>{c.muted=!1}),o.isMobile)(0,o.setStyle)(m,"display","none");else{let k=!1;d(b,"mousedown",A=>{k=A.button===0,c.volume=C(A)}),c.on("document:mousemove",A=>{k&&(c.muted=!1,c.volume=C(A))}),c.on("document:mouseup",()=>{k&&(k=!1)})}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03o9l":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,tooltip:c.i18n.get("Show Setting"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c;(0,o.append)(u,f.setting),d(u,"click",()=>{c.setting.toggle(),c.setting.resize()}),c.on("setting",p=>{(0,o.tooltip)(u,h.get(p?"Hide Setting":"Show Setting"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4KCF5":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,tooltip:c.i18n.get("Screenshot"),mounted:u=>{let{proxy:d,icons:f}=c;(0,o.append)(u,f.screenshot),d(u,"click",()=>{c.screenshot()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4IS2d":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>({...l,tooltip:c.i18n.get("AirPlay"),mounted:u=>{let{proxy:d,icons:f}=c;(0,o.append)(u,f.airplay),d(u,"click",()=>c.airplay())}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2KYsr":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("../utils"),a=n("../utils/component"),l=s.interopDefault(a),c=n("./playbackRate"),u=s.interopDefault(c),d=n("./aspectRatio"),f=s.interopDefault(d),h=n("./flip"),p=s.interopDefault(h),m=n("./info"),y=s.interopDefault(m),v=n("./version"),b=s.interopDefault(v),x=n("./close"),S=s.interopDefault(x);class T extends l.default{constructor(E){super(E),this.name="contextmenu",this.$parent=E.template.$contextmenu,o.isMobile||this.init()}init(){let{option:E,proxy:k,template:{$player:A,$contextmenu:R}}=this.art;E.playbackRate&&this.add((0,u.default)({name:"playbackRate",index:10})),E.aspectRatio&&this.add((0,f.default)({name:"aspectRatio",index:20})),E.flip&&this.add((0,p.default)({name:"flip",index:30})),this.add((0,y.default)({name:"info",index:40})),this.add((0,b.default)({name:"version",index:50})),this.add((0,S.default)({name:"close",index:60}));for(let L=0;L<E.contextmenu.length;L++)this.add(E.contextmenu[L]);k(A,"contextmenu",L=>{if(!this.art.constructor.CONTEXTMENU)return;L.preventDefault(),this.show=!0;let D=L.clientX,P=L.clientY,{height:M,width:j,left:F,top:O}=(0,o.getRect)(A),{height:B,width:I}=(0,o.getRect)(R),$=D-F,G=P-O;D+I>F+j&&($=j-I),P+B>O+M&&(G=M-B),(0,o.setStyles)(R,{top:`${G}px`,left:`${$}px`})}),k(A,"click",L=>{(0,o.includeFromEvent)(L,R)||(this.show=!1)}),this.art.on("blur",()=>{this.show=!1})}}i.default=T},{"../utils":"71aH7","../utils/component":"18nVI","./playbackRate":"69eLi","./aspectRatio":"lUefg","./flip":"kysiM","./info":"gqIgJ","./version":"kRU7C","./close":"jQ8Pm","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"69eLi":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>{let{i18n:u,constructor:{PLAYBACK_RATE:d}}=c,f=d.map(h=>`<span data-value="${h}">${h===1?u.get("Normal"):h.toFixed(1)}</span>`).join("");return{...l,html:`${u.get("Play Speed")}: ${f}`,click:(h,p)=>{let{value:m}=p.target.dataset;m&&(c.playbackRate=Number(m),h.show=!1)},mounted:h=>{let p=(0,o.query)('[data-value="1"]',h);p&&(0,o.inverseClass)(p,"art-current"),c.on("video:ratechange",()=>{let m=(0,o.queryAll)("span",h).find(y=>Number(y.dataset.value)===c.playbackRate);m&&(0,o.inverseClass)(m,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lUefg:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>{let{i18n:u,constructor:{ASPECT_RATIO:d}}=c,f=d.map(h=>`<span data-value="${h}">${h==="default"?u.get("Default"):h}</span>`).join("");return{...l,html:`${u.get("Aspect Ratio")}: ${f}`,click:(h,p)=>{let{value:m}=p.target.dataset;m&&(c.aspectRatio=m,h.show=!1)},mounted:h=>{let p=(0,o.query)('[data-value="default"]',h);p&&(0,o.inverseClass)(p,"art-current"),c.on("aspectRatio",m=>{let y=(0,o.queryAll)("span",h).find(v=>v.dataset.value===m);y&&(0,o.inverseClass)(y,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kysiM:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return c=>{let{i18n:u,constructor:{FLIP:d}}=c,f=d.map(h=>`<span data-value="${h}">${u.get((0,o.capitalize)(h))}</span>`).join("");return{...l,html:`${u.get("Video Flip")}: ${f}`,click:(h,p)=>{let{value:m}=p.target.dataset;m&&(c.flip=m.toLowerCase(),h.show=!1)},mounted:h=>{let p=(0,o.query)('[data-value="normal"]',h);p&&(0,o.inverseClass)(p,"art-current"),c.on("flip",m=>{let y=(0,o.queryAll)("span",h).find(v=>v.dataset.value===m);y&&(0,o.inverseClass)(y,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gqIgJ:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a){return l=>({...a,html:l.i18n.get("Video Info"),click:c=>{l.info.show=!0,c.show=!1}})}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kRU7C:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a){return{...a,html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 5.2.1</a>'}}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jQ8Pm:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a){return l=>({...a,html:l.i18n.get("Close"),click:c=>{c.show=!1}})}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"02ajl":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./utils"),a=n("./utils/component"),l=s.interopDefault(a);class c extends l.default{constructor(d){super(d),this.name="info",o.isMobile||this.init()}init(){let{proxy:d,constructor:f,template:{$infoPanel:h,$infoClose:p,$video:m}}=this.art;d(p,"click",()=>{this.show=!1});let y=null,v=(0,o.queryAll)("[data-video]",h)||[];this.art.on("destroy",()=>clearTimeout(y)),function b(){for(let x=0;x<v.length;x++){let S=v[x],T=m[S.dataset.video],C=typeof T=="number"?T.toFixed(2):T;S.innerText!==C&&(S.innerText=C)}y=setTimeout(b,f.INFO_LOOP_TIME)}()}}i.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eSWto:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./utils"),a=n("./utils/component"),l=s.interopDefault(a),c=n("option-validator"),u=s.interopDefault(c),d=n("./scheme"),f=s.interopDefault(d);class h extends l.default{constructor(m){super(m),this.name="subtitle",this.option=null,this.destroyEvent=()=>null,this.init(m.option.subtitle);let y=!1;m.on("video:timeupdate",()=>{if(!this.url)return;let v=this.art.template.$video.webkitDisplayingFullscreen;typeof v=="boolean"&&v!==y&&(y=v,this.createTrack(v?"subtitles":"metadata",this.url))})}get url(){return this.art.template.$track.src}set url(m){this.switch(m)}get textTrack(){var m,y;return(y=(m=this.art.template.$video)==null?void 0:m.textTracks)==null?void 0:y[0]}get activeCues(){return this.textTrack?Array.from(this.textTrack.activeCues):[]}get cues(){return this.textTrack?Array.from(this.textTrack.cues):[]}style(m,y){let{$subtitle:v}=this.art.template;return typeof m=="object"?(0,o.setStyles)(v,m):(0,o.setStyle)(v,m,y)}update(){let{option:{subtitle:m},template:{$subtitle:y}}=this.art;y.innerHTML="",this.activeCues.length&&(this.art.emit("subtitleBeforeUpdate",this.activeCues),y.innerHTML=this.activeCues.map((v,b)=>v.text.split(/\r?\n/).filter(x=>x.trim()).map(x=>`<div class="art-subtitle-line" data-group="${b}">${m.escape?(0,o.escape)(x):x}</div>`).join("")).join(""),this.art.emit("subtitleAfterUpdate",this.activeCues))}async switch(m,y={}){let{i18n:v,notice:b,option:x}=this.art,S={...x.subtitle,...y,url:m},T=await this.init(S);return y.name&&(b.show=`${v.get("Switch Subtitle")}: ${y.name}`),T}createTrack(m,y){let{template:v,proxy:b,option:x}=this.art,{$video:S,$track:T}=v,C=(0,o.createElement)("track");C.default=!0,C.kind=m,C.src=y,C.label=x.subtitle.name||"Artplayer",C.track.mode="hidden",C.onload=()=>{this.art.emit("subtitleLoad",this.cues,this.option)},this.art.events.remove(this.destroyEvent),T.onload=null,(0,o.remove)(T),(0,o.append)(S,C),v.$track=C,this.destroyEvent=b(this.textTrack,"cuechange",()=>this.update())}async init(m){let{notice:y,template:{$subtitle:v}}=this.art;return this.textTrack?((0,u.default)(m,f.default.subtitle),m.url?(this.option=m,this.style(m.style),fetch(m.url).then(b=>b.arrayBuffer()).then(b=>{let x=new TextDecoder(m.encoding).decode(b);switch(m.type||(0,o.getExt)(m.url)){case"srt":{let S=(0,o.srtToVtt)(x),T=m.onVttLoad(S);return(0,o.vttToBlob)(T)}case"ass":{let S=(0,o.assToVtt)(x),T=m.onVttLoad(S);return(0,o.vttToBlob)(T)}case"vtt":{let S=m.onVttLoad(x);return(0,o.vttToBlob)(S)}default:return m.url}}).then(b=>(v.innerHTML="",this.url===b||(URL.revokeObjectURL(this.url),this.createTrack("metadata",b)),b)).catch(b=>{throw v.innerHTML="",y.show=b,b})):void 0):null}}i.default=h},{"./utils":"71aH7","./utils/component":"18nVI","option-validator":"bAWi2","./scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jo4S1:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./clickInit"),a=s.interopDefault(o),l=n("./hoverInit"),c=s.interopDefault(l),u=n("./moveInit"),d=s.interopDefault(u),f=n("./resizeInit"),h=s.interopDefault(f),p=n("./gestureInit"),m=s.interopDefault(p),y=n("./viewInit"),v=s.interopDefault(y),b=n("./documentInit"),x=s.interopDefault(b),S=n("./updateInit"),T=s.interopDefault(S),C=n("./restoreInit"),E=s.interopDefault(C);i.default=class{constructor(k){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),(0,a.default)(k,this),(0,c.default)(k,this),(0,d.default)(k,this),(0,h.default)(k,this),(0,m.default)(k,this),(0,v.default)(k,this),(0,x.default)(k,this),(0,T.default)(k,this),(0,E.default)(k,this)}proxy(k,A,R,L={}){if(Array.isArray(A))return A.map(P=>this.proxy(k,P,R,L));k.addEventListener(A,R,L);let D=()=>k.removeEventListener(A,R,L);return this.destroyEvents.push(D),D}hover(k,A,R){A&&this.proxy(k,"mouseenter",A),R&&this.proxy(k,"mouseleave",R)}remove(k){let A=this.destroyEvents.indexOf(k);A>-1&&(k(),this.destroyEvents.splice(A,1))}destroy(){for(let k=0;k<this.destroyEvents.length;k++)this.destroyEvents[k]()}}},{"./clickInit":"6UrCm","./hoverInit":"4jWHi","./moveInit":"eqaUm","./resizeInit":"eDXPO","./gestureInit":"95GtS","./viewInit":"InUBx","./documentInit":"hoLfM","./updateInit":"cl8m3","./restoreInit":"bK8As","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6UrCm":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l,c){let{constructor:u,template:{$player:d,$video:f}}=l;c.proxy(document,["click","contextmenu"],p=>{(0,o.includeFromEvent)(p,d)?(l.isInput=p.target.tagName==="INPUT",l.isFocus=!0,l.emit("focus",p)):(l.isInput=!1,l.isFocus=!1,l.emit("blur",p))});let h=[];c.proxy(f,"click",p=>{let m=Date.now();h.push(m);let{MOBILE_CLICK_PLAY:y,DBCLICK_TIME:v,MOBILE_DBCLICK_PLAY:b,DBCLICK_FULLSCREEN:x}=u,S=h.filter(T=>m-T<=v);switch(S.length){case 1:l.emit("click",p),o.isMobile?!l.isLock&&y&&l.toggle():l.toggle(),h=S;break;case 2:l.emit("dblclick",p),o.isMobile?!l.isLock&&b&&l.toggle():x&&(l.fullscreen=!l.fullscreen),h=[];break;default:h=[]}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4jWHi":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l,c){let{$player:u}=l.template;c.hover(u,d=>{(0,o.addClass)(u,"art-hover"),l.emit("hover",!0,d)},d=>{(0,o.removeClass)(u,"art-hover"),l.emit("hover",!1,d)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eqaUm:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a,l){let{$player:c}=a.template;l.proxy(c,"mousemove",u=>{a.emit("mousemove",u)})}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eDXPO:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l,c){let{option:u,constructor:d}=l;l.on("resize",()=>{let{aspectRatio:h,notice:p}=l;l.state==="standard"&&u.autoSize&&l.autoSize(),l.aspectRatio=h,p.show=""});let f=(0,o.debounce)(()=>l.emit("resize"),d.RESIZE_TIME);c.proxy(window,["orientationchange","resize"],()=>f()),screen&&screen.orientation&&screen.orientation.onchange&&c.proxy(screen.orientation,"change",()=>f())}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"95GtS":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>l);var o=n("../utils"),a=n("../control/progress");function l(c,u){if(o.isMobile&&!c.option.isLive){let{$video:d,$progress:f}=c.template,h=null,p=!1,m=0,y=0,v=0,b=S=>{if(S.touches.length===1&&!c.isLock){h===f&&(0,a.setCurrentTime)(c,S),p=!0;let{pageX:T,pageY:C}=S.touches[0];m=T,y=C,v=c.currentTime}},x=S=>{if(S.touches.length===1&&p&&c.duration){let{pageX:T,pageY:C}=S.touches[0],E=function(R,L,D,P){var M=L-P,j=D-R,F=0;if(2>Math.abs(j)&&2>Math.abs(M))return F;var O=180*Math.atan2(M,j)/Math.PI;return O>=-45&&O<45?F=4:O>=45&&O<135?F=1:O>=-135&&O<-45?F=2:(O>=135&&O<=180||O>=-180&&O<-135)&&(F=3),F}(m,y,T,C),k=[3,4].includes(E),A=[1,2].includes(E);if(k&&!c.isRotate||A&&c.isRotate){let R=(0,o.clamp)((T-m)/c.width,-1,1),L=(0,o.clamp)((C-y)/c.height,-1,1),D=c.isRotate?L:R,P=h===d?c.constructor.TOUCH_MOVE_RATIO:1,M=(0,o.clamp)(v+c.duration*D*P,0,c.duration);c.seek=M,c.emit("setBar","played",(0,o.clamp)(M/c.duration,0,1),S),c.notice.show=`${(0,o.secondToTime)(M)} / ${(0,o.secondToTime)(c.duration)}`}}};u.proxy(f,"touchstart",S=>{h=f,b(S)}),u.proxy(d,"touchstart",S=>{h=d,b(S)}),u.proxy(d,"touchmove",x),u.proxy(f,"touchmove",x),u.proxy(document,"touchend",()=>{p&&(m=0,y=0,v=0,p=!1,h=null)})}}},{"../utils":"71aH7","../control/progress":"bgoVP","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],InUBx:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l,c){let{option:u,constructor:d,template:{$container:f}}=l,h=(0,o.throttle)(()=>{l.emit("view",(0,o.isInViewport)(f,d.SCROLL_GAP))},d.SCROLL_TIME);c.proxy(window,"scroll",()=>h()),l.on("view",p=>{u.autoMini&&(l.mini=!p)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hoLfM:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a,l){l.proxy(document,"mousemove",c=>{a.emit("document:mousemove",c)}),l.proxy(document,"mouseup",c=>{a.emit("document:mouseup",c)})}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cl8m3:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a){if(a.constructor.USE_RAF){let l=null;(function c(){a.playing&&a.emit("raf"),a.isDestroy||(l=requestAnimationFrame(c))})(),a.on("destroy",()=>{cancelAnimationFrame(l)})}}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bK8As:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a,l){}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6NoFy":[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);var s=n("./utils");i.default=class{constructor(o){this.art=o,this.keys={},o.option.hotkey&&!s.isMobile&&this.init()}init(){let{proxy:o,constructor:a}=this.art;this.add("Escape",()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)}),this.add("Space",()=>{this.art.toggle()}),this.add("ArrowLeft",()=>{this.art.backward=a.SEEK_STEP}),this.add("ArrowUp",()=>{this.art.volume+=a.VOLUME_STEP}),this.add("ArrowRight",()=>{this.art.forward=a.SEEK_STEP}),this.add("ArrowDown",()=>{this.art.volume-=a.VOLUME_STEP}),o(document,"keydown",l=>{if(this.art.isFocus){let c=document.activeElement.tagName.toUpperCase(),u=document.activeElement.getAttribute("contenteditable");if(c!=="INPUT"&&c!=="TEXTAREA"&&u!==""&&u!=="true"&&!l.altKey&&!l.ctrlKey&&!l.metaKey&&!l.shiftKey){let d=this.keys[l.code];if(d){l.preventDefault();for(let f=0;f<d.length;f++)d[f].call(this.art,l);this.art.emit("hotkey",l)}}}this.art.emit("keydown",l)})}add(o,a){return this.keys[o]?this.keys[o].push(a):this.keys[o]=[a],this}remove(o,a){if(this.keys[o]){let l=this.keys[o].indexOf(a);l!==-1&&this.keys[o].splice(l,1)}return this}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6G6hZ":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./utils/component"),a=s.interopDefault(o);class l extends a.default{constructor(u){super(u);let{option:d,template:{$layer:f}}=u;this.name="layer",this.$parent=f;for(let h=0;h<d.layers.length;h++)this.add(d.layers[h])}}i.default=l},{"./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3dsEe":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./utils"),a=n("./utils/component"),l=s.interopDefault(a);class c extends l.default{constructor(d){super(d),this.name="loading",(0,o.append)(d.template.$loading,d.icons.loading)}}i.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],dWGTw:[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);var s=n("./utils");i.default=class{constructor(o){this.art=o,this.timer=null}set show(o){let{constructor:a,template:{$player:l,$noticeInner:c}}=this.art;o?(c.innerText=o instanceof Error?o.message.trim():o,(0,s.addClass)(l,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout(()=>{c.innerText="",(0,s.removeClass)(l,"art-notice-show")},a.NOTICE_TIME)):(0,s.removeClass)(l,"art-notice-show")}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5POkG":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./utils"),a=n("./utils/component"),l=s.interopDefault(a);class c extends l.default{constructor(d){super(d),this.name="mask";let{template:f,icons:h,events:p}=d,m=(0,o.append)(f.$state,h.state),y=(0,o.append)(f.$state,h.error);(0,o.setStyle)(y,"display","none"),d.on("destroy",()=>{(0,o.setStyle)(m,"display","none"),(0,o.setStyle)(y,"display",null)}),p.proxy(f.$state,"click",()=>d.play())}}i.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6OeNg":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("../utils"),a=n("bundle-text:./loading.svg"),l=s.interopDefault(a),c=n("bundle-text:./state.svg"),u=s.interopDefault(c),d=n("bundle-text:./check.svg"),f=s.interopDefault(d),h=n("bundle-text:./play.svg"),p=s.interopDefault(h),m=n("bundle-text:./pause.svg"),y=s.interopDefault(m),v=n("bundle-text:./volume.svg"),b=s.interopDefault(v),x=n("bundle-text:./volume-close.svg"),S=s.interopDefault(x),T=n("bundle-text:./screenshot.svg"),C=s.interopDefault(T),E=n("bundle-text:./setting.svg"),k=s.interopDefault(E),A=n("bundle-text:./arrow-left.svg"),R=s.interopDefault(A),L=n("bundle-text:./arrow-right.svg"),D=s.interopDefault(L),P=n("bundle-text:./playback-rate.svg"),M=s.interopDefault(P),j=n("bundle-text:./aspect-ratio.svg"),F=s.interopDefault(j),O=n("bundle-text:./config.svg"),B=s.interopDefault(O),I=n("bundle-text:./pip.svg"),$=s.interopDefault(I),G=n("bundle-text:./lock.svg"),Y=s.interopDefault(G),q=n("bundle-text:./unlock.svg"),te=s.interopDefault(q),ae=n("bundle-text:./fullscreen-off.svg"),le=s.interopDefault(ae),Te=n("bundle-text:./fullscreen-on.svg"),Fe=s.interopDefault(Te),Qe=n("bundle-text:./fullscreen-web-off.svg"),it=s.interopDefault(Qe),Me=n("bundle-text:./fullscreen-web-on.svg"),De=s.interopDefault(Me),bt=n("bundle-text:./switch-on.svg"),yn=s.interopDefault(bt),Ee=n("bundle-text:./switch-off.svg"),Ve=s.interopDefault(Ee),fe=n("bundle-text:./flip.svg"),Zt=s.interopDefault(fe),jt=n("bundle-text:./error.svg"),Nt=s.interopDefault(jt),Nn=n("bundle-text:./close.svg"),kn=s.interopDefault(Nn),pt=n("bundle-text:./airplay.svg"),An=s.interopDefault(pt);i.default=class{constructor(ni){let Fr={loading:l.default,state:u.default,play:p.default,pause:y.default,check:f.default,volume:b.default,volumeClose:S.default,screenshot:C.default,setting:k.default,pip:$.default,arrowLeft:R.default,arrowRight:D.default,playbackRate:M.default,aspectRatio:F.default,config:B.default,lock:Y.default,flip:Zt.default,unlock:te.default,fullscreenOff:le.default,fullscreenOn:Fe.default,fullscreenWebOff:it.default,fullscreenWebOn:De.default,switchOn:yn.default,switchOff:Ve.default,error:Nt.default,close:kn.default,airplay:An.default,...ni.option.icons};for(let vn in Fr)(0,o.def)(this,vn,{get:()=>(0,o.getIcon)(vn,Fr[vn])})}}},{"../utils":"71aH7","bundle-text:./loading.svg":"7tDub","bundle-text:./state.svg":"1ElZc","bundle-text:./check.svg":"lmgoP","bundle-text:./play.svg":"lVWoQ","bundle-text:./pause.svg":"5Mnax","bundle-text:./volume.svg":"w3eIa","bundle-text:./volume-close.svg":"rHjo1","bundle-text:./screenshot.svg":"2KcqM","bundle-text:./setting.svg":"8rQMV","bundle-text:./arrow-left.svg":"kqGBE","bundle-text:./arrow-right.svg":"aFjpC","bundle-text:./playback-rate.svg":"lx7ZM","bundle-text:./aspect-ratio.svg":"2sEjf","bundle-text:./config.svg":"fQTgE","bundle-text:./pip.svg":"2CaxO","bundle-text:./lock.svg":"aCGnW","bundle-text:./unlock.svg":"bTrAV","bundle-text:./fullscreen-off.svg":"bA3p0","bundle-text:./fullscreen-on.svg":"fTuY8","bundle-text:./fullscreen-web-off.svg":"tvKf4","bundle-text:./fullscreen-web-on.svg":"1F1oB","bundle-text:./switch-on.svg":"7qNHs","bundle-text:./switch-off.svg":"28aV8","bundle-text:./flip.svg":"1uXI6","bundle-text:./error.svg":"9f4dh","bundle-text:./close.svg":"4nTtS","bundle-text:./airplay.svg":"cDPXC","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7tDub":[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default"><path fill="none" class="bk" d="M0 0h100v100H0z"/><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(30 105.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(60 75.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(90 65 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(120 58.66 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(150 54.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(180 50 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-150 45.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-120 41.34 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-90 35 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-60 24.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-30 -5.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect></svg>'},{}],"1ElZc":[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24"><path fill="#fff" d="M9.5 9.325v5.35q0 .575.525.875t1.025-.05l4.15-2.65q.475-.3.475-.85t-.475-.85L11.05 8.5q-.5-.35-1.025-.05t-.525.875ZM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Z"/></svg>'},{}],lmgoP:[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"/></svg>'},{}],lVWoQ:[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M17.982 9.275 8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"/></svg>'},{}],"5Mnax":[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zm8 0a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"/></svg>'},{}],w3eIa:[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M10.188 4.65 6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zm4.258-.872a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"/><path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"/></svg>'},{}],rHjo1:[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"/><path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zm5.195 13.195-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"/></svg>'},{}],"2KcqM":[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 50 50"><path d="M19.402 6a5 5 0 0 0-4.902 4.012L14.098 12H9a5 5 0 0 0-5 5v21a5 5 0 0 0 5 5h32a5 5 0 0 0 5-5V17a5 5 0 0 0-5-5h-5.098l-.402-1.988A5 5 0 0 0 30.598 6ZM25 17c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10Zm0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8Z"/></svg>'},{}],"8rQMV":[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><circle cx="11" cy="11" r="2"/><path d="M19.164 8.861 17.6 8.6a6.978 6.978 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1.001 1.001 0 0 0-1.272.23l-1.008 1.225a7.04 7.04 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A6.997 6.997 0 0 0 4.4 8.6l-1.564.261A.999.999 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.089 7.089 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a.999.999 0 0 0 .835-.986V9.847a.999.999 0 0 0-.836-.986zM11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>'},{}],kqGBE:[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m19.41 20.09-4.58-4.59 4.58-4.59L18 9.5l-6 6 6 6z" fill="#fff"/></svg>'},{}],aFjpC:[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m12.59 20.34 4.58-4.59-4.58-4.59L14 9.75l6 6-6 6z" fill="#fff"/></svg>'},{}],lx7ZM:[function(n,r,i){r.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M10 8v8l6-4-6-4zM6.3 5l-.6-.8C7.2 3 9 2.2 11 2l.1 1c-1.8.2-3.4.9-4.8 2zM5 6.3l-.8-.6C3 7.2 2.2 9 2 11l1 .1c.2-1.8.9-3.4 2-4.8zm0 11.4c-1.1-1.4-1.8-3.1-2-4.8L2 13c.2 2 1 3.8 2.2 5.4l.8-.7zm6.1 3.3c-1.8-.2-3.4-.9-4.8-2l-.6.8C7.2 21 9 21.8 11 22l.1-1zM22 12c0-5.2-3.9-9.4-9-10l-.1 1c4.6.5 8.1 4.3 8.1 9s-3.5 8.5-8.1 9l.1 1c5.2-.5 9-4.8 9-10z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2sEjf":[function(n,r,i){r.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 88 88" style="width:100%;height:100%;transform:translate(0,0)"><defs><clipPath id="a"><path d="M0 0h88v88H0z"/></clipPath></defs><g style="display:block" clip-path="url('#a')"><path fill="#FFF" d="m12.438-12.702-2.82 2.82c-.79.79-.79 2.05 0 2.83l7.07 7.07-7.07 7.07c-.79.79-.79 2.05 0 2.83l2.82 2.83c.79.78 2.05.78 2.83 0l11.32-11.31c.78-.78.78-2.05 0-2.83l-11.32-11.31c-.78-.79-2.04-.79-2.83 0zm-24.88 0c-.74-.74-1.92-.78-2.7-.12l-.13.12-11.31 11.31a2 2 0 0 0-.12 2.7l.12.13 11.31 11.31a2 2 0 0 0 2.7.12l.13-.12 2.83-2.83c.74-.74.78-1.91.11-2.7l-.11-.13-7.07-7.07 7.07-7.07c.74-.74.78-1.91.11-2.7l-.11-.13-2.83-2.82zM28-28c4.42 0 8 3.58 8 8v40c0 4.42-3.58 8-8 8h-56c-4.42 0-8-3.58-8-8v-40c0-4.42 3.58-8 8-8h56z" style="--darkreader-inline-fill:#a8a6a4" transform="translate(44 44)"/></g></svg>`},{}],fQTgE:[function(n,r,i){r.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M15 17h6v1h-6v-1zm-4 0H3v1h8v2h1v-5h-1v2zm3-9h1V3h-1v2H3v1h11v2zm4-3v1h3V5h-3zM6 14h1V9H6v2H3v1h3v2zm4-2h11v-1H10v1z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2CaxO":[function(n,r,i){r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="32" width="32"><path d="M25 17h-8v6h8v-6Zm4 8V10.98C29 9.88 28.1 9 27 9H9c-1.1 0-2 .88-2 1.98V25c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2Zm-2 .02H9V10.97h18v14.05Z"/></svg>'},{}],aCGnW:[function(n,r,i){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M298.667 426.667v-85.334a213.333 213.333 0 1 1 426.666 0v85.334H768A85.333 85.333 0 0 1 853.333 512v256A85.333 85.333 0 0 1 768 853.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667zM512 213.333a128 128 0 0 0-128 128v85.334h256v-85.334a128 128 0 0 0-128-128z" fill="#fff"/></svg>'},{}],bTrAV:[function(n,r,i){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="m666.752 194.517-49.365 74.112A128 128 0 0 0 384 341.333l.043 85.334h384A85.333 85.333 0 0 1 853.376 512v256a85.333 85.333 0 0 1-85.333 85.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667v-85.334a213.333 213.333 0 0 1 368.085-146.816z" fill="#fff"/></svg>'},{}],bA3p0:[function(n,r,i){r.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M768 298.667h170.667V384h-256V128H768v170.667zM341.333 384h-256v-85.333H256V128h85.333v256zM768 725.333V896h-85.333V640h256v85.333H768zM341.333 640v256H256V725.333H85.333V640h256z"/></svg>'},{}],fTuY8:[function(n,r,i){r.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M625.778 256H768v142.222h113.778v-256h-256V256zM256 398.222V256h142.222V142.222h-256v256H256zm512 227.556V768H625.778v113.778h256v-256H768zM398.222 768H256V625.778H142.222v256h256V768z"/></svg>'},{}],tvKf4:[function(n,r,i){r.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zM896 512a64 64 0 0 1 7.488 127.552L896 640H768v128a64 64 0 0 1-56.512 63.552L704 832a64 64 0 0 1-63.552-56.512L640 768V582.592c0-34.496 25.024-66.112 61.632-70.208l8-.384H896zm-640 0a64 64 0 0 1-7.488-127.552L256 384h128V256a64 64 0 0 1 56.512-63.552L448 192a64 64 0 0 1 63.552 56.512L512 256v185.408c0 34.432-25.024 66.112-61.632 70.144l-8 .448H256z"/></svg>'},{}],"1F1oB":[function(n,r,i){r.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zm-576 64a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144l8-.448H448zm256 640a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 .384H704z"/></svg>'},{}],"7qNHs":[function(n,r,i){r.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1664 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#648FFC" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024zm0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z"/></svg>'},{}],"28aV8":[function(n,r,i){r.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1740 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M511.898 1024h670.515c282.419-.41 511.18-229.478 511.18-511.898 0-282.419-228.761-511.488-511.18-511.897H511.898C229.478.615.717 229.683.717 512.102c0 282.42 228.761 511.488 511.18 511.898zm-.564-975.36A464.589 464.589 0 1 1 48.026 513.024 463.872 463.872 0 0 1 511.334 48.435v.205z"/></svg>'},{}],"1uXI6":[function(n,r,i){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M554.667 810.667V896h-85.334v-85.333h85.334zm-384-632.662a42.667 42.667 0 0 1 34.986 18.219l203.904 291.328a42.667 42.667 0 0 1 0 48.896L205.611 827.776A42.667 42.667 0 0 1 128 803.328V220.672a42.667 42.667 0 0 1 42.667-42.667zm682.666 0a42.667 42.667 0 0 1 42.368 37.718l.299 4.949v582.656a42.667 42.667 0 0 1-74.24 28.63l-3.413-4.182-203.904-291.328a42.667 42.667 0 0 1-3.03-43.861l3.03-5.035 203.946-291.328a42.667 42.667 0 0 1 34.944-18.219zM554.667 640v85.333h-85.334V640h85.334zm-358.4-320.896V716.8L335.957 512 196.31 319.104zm358.4 150.23v85.333h-85.334v-85.334h85.334zm0-170.667V384h-85.334v-85.333h85.334zm0-170.667v85.333h-85.334V128h85.334z" fill="#fff"/></svg>'},{}],"9f4dh":[function(n,r,i){r.exports='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="50" height="50"><path d="M593.818 168.55 949.82 763.76c26.153 43.746 10.732 99.738-34.447 125.052-14.397 8.069-30.72 12.308-47.37 12.308H155.976c-52.224 0-94.536-40.96-94.536-91.505 0-16.097 4.383-31.928 12.718-45.875l356.004-595.19c26.173-43.724 84.009-58.654 129.208-33.341a93.082 93.082 0 0 1 34.448 33.341zM512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88zm0-512a72.315 72.315 0 0 0-71.762 81.306l25.723 205.721a46.408 46.408 0 0 0 92.078 0l25.723-205.742A72.315 72.315 0 0 0 512 307.2z"/></svg>'},{}],"4nTtS":[function(n,r,i){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="m571.733 512 268.8-268.8c17.067-17.067 17.067-42.667 0-59.733-17.066-17.067-42.666-17.067-59.733 0L512 452.267l-268.8-268.8c-17.067-17.067-42.667-17.067-59.733 0-17.067 17.066-17.067 42.666 0 59.733l268.8 268.8-268.8 268.8c-17.067 17.067-17.067 42.667 0 59.733 8.533 8.534 19.2 12.8 29.866 12.8s21.334-4.266 29.867-12.8l268.8-268.8 268.8 268.8c8.533 8.534 19.2 12.8 29.867 12.8s21.333-4.266 29.866-12.8c17.067-17.066 17.067-42.666 0-59.733L571.733 512z"/></svg>'},{}],cDPXC:[function(n,r,i){r.exports='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="M16 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h3v-2H3V3h12v8h-2v2h3a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1Z"/><path d="M4 17h10l-5-6z"/></g></svg>'},{}],"3eYNH":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("./flip"),a=s.interopDefault(o),l=n("./aspectRatio"),c=s.interopDefault(l),u=n("./playbackRate"),d=s.interopDefault(u),f=n("./subtitleOffset"),h=s.interopDefault(f),p=n("../utils/component"),m=s.interopDefault(p),y=n("../utils");class v extends m.default{constructor(x){super(x);let{option:S,controls:T,template:{$setting:C}}=x;this.name="setting",this.$parent=C,this.id=0,this.active=null,this.cache=new Map,this.option=[...this.builtin,...S.settings],S.setting&&(this.format(),this.render(),x.on("blur",()=>{this.show&&(this.show=!1,this.render())}),x.on("focus",E=>{let k=(0,y.includeFromEvent)(E,T.setting),A=(0,y.includeFromEvent)(E,this.$parent);!this.show||k||A||(this.show=!1,this.render())}),x.on("resize",()=>this.resize()))}get builtin(){let x=[],{option:S}=this.art;return S.playbackRate&&x.push((0,d.default)(this.art)),S.aspectRatio&&x.push((0,c.default)(this.art)),S.flip&&x.push((0,a.default)(this.art)),S.subtitleOffset&&x.push((0,h.default)(this.art)),x}traverse(x,S=this.option){var T;for(let C=0;C<S.length;C++){let E=S[C];x(E),(T=E.selector)!=null&&T.length&&this.traverse.call(this,x,E.selector)}}check(x){x.$parent.tooltip=x.html,this.traverse(S=>{S.default=S===x,S.default&&S.$item&&(0,y.inverseClass)(S.$item,"art-current")},x.$option),this.render(x.$parents)}format(x=this.option,S,T,C=[]){for(let E=0;E<x.length;E++){let k=x[E];if(k!=null&&k.name?((0,y.errorHandle)(!C.includes(k.name),`The [${k.name}] is already exist in [setting]`),C.push(k.name)):k.name=`setting-${this.id++}`,!k.$formatted){(0,y.def)(k,"$parent",{get:()=>S}),(0,y.def)(k,"$parents",{get:()=>T}),(0,y.def)(k,"$option",{get:()=>x});let A=[];(0,y.def)(k,"$events",{get:()=>A}),(0,y.def)(k,"$formatted",{get:()=>!0})}this.format(k.selector||[],k,x,C)}this.option=x}find(x=""){let S=null;return this.traverse(T=>{T.name===x&&(S=T)}),S}resize(){var k,A;let{controls:x,constructor:{SETTING_WIDTH:S,SETTING_ITEM_HEIGHT:T},template:{$player:C,$setting:E}}=this.art;if(x.setting&&this.show){let R=((A=(k=this.active[0])==null?void 0:k.$parent)==null?void 0:A.width)||S,{left:L,width:D}=(0,y.getRect)(x.setting),{left:P,width:M}=(0,y.getRect)(C),j=L-P+D/2-R/2,F=this.active===this.option?this.active.length*T:(this.active.length+1)*T;(0,y.setStyle)(E,"height",`${F}px`),(0,y.setStyle)(E,"width",`${R}px`),j+R>M?((0,y.setStyle)(E,"left",null),(0,y.setStyle)(E,"right",null)):((0,y.setStyle)(E,"left",`${j}px`),(0,y.setStyle)(E,"right","auto"))}}inactivate(x){for(let S=0;S<x.$events.length;S++)this.art.events.remove(x.$events[S]);x.$events.length=0}remove(x){let S=this.find(x);(0,y.errorHandle)(S,`Can't find [${x}] in the [setting]`);let T=S.$option.indexOf(S);S.$option.splice(T,1),this.inactivate(S),S.$item&&(0,y.remove)(S.$item),this.render()}update(x){let S=this.find(x.name);return S?(this.inactivate(S),Object.assign(S,x),this.format(),this.creatItem(S,!0),this.render(),S):this.add(x)}add(x,S=this.option){return S.push(x),this.format(),this.creatItem(x),this.render(),x}creatHeader(x){if(!this.cache.has(x.$option))return;let S=this.cache.get(x.$option),{proxy:T,icons:{arrowLeft:C},constructor:{SETTING_ITEM_HEIGHT:E}}=this.art,k=(0,y.createElement)("div");(0,y.setStyle)(k,"height",`${E}px`),(0,y.addClass)(k,"art-setting-item"),(0,y.addClass)(k,"art-setting-item-back");let A=(0,y.append)(k,'<div class="art-setting-item-left"></div>'),R=(0,y.createElement)("div");(0,y.addClass)(R,"art-setting-item-left-icon"),(0,y.append)(R,C),(0,y.append)(A,R),(0,y.append)(A,x.$parent.html);let L=T(k,"click",()=>this.render(x.$parents));x.$parent.$events.push(L),(0,y.append)(S,k)}creatItem(x,S=!1){var O,B;if(!this.cache.has(x.$option))return;let T=this.cache.get(x.$option),C=x.$item,E="selector";(0,y.has)(x,"switch")&&(E="switch"),(0,y.has)(x,"range")&&(E="range");let{icons:k,proxy:A,constructor:R}=this.art,L=(0,y.createElement)("div");(0,y.addClass)(L,"art-setting-item"),(0,y.setStyle)(L,"height",`${R.SETTING_ITEM_HEIGHT}px`),L.dataset.name=x.name||"",L.dataset.value=x.value||"";let D=(0,y.append)(L,'<div class="art-setting-item-left"></div>'),P=(0,y.append)(L,'<div class="art-setting-item-right"></div>'),M=(0,y.createElement)("div");switch((0,y.addClass)(M,"art-setting-item-left-icon"),E){case"switch":case"range":(0,y.append)(M,x.icon||k.config);break;case"selector":(O=x.selector)!=null&&O.length?(0,y.append)(M,x.icon||k.config):(0,y.append)(M,k.check)}(0,y.append)(D,M),(0,y.def)(x,"$icon",{configurable:!0,get:()=>M}),(0,y.def)(x,"icon",{configurable:!0,get:()=>M.innerHTML,set(I){M.innerHTML="",(0,y.append)(M,I)}});let j=(0,y.createElement)("div");(0,y.addClass)(j,"art-setting-item-left-text"),(0,y.append)(j,x.html||""),(0,y.append)(D,j),(0,y.def)(x,"$html",{configurable:!0,get:()=>j}),(0,y.def)(x,"html",{configurable:!0,get:()=>j.innerHTML,set(I){j.innerHTML="",(0,y.append)(j,I)}});let F=(0,y.createElement)("div");switch((0,y.addClass)(F,"art-setting-item-right-tooltip"),(0,y.append)(F,x.tooltip||""),(0,y.append)(P,F),(0,y.def)(x,"$tooltip",{configurable:!0,get:()=>F}),(0,y.def)(x,"tooltip",{configurable:!0,get:()=>F.innerHTML,set(I){F.innerHTML="",(0,y.append)(F,I)}}),E){case"switch":{let I=(0,y.createElement)("div");(0,y.addClass)(I,"art-setting-item-right-icon");let $=(0,y.append)(I,k.switchOn),G=(0,y.append)(I,k.switchOff);(0,y.setStyle)(x.switch?G:$,"display","none"),(0,y.append)(P,I),(0,y.def)(x,"$switch",{configurable:!0,get:()=>I});let Y=x.switch;(0,y.def)(x,"switch",{configurable:!0,get:()=>Y,set(q){Y=q,q?((0,y.setStyle)(G,"display","none"),(0,y.setStyle)($,"display",null)):((0,y.setStyle)(G,"display",null),(0,y.setStyle)($,"display","none"))}});break}case"range":{let I=(0,y.createElement)("div");(0,y.addClass)(I,"art-setting-item-right-icon");let $=(0,y.append)(I,'<input type="range">');$.value=x.range[0],$.min=x.range[1],$.max=x.range[2],$.step=x.range[3],(0,y.addClass)($,"art-setting-range"),(0,y.append)(P,I),(0,y.def)(x,"$range",{configurable:!0,get:()=>$});let G=[...x.range];(0,y.def)(x,"range",{configurable:!0,get:()=>G,set(Y){G=[...Y],$.value=Y[0],$.min=Y[1],$.max=Y[2],$.step=Y[3]}})}break;case"selector":if((B=x.selector)!=null&&B.length){let I=(0,y.createElement)("div");(0,y.addClass)(I,"art-setting-item-right-icon"),(0,y.append)(I,k.arrowRight),(0,y.append)(P,I)}}switch(E){case"switch":if(x.onSwitch){let I=A(L,"click",async $=>{x.switch=await x.onSwitch.call(this.art,x,L,$)});x.$events.push(I)}break;case"range":if(x.$range){if(x.onRange){let I=A(x.$range,"change",async $=>{x.range[0]=x.$range.valueAsNumber,x.tooltip=await x.onRange.call(this.art,x,L,$)});x.$events.push(I)}if(x.onChange){let I=A(x.$range,"input",async $=>{x.range[0]=x.$range.valueAsNumber,x.tooltip=await x.onChange.call(this.art,x,L,$)});x.$events.push(I)}}break;case"selector":{let I=A(L,"click",async $=>{var G;(G=x.selector)!=null&&G.length?this.render(x.selector):(this.check(x),x.$parent.onSelect&&(x.$parent.tooltip=await x.$parent.onSelect.call(this.art,x,L,$)))});x.$events.push(I),x.default&&(0,y.addClass)(L,"art-current")}}(0,y.def)(x,"$item",{configurable:!0,get:()=>L}),S?(0,y.replaceElement)(L,C):(0,y.append)(T,L),x.mounted&&setTimeout(()=>x.mounted.call(this.art,x.$item,x),0)}render(x=this.option){var S;if(this.active=x,this.cache.has(x)){let T=this.cache.get(x);(0,y.inverseClass)(T,"art-current")}else{let T=(0,y.createElement)("div");this.cache.set(x,T),(0,y.addClass)(T,"art-setting-panel"),(0,y.append)(this.$parent,T),(0,y.inverseClass)(T,"art-current"),(S=x[0])!=null&&S.$parent&&this.creatHeader(x[0]);for(let C=0;C<x.length;C++)this.creatItem(x[C])}this.resize()}}i.default=v},{"./flip":"kONUB","./aspectRatio":"84NBV","./playbackRate":"aetWt","./subtitleOffset":"fIBkO","../utils/component":"18nVI","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kONUB:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{i18n:c,icons:u,constructor:{SETTING_ITEM_WIDTH:d,FLIP:f}}=l;function h(m){return c.get((0,o.capitalize)(m))}function p(){let m=l.setting.find(`flip-${l.flip}`);l.setting.check(m)}return{width:d,name:"flip",html:c.get("Video Flip"),tooltip:h(l.flip),icon:u.flip,selector:f.map(m=>({value:m,name:`flip-${m}`,default:m===l.flip,html:h(m)})),onSelect:m=>(l.flip=m.value,m.html),mounted:()=>{p(),l.on("flip",()=>p())}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"84NBV":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a){let{i18n:l,icons:c,constructor:{SETTING_ITEM_WIDTH:u,ASPECT_RATIO:d}}=a;function f(p){return p==="default"?l.get("Default"):p}function h(){let p=a.setting.find(`aspect-ratio-${a.aspectRatio}`);a.setting.check(p)}return{width:u,name:"aspect-ratio",html:l.get("Aspect Ratio"),icon:c.aspectRatio,tooltip:f(a.aspectRatio),selector:d.map(p=>({value:p,name:`aspect-ratio-${p}`,default:p===a.aspectRatio,html:f(p)})),onSelect:p=>(a.aspectRatio=p.value,p.html),mounted:()=>{h(),a.on("aspectRatio",()=>h())}}}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],aetWt:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a){let{i18n:l,icons:c,constructor:{SETTING_ITEM_WIDTH:u,PLAYBACK_RATE:d}}=a;function f(p){return p===1?l.get("Normal"):p.toFixed(1)}function h(){let p=a.setting.find(`playback-rate-${a.playbackRate}`);a.setting.check(p)}return{width:u,name:"playback-rate",html:l.get("Play Speed"),tooltip:f(a.playbackRate),icon:c.playbackRate,selector:d.map(p=>({value:p,name:`playback-rate-${p}`,default:p===a.playbackRate,html:f(p)})),onSelect:p=>(a.playbackRate=p.value,p.html),mounted:()=>{h(),a.on("video:ratechange",()=>h())}}}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fIBkO:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");function o(a){let{i18n:l,icons:c,constructor:u}=a;return{width:u.SETTING_ITEM_WIDTH,name:"subtitle-offset",html:l.get("Subtitle Offset"),icon:c.subtitle,tooltip:"0s",range:[0,-10,10,.1],onChange:d=>(a.subtitleOffset=d.range[0],d.range[0]+"s"),mounted:(d,f)=>{a.on("subtitleOffset",h=>{f.$range.value=h,f.tooltip=h+"s"})}}}s.defineInteropFlag(i),s.export(i,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2aaJe":[function(n,r,i){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i),i.default=class{constructor(){this.name="artplayer_settings",this.settings={}}get(s){try{let o=JSON.parse(window.localStorage.getItem(this.name))||{};return s?o[s]:o}catch{return s?this.settings[s]:this.settings}}set(s,o){try{let a=Object.assign({},this.get(),{[s]:o});window.localStorage.setItem(this.name,JSON.stringify(a))}catch{this.settings[s]=o}}del(s){try{let o=this.get();delete o[s],window.localStorage.setItem(this.name,JSON.stringify(o))}catch{delete this.settings[s]}}clear(){try{window.localStorage.removeItem(this.name)}catch{this.settings={}}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8MTUM":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i);var o=n("../utils"),a=n("./miniProgressBar"),l=s.interopDefault(a),c=n("./autoOrientation"),u=s.interopDefault(c),d=n("./autoPlayback"),f=s.interopDefault(d),h=n("./fastForward"),p=s.interopDefault(h),m=n("./lock"),y=s.interopDefault(m);i.default=class{constructor(v){this.art=v,this.id=0;let{option:b}=v;b.miniProgressBar&&!b.isLive&&this.add(l.default),b.lock&&o.isMobile&&this.add(y.default),b.autoPlayback&&!b.isLive&&this.add(f.default),b.autoOrientation&&o.isMobile&&this.add(u.default),b.fastForward&&o.isMobile&&!b.isLive&&this.add(p.default);for(let x=0;x<b.plugins.length;x++)this.add(b.plugins[x])}add(v){this.id+=1;let b=v.call(this.art,this.art);return b instanceof Promise?b.then(x=>this.next(v,x)):this.next(v,b)}next(v,b){let x=b&&b.name||v.name||`plugin${this.id}`;return(0,o.errorHandle)(!(0,o.has)(this,x),`Cannot add a plugin that already has the same name: ${x}`),(0,o.def)(this,x,{value:b}),this}}},{"../utils":"71aH7","./miniProgressBar":"87pSL","./autoOrientation":"ePEg5","./autoPlayback":"cVO99","./fastForward":"hFDwt","./lock":"1hsTH","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"87pSL":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){return l.on("control",c=>{c?(0,o.removeClass)(l.template.$player,"art-mini-progress-bar"):(0,o.addClass)(l.template.$player,"art-mini-progress-bar")}),{name:"mini-progress-bar"}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ePEg5:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{constructor:c,template:{$player:u,$video:d}}=l;return l.on("fullscreenWeb",f=>{if(f){let{videoWidth:h,videoHeight:p}=d,{clientWidth:m,clientHeight:y}=document.documentElement;(h>p&&m<y||h<p&&m>y)&&setTimeout(()=>{(0,o.setStyle)(u,"width",`${y}px`),(0,o.setStyle)(u,"height",`${m}px`),(0,o.setStyle)(u,"transform-origin","0 0"),(0,o.setStyle)(u,"transform",`rotate(90deg) translate(0, -${m}px)`),(0,o.addClass)(u,"art-auto-orientation"),l.isRotate=!0,l.emit("resize")},c.AUTO_ORIENTATION_TIME)}else(0,o.hasClass)(u,"art-auto-orientation")&&((0,o.removeClass)(u,"art-auto-orientation"),l.isRotate=!1,l.emit("resize"))}),l.on("fullscreen",async f=>{var p;if(!((p=screen==null?void 0:screen.orientation)!=null&&p.lock))return;let h=screen.orientation.type;if(f){let{videoWidth:m,videoHeight:y}=d,{clientWidth:v,clientHeight:b}=document.documentElement;if(m>y&&v<b||m<y&&v>b){let x=h.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(x),(0,o.addClass)(u,"art-auto-orientation-fullscreen")}}else(0,o.hasClass)(u,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock(h),(0,o.removeClass)(u,"art-auto-orientation-fullscreen"))}),{name:"autoOrientation",get state(){return(0,o.hasClass)(u,"art-auto-orientation")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cVO99:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{i18n:c,icons:u,storage:d,constructor:f,proxy:h,template:{$poster:p}}=l,m=l.layers.add({name:"auto-playback",html:'<div class="art-auto-playback-close"></div><div class="art-auto-playback-last"></div><div class="art-auto-playback-jump"></div>'}),y=(0,o.query)(".art-auto-playback-last",m),v=(0,o.query)(".art-auto-playback-jump",m),b=(0,o.query)(".art-auto-playback-close",m);(0,o.append)(b,u.close);let x=null;function S(){let T=(d.get("times")||{})[l.option.id||l.option.url];clearTimeout(x),(0,o.setStyle)(m,"display","none"),T&&T>=f.AUTO_PLAYBACK_MIN&&((0,o.setStyle)(m,"display","flex"),y.innerText=`${c.get("Last Seen")} ${(0,o.secondToTime)(T)}`,v.innerText=c.get("Jump Play"),h(b,"click",()=>{(0,o.setStyle)(m,"display","none")}),h(v,"click",()=>{l.seek=T,l.play(),(0,o.setStyle)(p,"display","none"),(0,o.setStyle)(m,"display","none")}),l.once("video:timeupdate",()=>{x=setTimeout(()=>{(0,o.setStyle)(m,"display","none")},f.AUTO_PLAYBACK_TIMEOUT)}))}return l.on("video:timeupdate",()=>{if(l.playing){let T=d.get("times")||{},C=Object.keys(T);C.length>f.AUTO_PLAYBACK_MAX&&delete T[C[0]],T[l.option.id||l.option.url]=l.currentTime,d.set("times",T)}}),l.on("ready",S),l.on("restart",S),{name:"auto-playback",get times(){return d.get("times")||{}},clear:()=>d.del("times"),delete(T){let C=d.get("times")||{};return delete C[T],d.set("times",C),C}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hFDwt:[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{constructor:c,proxy:u,template:{$player:d,$video:f}}=l,h=null,p=!1,m=1,y=()=>{clearTimeout(h),p&&(p=!1,l.playbackRate=m,(0,o.removeClass)(d,"art-fast-forward"))};return u(f,"touchstart",v=>{v.touches.length===1&&l.playing&&!l.isLock&&(h=setTimeout(()=>{p=!0,m=l.playbackRate,l.playbackRate=c.FAST_FORWARD_VALUE,(0,o.addClass)(d,"art-fast-forward")},c.FAST_FORWARD_TIME))}),u(document,"touchmove",y),u(document,"touchend",y),{name:"fastForward",get state(){return(0,o.hasClass)(d,"art-fast-forward")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1hsTH":[function(n,r,i){var s=n("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"default",()=>a);var o=n("../utils");function a(l){let{layers:c,icons:u,template:{$player:d}}=l;function f(){return(0,o.hasClass)(d,"art-lock")}function h(){(0,o.addClass)(d,"art-lock"),l.isLock=!0,l.emit("lock",!0)}function p(){(0,o.removeClass)(d,"art-lock"),l.isLock=!1,l.emit("lock",!1)}return c.add({name:"lock",mounted(m){let y=(0,o.append)(m,u.lock),v=(0,o.append)(m,u.unlock);(0,o.setStyle)(y,"display","none"),l.on("lock",b=>{b?((0,o.setStyle)(y,"display","inline-flex"),(0,o.setStyle)(v,"display","none")):((0,o.setStyle)(y,"display","none"),(0,o.setStyle)(v,"display","inline-flex"))})},click(){f()?p():h()}}),{name:"lock",get state(){return f()},set state(m){m?h():p()}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["5lTcX"],"5lTcX","parcelRequire4dc0")})(Qg,Qg.exports);var Rme=Qg.exports;const Q_=xu(Rme),qF=({videourl:t,extension:e,canDownload:n})=>{const r=w.useRef(null),i=()=>{const s=document.createElement("a");s.href=t,s.download=t.split("/").pop(),document.body.appendChild(s),s.click(),document.body.removeChild(s)};return w.useEffect(()=>{if(r.current){Q_.CONTEXTMENU=!1;const s=new Q_({container:r.current,url:t,volume:.5,type:e||"mp4",isLive:!1,muted:!1,fastForward:!0,autoplay:!0,pip:!0,autoMini:!0,screenshot:!1,setting:!0,loop:!0,flip:!0,playbackRate:!0,autoOrientation:!0,aspectRatio:!0,fullscreen:!0,fullscreenWeb:!0,subtitleOffset:!0,miniProgressBar:!0,mutex:!0,backdrop:!0,playsInline:!0,autoPlayback:!0,airplay:!0,theme:"red",lang:navigator.language.toLowerCase(),moreVideoAttr:{crossOrigin:"anonymous"},contextmenu:[{html:"Custom menu",click:function(o){console.info("You clicked on the custom menu"),o.show=!1}}],quality:[{default:!0,html:"SD 480P",url:t+"?q=480"},{html:"HD 720P",url:t+"?q=720"}],controls:n?[{position:"right",html:'<img width="22" heigth="22" src="https://i.ibb.co/f9LTmnn/downbutton.webp">',tooltip:"download",style:{color:"green"},click:function(){i()}}]:[]});return()=>{s.destroy()}}},[t,e]),g.jsx(se,{ref:r,style:{width:"100%",aspectRatio:"16/9",background:"black",borderRadius:"15px",position:"relative",overflow:"hidden"}})},_me=()=>{var Y;const{id:t,tmdb:e}=nw(),{checkIfInTaste:n,updateTaste:r,user:i,getByTmdbOrImagePath:s,streamingserverurl:o}=It(),a=Eh(),l=ua(),c=new URLSearchParams(l.search),u=decodeURIComponent(c.get("imgPath")),[d,f]=w.useState({}),[h,p]=w.useState(!0),[m,y]=w.useState(!1),[v,b]=w.useState(!1),[x,S]=w.useState([]),[T,C]=w.useState(!1),[E,k]=w.useState(null),[A,R]=w.useState(""),{createDownloadTransactionSingle:L}=Mu(),D=ue("rgba(255,255,255,0.88)","rgba(0,0,0,0.88)"),P=ue("white","gray.800"),M=ue("gray.700","gray.200"),j=ue("yellow.600","yellow.400"),[F,O]=w.useState(void 0);w.useLayoutEffect(()=>{var te,ae,le,Te;const q={username:(ae=(te=i==null?void 0:i.StreamingAccess)==null?void 0:te.username)!=null&&ae.trim()?i.StreamingAccess.username:null,password:(Te=(le=i==null?void 0:i.StreamingAccess)==null?void 0:le.username)!=null&&Te.trim()?i.StreamingAccess.password:null};O(q)},[i]),w.useEffect(()=>{(async()=>{p(!0);try{const[te]=await Promise.all([Y3("movie",e),q3("movie",e)]);if(f(te),i){const ae=await n(t,"movie"),le=!!i.downloads.find(Fe=>Fe.movieId===t);C(le),y(ae);const Te=await s(e,u,"movie");S(Te)}}catch(te){console.log(te)}finally{p(!1)}})()},[t,i,n,s]);const B=async()=>{if(!i){a({title:"Connectez-vous pour ajouter à la liste des goûts",status:"error",isClosable:!0});return}await r(t,null,!0),y(!0),a({title:"Ajouté à la liste des goûts",status:"success",isClosable:!0})},I=async()=>{await r(t,null,!1),y(!1),a({title:"Retiré de la liste des goûts",status:"info",isClosable:!0})};if(h)return g.jsx(de,{justify:"center",align:"center",height:"100vh",bg:P,children:g.jsx(Mn,{size:"xl",color:"red.500"})});const $=(d==null?void 0:d.title)||(d==null?void 0:d.name),G=(d==null?void 0:d.release_date)||(d==null?void 0:d.first_air_date);return g.jsxs(se,{bg:"transparent",color:M,w:"100%",minH:"100vh",children:[g.jsx(se,{background:`linear-gradient(${D}, ${D}), url(${_1}/${d==null?void 0:d.backdrop_path})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:"0",left:"0",w:"100%",h:"100%",zIndex:-1}),g.jsxs(go,{maxW:"container.xl",p:{base:4,md:8},children:[g.jsxs(de,{alignItems:"center",gap:6,flexDirection:{base:"column",md:"row"},overflow:"hidden",children:[g.jsx(Ci,{height:{base:"300px",md:"450px"},width:"auto",borderRadius:"sm",src:u,alt:$}),g.jsxs(se,{flex:"1",width:"100%",children:[g.jsxs(on,{fontSize:{base:"2xl",md:"3xl"},mb:2,children:[$," ",g.jsx(H,{as:"span",fontWeight:"normal",color:j,children:new Date(G).getFullYear()})]}),g.jsxs(de,{alignItems:"center",gap:"4",mt:1,mb:5,children:[g.jsx(U3,{mr:2,color:j}),g.jsxs(H,{fontSize:"sm",children:[new Date(G).toLocaleDateString("fr-FR")," (FR)"]}),g.jsx(V3,{mr:2,color:j}),g.jsx(H,{fontSize:"sm",children:GF(d==null?void 0:d.runtime)})]}),g.jsxs(de,{gap:"4",alignItems:"center",children:[g.jsx(yT,{value:Xg(d==null?void 0:d.vote_average),size:"70px",color:KF(d==null?void 0:d.vote_average),thickness:"6px",children:g.jsxs(vT,{fontSize:"lg",children:[Xg(d==null?void 0:d.vote_average),"%"]})}),g.jsx(H,{display:{base:"none",lg:"initial"},children:"Note des utilisateurs"}),m?g.jsx(he,{leftIcon:g.jsx(du,{}),colorScheme:"green",variant:"outline",onClick:I,children:"Dans MyList"}):g.jsx(he,{leftIcon:g.jsx(z3,{}),variant:"outline",onClick:B,children:"Ma Liste"}),T?g.jsx(he,{leftIcon:g.jsx(du,{}),colorScheme:"green",variant:"outline",onClick:I,children:"Telecharger"}):g.jsx(YF,{sid:null,id:t,createDownloadTransactionSingle:L})]}),g.jsx(H,{color:j,fontSize:"sm",fontStyle:"italic",my:"5",children:d==null?void 0:d.tagline}),g.jsx(on,{fontSize:"xl",mb:"3",children:"Résumé"}),g.jsx(H,{fontSize:"md",mb:"3",children:d==null?void 0:d.overview}),g.jsx(de,{mt:"6",gap:"2",wrap:"wrap",children:(Y=d==null?void 0:d.genres)==null?void 0:Y.map(q=>g.jsx(Ei,{p:"1",bg:j,color:"white",children:q==null?void 0:q.name},q==null?void 0:q.id))})]})]}),F&&(F==null?void 0:F.username)&&(F==null?void 0:F.password)&&g.jsxs(se,{width:"100%",mt:6,children:[g.jsx(he,{width:"100%",colorScheme:"red",onClick:()=>b(!v),children:v?"Cacher Options":"Regarder"}),g.jsx(iu,{in:v,animateOpacity:!0,children:g.jsx(Ue,{align:"stretch",mt:4,children:x==null?void 0:x.map((q,te)=>g.jsxs(he,{value:q.id,width:"100%",colorScheme:A===q.id?"blue":"gray",onClick:()=>{k(q),R(q.id)},children:["Regarder ",te+1," ",q.name," ",q.extension]},te))})})]})]}),E&&g.jsxs(Ru,{isOpen:!!E,onClose:()=>k(null),closeOnOverlayClick:!1,children:[g.jsx(Iu,{backdropFilter:"blur(5px)"}),g.jsxs(wh,{maxW:"90vw",maxH:"90vh",bg:"transparent",margin:"auto",children:[g.jsx(Lu,{top:"10px",right:"10px",color:"white",zIndex:11,bg:"rgba(0,0,0,0.5)",_hover:{bg:"rgba(0, 0, 0, 0.7)"},borderRadius:"full"}),g.jsx(_u,{p:0,children:E.extension!="ts"&&g.jsx(qF,{canDownload:T,videourl:`${o}/movie/${i.StreamingAccess.username}/${i.StreamingAccess.password}/${E.indexer}.${E.extension}`,extension:E.extension})})]})]})]})},Lme=()=>{var $,G;const{id:t,tmdb:e}=nw(),{checkIfInTaste:n,updateTaste:r,user:i,getByTmdbOrImagePath:s}=It(),o=Eh(),a=ua(),l=new URLSearchParams(a.search),c=decodeURIComponent(l.get("imgPath")),[u,d]=w.useState({}),[f,h]=w.useState(!0),[p,m]=w.useState(!1),[y,v]=w.useState(""),[b,x]=w.useState(!1),{createDownloadTransactionSingle:S}=Mu(),[T,C]=w.useState([]),[E,k]=w.useState(null),A=ue("gray.800","white"),R=ue("yellow.600","yellow.400"),L=ue("rgba(255,255,255,0.88)","rgba(0,0,0,0.88)"),D=JSON.parse(localStorage.getItem("watchingData"))||{movies:[],series:[]},[P,M]=w.useState(D);w.useEffect(()=>{(async()=>{h(!0);try{const[q,te]=await Promise.all([Y3("tv",e),q3("tv",e)]);M(D),d(q);const ae=!!i.downloads.find(it=>it.SerieId===t);x(ae);const[le,Te]=await Promise.all([n(t,"series"),s(e,c,"series")]);m(le);const Fe=await Promise.all(Te.map(async it=>{try{return(await aoe(t)).episodes}catch(Me){return console.error(`Error fetching data for serie ${it.serieId}:`,Me),[]}}));let Qe=q.seasons.map((it,Me)=>{const De=parseInt(it.name.split(" ")[1]),bt=Fe.map(yn=>yn[De]||[]);return{...it,apiseasonall:bt}});Qe[0].name==="Épisodes spéciaux"&&(Qe=Qe.slice(1)),C(Qe),k(Qe[0])}catch(q){console.error("Error fetching episode details:",q)}finally{h(!1)}})()},[t,i,n,s,e]);const j=async()=>{if(!i){o({title:"Login to add to your list",status:"error",isClosable:!0});return}await r(null,t,!0),m(!0),o({title:"Added to your list",status:"success",isClosable:!0})},F=async()=>{await r(null,t,!1),m(!1),o({title:"Removed from your list",status:"info",isClosable:!0})},O=Y=>{const q=Y.target.value;k(T.find(te=>te.id==q))};if(f)return g.jsx(de,{justify:"center",align:"center",height:"100vh",children:g.jsx(Mn,{size:"xl",color:"red.500"})});const B=(u==null?void 0:u.name)||(u==null?void 0:u.title),I=(u==null?void 0:u.first_air_date)||(u==null?void 0:u.release_date);return g.jsxs(se,{color:A,w:"100%",h:"100vh",children:[g.jsx(se,{background:`linear-gradient(${L}, ${L}), url(${_1}/${u==null?void 0:u.backdrop_path})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:"0",left:"0",w:"100%",h:"100%",zIndex:-1}),g.jsxs(go,{maxW:"container.xl",pt:20,margin:1,children:[g.jsxs(de,{alignItems:"center",gap:"10",flexDirection:{base:"column",lg:"row"},children:[g.jsx(Ci,{height:"450px",borderRadius:"sm",src:`${_1}/${u==null?void 0:u.poster_path}`,alt:B}),g.jsxs(se,{children:[g.jsxs(on,{fontSize:"3xl",mb:2,children:[B," ",g.jsx(H,{as:"span",fontWeight:"normal",color:R,children:new Date(I).getFullYear()})]}),g.jsxs(de,{alignItems:"center",gap:"4",mt:1,mb:5,children:[g.jsx(U3,{mr:2,color:R}),g.jsxs(H,{fontSize:"sm",children:[new Date(I).toLocaleDateString("fr-FR")," (FR)"]}),g.jsx(V3,{mr:"2",color:R}),g.jsx(H,{fontSize:"sm",children:GF(($=u==null?void 0:u.episode_run_time)==null?void 0:$[0])})]}),g.jsx(yT,{value:Xg(u==null?void 0:u.vote_average),bg:"transparent",borderRadius:"full",p:"0.5",size:"70px",color:KF(u==null?void 0:u.vote_average),thickness:"6px",children:g.jsxs(vT,{fontSize:"lg",children:[Xg(u==null?void 0:u.vote_average)," ",g.jsx(se,{as:"span",fontSize:"10px",children:"%"})]})}),g.jsx(he,{leftIcon:p?g.jsx(du,{}):g.jsx(z3,{}),variant:"outline",onClick:p?F:j,colorScheme:p?"green":"gray",pr:10,pl:8,children:p?"Dans My List":"My List"}),b?g.jsx(he,{leftIcon:g.jsx(du,{}),colorScheme:"green",variant:"outline",onClick:F,children:"Telecharger"}):g.jsx(YF,{sid:t,id:null,createDownloadTransactionSingle:S}),g.jsx(on,{fontSize:"xl",mb:"3",children:"Résumé"}),g.jsx(H,{fontSize:"md",mb:"3",children:u==null?void 0:u.overview}),g.jsx(de,{mt:6,gap:2,flexWrap:"wrap",children:(G=u==null?void 0:u.genres)==null?void 0:G.map(Y=>g.jsx(Ei,{p:1,bg:R,color:"white",children:Y.name},Y.id))})]})]}),g.jsxs(de,{flexDirection:"column",alignItems:"flex-start",children:[g.jsx(se,{mb:4,children:g.jsxs(Ei,{colorScheme:"red",fontSize:"lg",children:[T.length," Seasons"]})}),g.jsx(ht,{children:g.jsx(Rr,{onChange:O,placeholder:"Choisir Saison",value:E,mb:4,bg:"red.600",_hover:{bg:"red.700"},color:"white",width:"100%",children:T.map(Y=>g.jsx("option",{value:Y.id,style:{color:"black"},width:"100%",children:Y.name},Y.id))})}),E&&g.jsx(Ue,{spacing:6,width:"100%",children:g.jsx(Ime,{season:E,seriesId:e,id:t,watchingData:P,isOpen:y,setIsOpen:v,isDownloaded:b})})]})]})]})},Ime=({season:t,seriesId:e,watchingData:n,isOpen:r,setIsOpen:i,id:s,isDownloaded:o})=>{const a=w.useMemo(()=>{var u;return(u=n==null?void 0:n.series.find(d=>d.tmdb===e))==null?void 0:u.season.find(d=>d.seasonNum===t.season_number)},[n,e,t]),[l,c]=w.useState([]);return w.useEffect(()=>{if(!t||!t.apiseasonall)return;const u=parseInt(t.episode_count),f=Array.from({length:u},(h,p)=>{const m=[];return t.apiseasonall.forEach(y=>{y!=null&&y[p]&&m.push(y[p])}),m}).filter(h=>h.length>0).map(h=>{const p=new Map;return h.forEach(m=>{p.has(m.id)||p.set(m.id,m)}),Array.from(p.values())});c(f)},[t]),g.jsxs(se,{w:"100%",border:"1px solid",borderColor:"gray.200",p:4,borderRadius:"md",children:[g.jsx(H,{fontSize:"xl",color:"red.500",children:t.name}),g.jsxs(Ue,{spacing:3,align:"start",children:[g.jsxs(H,{fontWeight:"bold",fontSize:"md",color:"gray.500",children:[t.episode_count," Episodes"]}),Array.from({length:t.episode_count}).map((u,d)=>{var h;const f=(h=a==null?void 0:a.episodes)==null?void 0:h.find(p=>p.episodeNum===d+1);return g.jsx(Pme,{seriesId:e,seasonNumber:t.season_number,episodeNumber:d+1,watchingData:f,episodes:l[d],isOpen:r,setIsOpen:i,id:s,isDownloaded:o},d)})]})]})},Pme=({seriesId:t,seasonNumber:e,episodeNumber:n,watchingData:r,episodes:i,isOpen:s,setIsOpen:o,id:a,isDownloaded:l})=>{const[c,u]=w.useState(null),[d,f]=w.useState(!0),[h,p]=w.useState(null),[m,y]=w.useState(""),[v,b]=w.useState(void 0),{streamingserverurl:x,user:S}=It();w.useLayoutEffect(()=>{var D,P,M,j;const L={username:(P=(D=S==null?void 0:S.StreamingAccess)==null?void 0:D.username)!=null&&P.trim()?S.StreamingAccess.username:null,password:(j=(M=S==null?void 0:S.StreamingAccess)==null?void 0:M.username)!=null&&j.trim()?S.StreamingAccess.password:null};b(L)},[S]),w.useEffect(()=>{(async()=>{f(!0);try{const D=await coe(t,e,n);u(D)}catch(D){console.error(D)}finally{f(!1)}})()},[t,e,n]);const C=(r==null?void 0:r.isFinished)?100:Math.min((r==null?void 0:r.watchingTimeInMin)/(r==null?void 0:r.totalTime)*100,100),E=ue("gray.100","black"),k=ue("black","white"),A=ue("gray.300","gray.500"),R=ue("white","gray.600");return d?g.jsx(de,{justify:"center",align:"center",width:"100%",children:g.jsx(Mn,{size:"sm",color:"red.500"})}):v&&(v!=null&&v.username)&&(v!=null&&v.password)?g.jsxs(se,{width:"100%",mt:2,p:2,border:"1px solid",borderColor:A,sx:{overflowY:"auto",overscrollBehavior:"none"},borderRadius:"md",boxShadow:"md",_hover:{transform:"scale(1.05)",transition:"transform 0.2s",bg:R},display:"flex",flexDirection:{base:"column",md:"column"},bg:E,color:k,position:"relative",onClick:()=>o(t+e+n),onMouseEnter:()=>o(t+e+n),onMouseLeave:()=>o(null),children:[g.jsxs(Ue,{align:"start",spacing:1,wordBreak:"break-all",children:[g.jsx(Ci,{src:`https://image.tmdb.org/t/p/w500${c==null?void 0:c.still_path}`,alt:c==null?void 0:c.name,objectFit:"cover",height:{base:"80px",md:"150px"},width:{base:"160px",md:"350px"},borderRadius:"md"}),g.jsxs(H,{fontWeight:"bold",fontSize:{base:"md",lg:"lg"},color:"red.500",children:["Episode ",n]}),g.jsx(H,{fontSize:{base:"xs",md:"sm"},color:k,noOfLines:3,children:c==null?void 0:c.overview}),g.jsxs(H,{fontSize:"xs",color:"gray.600",children:["Air Date: ",c==null?void 0:c.air_date]})]}),g.jsx(se,{position:"absolute",bottom:"0",left:"0",width:`${C}%`,height:"4px",bg:"green.500",borderRadius:"md"}),g.jsx(iu,{in:s===t+e+n,animateOpacity:!0,children:g.jsx(Ue,{align:"stretch",width:"100%",mt:4,maxH:"50px",overflowY:"auto",sx:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#3182ce",borderRadius:"8px",border:"2px solid #fff"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:"#2b6cb0"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"8px"}},children:i==null?void 0:i.map((L,D)=>g.jsxs(he,{value:L.id,width:"100%",colorScheme:m===L.id?"blue":"gray",bg:m===L.id?"blue.500":"gray.100",color:m===L.id?"white":"black",_hover:{bg:m===L.id?"blue.600":"gray.200"},onClick:()=>{p(L),y(L.id)},children:["Regarder ",D+1," ",L.name," ",L.container_extension]},D))})}),h&&g.jsxs(Ru,{isOpen:!!h,onClose:()=>p(null),closeOnOverlayClick:!1,children:[g.jsx(Iu,{backdropFilter:"blur(5px)"}),g.jsxs(wh,{maxW:"90vw",maxH:"90vh",background:"transparent",margin:"auto",children:[g.jsx(Lu,{top:"10px",right:"10px",zIndex:11,color:"white",bg:"rgba(0, 0, 0, 0.5)",_hover:{bg:"rgba(0, 0, 0, 0.7)"},borderRadius:"full"}),g.jsx(_u,{p:0,children:h&&g.jsx(qF,{canDownload:l,videourl:`${x}/series/${S.StreamingAccess.username}/${S.StreamingAccess.password}/${h.id}.${h.container_extension}`,extension:h.container_extension})})]})]})]}):g.jsx(g.Fragment,{})},Dme=fB([{path:"/",element:g.jsx(toe,{}),children:[{path:"/",element:g.jsx(moe,{})},{path:"/movies",element:g.jsx(voe,{})},{path:"/shows",element:g.jsx(Soe,{})},{path:"/search",element:g.jsx(Eoe,{})},{path:"/movie/:id/:tmdb",element:g.jsx(_me,{})},{path:"/series/:id/:tmdb",element:g.jsx(Lme,{})},{path:"/channel",element:g.jsx(rde,{})},{path:"/channel/:id",element:g.jsx(Ame,{})},{path:"/deposit",element:g.jsx(Kue,{})},{path:"/admin",element:g.jsx(Gue,{})},{path:"/profile",element:g.jsx(Zue,{})},{path:"/transaction",element:g.jsx(Yue,{})},{path:"/subscribe",element:g.jsx(tde,{})},{path:"/admin/transaction",element:g.jsx(que,{})},{path:"*",element:g.jsx(v0,{to:"/"})}]},{path:"/login",element:g.jsx(koe,{})},{path:"/changepassword",element:g.jsx(Aoe,{})},{path:"/register",element:g.jsx(Roe,{})},{path:"register/agent-registration",element:g.jsx(_oe,{})},{path:"register/fast-registration",element:g.jsx(Ioe,{})},{path:"terms",element:g.jsx(Loe,{})}]);Lx.createRoot(document.getElementById("root")).render(g.jsx(wr.StrictMode,{children:g.jsx(iZ,{theme:ioe,children:g.jsx($3,{children:g.jsx(SB,{router:Dme})})})}));
